Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(c,b,a){var d=["body","p","div","ul","ol","li","table","thead","tbody","tr","th","td","h[1-6]","form","fieldset","dl","dd","blockquote","address","hr"];
var e=["article","aside","audio","canvas","details","figcaption","figure","footer","header","hgroup","nav","output","section","video"];
var f=new RegExp("^(?:"+d.concat(e).join("|")+")$","i");
var h={euro:"\u20ac",cent:"\u00a2",pound:"\u00a3",yen:"\u00a5",sect:"\u00a7",copy:"\u00a9",reg:"\u00ae",plusmn:"\u00b1",ne:"\u2260",asymp:"\u2248",le:"\u2264",ge:"\u2265",divide:"\u00f7",times:"\u00d7",iexcl:"\u00a1",curren:"\u00a4",brvbar:"\u00a6",uml:"\u00a8",ordf:"\u00aa",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",equiv:"\u2261",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",laquo:"\u00ab",not:"\u00ac",macr:"\u00af",deg:"\u00b0",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",Otilde:"\u00d5",Ouml:"\u00d6",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",fnof:"\u0192",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",bull:"\u2022",hellip:"\u2026",prime:"\u2032",Prime:"\u2033",oline:"\u203e",frasl:"\u2044",weierp:"\u2118",image:"\u2111",real:"\u211c",alefsym:"\u2135",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",lang:"\u2329",rang:"\u232a",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",permil:"\u2030",lsaquo:"\u2039",rsaquo:"\u203a",nbsp:"\u00a0",lt:"\u003c",gt:"\u003e"};
var g=Telerik.Web.Browser;
var i=b.Utils={setElementClassName:function(j,l){if(!j){return"";
}if(!l){j.className="";
j.removeAttribute("class",0);
j.removeAttribute("classname",0);
}else{var k=j.className;
j.className=l;
return k;
}},addElementsToSelection:function(k,j){if($telerik.isIE){b.Utils.selectElement(k,j[0]);
return 1;
}var m=k.getSelection();
var l=new b.Selection(k);
var n=l.getRange();
if(!n||!n.selectNodeContents){return -1;
}if(m.removeAllRanges){m.removeAllRanges();
}if(j.length>0){n.setStart(j[0],0);
n.setEnd(j[j.length-1],1);
}m.addRange(n);
return j.length;
},getFullySelectedElement:function(j){return $telerik.isIE&&!$telerik.isIE9Mode?b.Utils._getFullySelectedElementIE(j):b.Utils._getFullySelectedElementMoz(j);
},_isListFullySelected:function(j,l){if(j.tagName=="UL"||j.tagName=="OL"){var k=l.match(/<LI\/?>/gi);
if(k.length==j.getElementsByTagName("LI").length){return true;
}}return false;
},_getFullySelectedElementIE:function(j){var m=new b.Selection(j);
var s=m.getRange();
var r=(s.length>0?s.item(0):s.parentElement());
if(s.length>0){return r;
}else{if(r.tagName=="A"){var l=s.duplicate();
l.moveToElementText(r);
if(s.inRange(l)){return r;
}}else{if(b.Utils._isListFullySelected(r,m.getHtml())){return r;
}else{if(!s.htmlText){return null;
}}}}var u=s.duplicate();
var o=s.duplicate();
u.collapse(true);
o.collapse(false);
var t=u.parentElement();
if(t.parentNode==r){t=r;
}var n=o.parentElement();
if(t==n){var k=j.document;
var w=k.body.createTextRange();
w.moveToElementText(t);
var v=s.htmlText;
var x=false;
var q=t.outerHTML.replace(/[\r\n\t]/ig,"");
var p=t.innerHTML.replace(/[\r\n\t]/ig,"");
v=v.replace(/[\r\n\t]/ig,"");
if(q==v||p==v){x=true;
}if(x||(0==w.compareEndPoints("StartToStart",s)&&0==w.compareEndPoints("EndToEnd",s))){if("BODY"!=r.tagName){return r;
}}}},_getFullySelectedElementMoz:function(k){var m=k.document;
var o=k.getSelection();
if(o.rangeCount<1){return null;
}var q=o.getRangeAt(0);
var l=q.commonAncestorContainer;
var j=l.parentNode;
var n=new b.Selection(k);
if($telerik.isFirefox){var r=this._tryGetFullySelectedElementInFF(n);
if(r){return r;
}}if(l.tagName=="BODY"){var p=n.getParentElement();
if(p&&p.tagName!="BODY"){return p;
}}else{var s=m.createElement("span");
s.appendChild(q.cloneContents());
if(s.innerHTML==j.innerHTML&&j.tagName!="BODY"){return j;
}}if(b.Utils._isListFullySelected(l,n.getHtml())){return l;
}},_tryGetFullySelectedElementInFF:function(j){var k=a("<div>").html(j.getHtml()).contents();
if(k.length==1&&k.is(function(){return this.nodeType==1;
})){return j.getParentElement();
}else{return null;
}},_getCharactersCount:function(j){return j.length;
},_setCursor:function(j,l){var o=l.nodesTracker;
var n=o.isTracked(j.firstChild)?j.firstChild:o.createTrackedNode();
var m=b.DomRange.rangeFromWindow(l.get_contentWindow());
var k=j.parentNode;
k.insertBefore(n,j);
k.removeChild(j);
o.selectTrackedNode(m,n);
},_setCursorInTextNode:function(m,n,l,k){var j=b.DomRange.toDomRange(m);
j.setStart(n,l);
j.setEnd(n,k);
j.setStart(n,l);
if(l==k){j.collapse(!$telerik.isIE||$telerik.isIE9Mode);
}j.select();
},_setCursorAroundList:function(l,k,n,p){var m=n.get_document();
var j,q;
if($telerik.isFirefox){if(l.nextSibling&&l.nextSibling.nodeName=="BR"){a(l.nextSibling).remove();
}this._setCursor(l,n);
}else{if($telerik.isSafari||$telerik.isOpera){q=l.firstChild;
if($telerik.isSafari){j=m.createElement("br");
a(j).insertAfter(l);
a(l).remove();
var o=j.parentNode;
if(j.nextSibling&&j.nextSibling.nodeName=="BR"){a(j).remove();
}n.getSelection().moveToElementText(o);
}else{this.removeNode(l);
n.getSelection().moveToElementText(q);
q.nodeValue="";
}}else{j=m.createElement("br");
a(j).insertAfter(l);
q=m.createTextNode(" ");
a(q).insertBefore(j);
this._setCursorInTextNode(p,q,0,0);
a(j).remove();
}}a(l).remove();
},deleteContents:function(k,j){if(k.collapsed===false||!!k.text||(j.selection&&j.selection.type=="Control")){j.execCommand("delete",false,null);
return true;
}return false;
},scrollTo:function(o,n){if(n._shouldAutoResizeHeight()){return n._resizeContentArea();
}var j=n.get_contentArea(),k=i._getScrollElement(j),m=k.scrollTop,l=n.get_contentAreaElement().offsetHeight;
var r;
if(!i.canHaveChildren(o)){r=n.get_document().createElement("span");
r.innerHTML="&#8203;";
a(r).insertAfter(o);
o=r;
}var p=o.offsetHeight;
var q=o.offsetTop;
if(q+p>=m+l){k.scrollTop=q+p-l+2;
}if(r){r.parentNode.removeChild(r);
}},_getScrollElement:function(j){return(g.ie&&g.version<=9&&i.isTag(j,"body"))?j.ownerDocument.documentElement||j:j;
},cleanPastedContent:function(l,p,o,j,m){var k=l;
if(p==c.StripFormattingOptions.None){if(this.isPastedFromWord(l)){if(window.confirm(o)){l=b.Utils.convertWordLists(l);
k=b.Utils.stripFormatting(l,"WORD_NO_MARGINS");
}else{k=b.Utils.clearMSWordJunkContent(l);
}}}else{if(p&c.StripFormattingOptions.All){k=b.Utils.stripFormatting(l,"ALL");
}else{if(p&c.StripFormattingOptions.AllExceptNewLines){k=b.Utils.stripFormatting(l,"ALL_NO_BRAKES",m);
}else{if(p&c.StripFormattingOptions.ConvertWordLists){l=b.Utils.convertWordLists(l);
}var n=[];
if(p&c.StripFormattingOptions.MSWordRemoveAll){n.push("WORD_ALL");
}if(p&c.StripFormattingOptions.MSWordNoFonts){n.push("WORD_NO_FONTS");
}if(p&c.StripFormattingOptions.MSWordNoMargins){n.push("WORD_NO_MARGINS");
}if(p&c.StripFormattingOptions.MSWord){n.push("WORD");
}if(n.length>0){l=b.Utils.stripWordFormatting(l,n);
}if(p&c.StripFormattingOptions.Css){l=b.Utils.stripFormatting(l,"CSS");
}if(p&c.StripFormattingOptions.Font){l=b.Utils.stripFormatting(l,"FONT");
}if(p&c.StripFormattingOptions.Span){l=b.Utils.stripFormatting(l,"SPAN");
}k=l;
}}}if(null!=j&&false==j){k=b.Utils.stripFormatting(k,"SCRIPT");
}return k;
},isPastedFromWord:function(m){if(/<o:p><\/o:p>/i.test(m)||($telerik.isFirefox&&/<!--\[if gte mso /i.test(m)&&/<w:LsdException/i.test(m)&&/mso-[a-z]/i.test(m))){return true;
}var k=document.createElement("DIV");
k.innerHTML=m;
var j=k.getElementsByTagName?k.getElementsByTagName("*"):k.all;
for(var n=j.length-1;
n>=0;
n--){var l=j[n];
if(l.href||l.src||(l.nodeType==1&&!this.canHaveChildren(l))){continue;
}this.removeChildren(l);
if(/mso/i.test(this.getOuterHtml(l))){return true;
}}return false;
},isCursorMovingKey:function(j){if(j>=33&&j<=40){return true;
}return false;
},isSystemKey:function(j){return(j>=112&&j<=123)||(j>=8&&j<=27)||(j>=32&&j<=46)||(j==12)||(j==91)||(j==93)||(j==144)||(j==145)||(j==224);
},isTypingKey:function(j){if(j.ctrlKey||j.altKey||j.metaKey){return false;
}var k=j.keyCode;
if(k==27||(k>=112&&k<=123)||k==44||k==144||k==145||k==19||k==45||k==46||k==8||(k>=33&&k<=40)||k==20||k==13||(k>=16&&k<=18)||k==12||k==91||k==93||k==224){return false;
}return true;
},storeBrowserPosition:function(){var j=document.body;
var k=document.documentElement;
this._browserTop=j.scrollTop>k.scrollTop?j.scrollTop:k.scrollTop;
this._browserLeft=j.scrollLeft>k.scrollLeft?j.scrollTop:k.scrollLeft;
return{x:this._browserLeft,y:this._browserTop};
},restoreBrowserPosition:function(k,n){try{if(null==k){k=this._browserLeft;
}if(null==n){n=this._browserTop;
}var l=document.body;
var m=document.documentElement;
l.scrollTop=n;
l.scrollLeft=k;
m.scrollTop=n;
m.scrollLeft=k;
}catch(j){}},containsHtmlAtClipboard:function(j){var k=j&&j.clipboardData&&j.clipboardData.getData&&j.clipboardData.types&&j.clipboardData.types.length&&Telerik.Web.UI.Editor.Utils.containsElement(/text\/html/i,j.clipboardData.types);
return k;
},getPasteContainer:function(j){var k=j.ownerDocument||document,l=k.createElement("div");
j.appendChild(l);
l.className="telerik_paste_container";
this._setPasteContainerStyles(l);
if($telerik.isFirefox){l.appendChild(k.createTextNode("\u00a0"));
}else{if($telerik.isSafari){l.appendChild(k.createElement("br"));
}}return l;
},_setPasteContainerStyles:function(p){var q=p.style,k=p.ownerDocument||document;
q.borderWidth="0px";
q.position="absolute";
q.overflow="hidden";
q.margin="0";
q.padding="0";
var o=this._getCursorOffset(k);
q.left=$telerik.isFirefox?"-10000px":o.left+"px";
q.top=o.top+"px";
q.width=$telerik.isIE?"0px":"1px";
q.height=$telerik.isIE?"0px":"1px";
if($telerik.isIE){var l=k.documentElement,j=$telerik.getComputedStyle(l,"color"),m=$telerik.getComputedStyle(l,"fontFamily"),n=$telerik.getComputedStyle(l,"fontSize");
if(j){q.color=j;
}if(m){q.fontFamily=m;
}if(n){q.fontSize=n;
}q.fontVariant="normal";
q.fontWeight="normal";
q.lineSpacing="normal";
q.lineHeight="normal";
q.textDecoration="none";
}},_getCursorOffset:function(k){var o=this,l=b.DomRange.rangeFromWindow(k.defaultView||window);
var m=k.createElement("span");
m.appendChild(k.createTextNode("\u200b"));
if(l.collapsed){l.insertNode(m);
}else{var n=o.isEditorContentArea(l.startContainer)?l.startContainer.childNodes[l.startOffset]:l.startContainer;
n.parentNode.insertBefore(m,n);
}var j=$telerik.getBounds(m);
a(m).remove();
return{left:j.x,top:j.y};
},clearPasteContainer:function(j){a(j).remove();
},getClipboardAsHtml:function(m){var l=m.get_document();
var k=m.get_contentArea();
var j=this.getPasteContainer(k);
if(j.setActive){j.setActive();
}$telerik.removeExternalHandler(k,"paste",m._onPasteDelegate);
try{l.execCommand("Paste",null);
}catch(n){}$telerik.addExternalHandler(k,"paste",m._onPasteDelegate);
var o=j.innerHTML;
this.clearPasteContainer(j);
return o;
},convertWordLists:function(j){return new b.WordListConverter().convert(j);
},stripElementFormatting:function(k,j){switch(j){case"ALL":case"ALL_NO_BRAKES":case"CSS":a(k).removeClass().removeAttr("style");
break;
}},stripFormatting:function(l,j,k){switch(j){case"ALL":l=l.replace(new RegExp("<(SCRIPT|STYLE)([^>]*)>[\\s\\S]*?</(\\1)([^>]*)>","ig"),"");
l=l.replace(new RegExp("<!--[\\s\\S]*?-->","ig"),"");
l=l.replace(/<\/?[^>]*>/ig,"");
break;
case"ALL_NO_BRAKES":l=i.convertWordLists(l);
l=i._stripAllExceptNewLines(k,l);
break;
case"WORD":case"WORD_ALL":case"WORD_NO_FONTS":case"WORD_NO_MARGINS":l=this.stripWordFormatting(l,[j]);
break;
case"CSS":l=l.replace(new RegExp("(<[^>]+) class=[^ |^>]*([^>]*>)","ig"),"$1 $2");
l=l.replace(/(<[^>]+) style="[^"]*"([^>]*>)/ig,"$1 $2");
break;
case"FONT":l=l.replace(/<\/?font[^>]*>/ig,"");
break;
case"SPAN":l=l.replace(/<\/?span[^>]*>/ig,"");
break;
case"SCRIPT":l=l.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
l=l.replace(new RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
break;
default:break;
}return l;
},_stripAllExceptNewLines:function(j,k){var l=j.get_document().createElement("div");
l.innerHTML=k;
var m={selectAll:true,contentElement:l,isNotGreedy:true,clearValue:"ALL_NO_BRAKES",deleteWhitespaceNodes:true};
var n=new b.StripWordFormattingCommand(j,m);
n.onExecute();
return l.innerHTML;
},replaceNewLineWithBr:function(k){try{k=k.replace(/\n/g,"<br>");
return k;
}catch(j){}},convertText2Html:function(k){try{k=k.replace(/</g,"&lt;");
k=k.replace(/>/g,"&gt;");
k=k.replace(/\n/g,"<br>");
return k;
}catch(j){}},cssPropertiesToKeep:["color","background","backgroundColor","background-color","opacity","height","width","margin","margin-top","margin-right","margin-bottom","margin-left","marginTop","marginRight","marginBottom","marginLeft","padding","padding-top","padding-right","padding-bottom","padding-left","paddingTop","paddingRight","paddingBottom","paddingLeft","font-size","fontSize","font-family","fontFamily","font-weight","fontWeight","fontStretch","fontStyle","fontVariant","border","borderSpacing","border-top","borderTop","border-right","borderRight","border-bottom","borderBottom","border-left","borderLeft","borderColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderStyle","borderTopStyle","borderRightStyle","borderLeftStyle","borderBottomStyle","borderWidth","listStyleType","listStyleImage","text-align","textAlign","text-decoration","textDecoration","letterSpacing"],getCssPropertiesWordAll:function(l){var j=[];
for(var k=0;
k<l.length;
k++){if(!/^font/.test(l[k])){j.push(l[k]);
}}return j;
},getCssPropertiesWordNoFonts:function(l){var j=[];
for(var k=0;
k<l.length;
k++){if(!/^font/.test(l[k])||(/^font/.test(l[k])&&/size$/i.test(l[k]))){j.push(l[k]);
}}return j;
},getCssPropertiesWordNoMargins:function(l){var j=[];
for(var k=0;
k<l.length;
k++){if(!/margin/i.test(l[k])){j.push(l[k]);
}}return j;
},getCssPropertiesToKeep:function(j){var k=this.cssPropertiesToKeep;
if($telerik.$.inArray("WORD_NO_FONTS",j)!=-1){k=this.getCssPropertiesWordNoFonts(k);
}if($telerik.$.inArray("WORD_ALL",j)!=-1){k=this.getCssPropertiesWordAll(k);
}if($telerik.$.inArray("WORD_NO_MARGINS",j)!=-1){k=this.getCssPropertiesWordNoMargins(k);
}return k;
},clearWordAttributesAndStyles:function(l,o){var j=$telerik.isIE&&l.all?l.all:l.getElementsByTagName("*");
for(var m=0;
m<j.length;
m++){var k=j[m];
if(k.nodeType==1){var n=k.nodeName;
if(n!="TABLE"&&n!="TH"&&n!="TR"&&n!="TD"){this.clearElement(k,o);
}}}},msWordClassesRegExp:/^mso|wordsection|bullets/i,clearWordClasses:function(k){if(k.className&&this.msWordClassesRegExp.test(k.className)){var j="";
k.className=j;
this.setElementClassName(k,j);
}},msWordAttrRegExp:/mso/i,clearElement:function(n,s){var t=this;
t.clearWordClasses(n);
n.removeAttribute("lang","",0);
t.clearUnnecessaryStyles(n,s);
var o=n.style;
if(o&&o.fontFamily){if($telerik.isIE){o.fontFamily=o.fontFamily.replace(/\\"/g,"'");
}else{o.fontFamily=o.fontFamily.replace(/('|"|&quot;)/g,"");
}}if(n.nodeName=="DIV"||n.nodeName=="P"){t.removeInvalidBorderColors(n);
}var r=t.msWordAttrRegExp;
var q=/[^:]+:[^:]/;
var k=n.attributes;
var j,l,m;
for(var p=k.length-1;
p>=0;
p--){j=k[p];
l=j.name.toLowerCase();
m=j.value||null;
m=m==="null"?null:m;
if(m&&l!="src"&&l!="href"){if(r.test(l)||r.test(m)||q.test(l)){n.removeAttribute(j.name);
}}}},clearLists:function(j,l){var k=a(j).find("OL");
a(k).removeAttr("type");
a(k).removeAttr("start");
},removeInvalidBorderColors:function(j){if(!j.style){return;
}var l=/windowtext|-moz-use-text-color|currentColor/i;
var n=j.style;
var k="";
if(n.borderTopColor&&l.test(n.borderTopColor)){n.borderTopColor=k;
}if(n.borderRightColor&&l.test(n.borderRightColor)){n.borderRightColor=k;
}if(n.borderBottomColor&&l.test(n.borderBottomColor)){n.borderBottomColor=k;
}if(n.borderLeftColor&&l.test(n.borderLeftColor)){n.borderLeftColor=k;
}if($telerik.isFirefox){var m=/\s?-moz-[a-z\-]+colors?:\s?[a-z]+;/ig;
var o=j.getAttribute("style");
if(o&&m.test(o)){o=o.replace(m,k);
j.setAttribute("style",o);
}}},setNbspInEmptyParagraphs:function(j){var l=/(<p[^>]*?>)(<\/p>)/gmi;
var k=j.innerHTML;
k=k.replace(l,"$1&nbsp;$2");
j.innerHTML=k;
},removeEmptyElements:function(j){var n="(?:b|font|i|s|span|u)";
var l="<"+n+"(?:\\s[^>]*)?></"+n+">";
var k=j.innerHTML;
var m=new RegExp(l,"gmi");
while(new RegExp(l,"mi").test(k)){k=k.replace(m,"");
}j.innerHTML=k;
},clearWordAttributesInElement:function(p,n){var k=$telerik.isIE&&p.all?p.all:p.getElementsByTagName("*");
for(var q=0;
q<k.length;
q++){var o=k[q];
var s=/\bmso.*/gi;
if(o.nodeType==1){if(s.exec(o.className)){o.className="";
}o.removeAttribute("lang","",0);
o.removeAttribute("style","",0);
o.style.cssText=o.style.cssText.replace(/(([\w-]*?mso[\w-]*?):(.+?)([;^$]|$))/gi,"");
if($telerik.isIE){o.style.removeAttribute("tab-stops",0);
o.style.removeAttribute("textIndent",0);
}if($telerik.isIE&&(n=="WORD_NO_FONTS"||n=="WORD_ALL")){o.style.removeAttribute("fontFamily",0);
o.removeAttribute("face",0);
}if(o.style&&o.style.fontFamily){o.style.fontFamily=o.style.fontFamily.replace(/('|"|&quot;)/g,"");
}for(var r=o.attributes.length-1;
r>=0;
r--){var l=o.attributes[r];
var m=l.name.toLowerCase();
if(m!="src"&&m!="href"&&"null"!=l.value&&""!=l.value){if(s.exec(l.name)||s.exec(l.value)){o.removeAttribute(l.name);
}}}}}},clearUnnecessaryStyles:function(k,r){var j=[];
var q=k.style;
for(var m=0;
m<r.length;
m++){var o=r[m];
if(q[o]&&q[o]!=""){j.push({propertyName:o,value:q[o]});
}if(o=="text-align"&&k.tagName=="TD"&&q.textAlign==""){j.push({propertyName:o,value:"left"});
}}k.removeAttribute("style","",0);
q=k.style;
for(var l=0;
l<j.length;
l++){var n=j[l];
q[n.propertyName]=n.value;
}},_replaceWhitespaceBetweenTags:function(j,k){if(/<[a-z]+[^>]*?>/mi.test(j)){k=k?k:" ";
j=j.replace(/^[\r\n\s]+(<)/m,"$1");
j=j.replace(/(>)[\r\n\s]+$/m,"$1");
j=j.replace(/(<\/[a-z]+[^>]*?>)([\r\n\s])+(<[a-z]+[^>]*?>)/gmi,function(p,m,n,o,q,l){var r=m+k+o;
return r;
});
}return j;
},clearComments:function(j){j=j.replace(/<!--[\s\S]+?-->/g,"");
return j;
},clearInvalidHtml:function(j){j=j.replace(/<\/?[ovw]:[^>]*?>/gi,"");
j=j.replace(/<\\?\??xml[^>]*>/gi,"");
j=j.replace(/<(?:link|meta) [^>]+?>/ig,"");
j=j.replace(/<style[^>]*?>\s*<\/style>/ig,"");
j=j.replace(/<\/?st1:.*?>/gi,"");
j=j.replace(/<a name="[a-zA-Z0-9_]+">/gmi,"");
j=j.replace(/v:shapes?="[^"]+"/ig,"");
j=j.replace(/(<\/html>)[\s\S]+$/im,"$1");
return j;
},clearWordTables:function(k,m){var q=k.getElementsByTagName("TABLE");
for(var n=0;
n<q.length;
n++){var o=q[n];
this.clearWordClasses(o);
this.clearUnnecessaryStyles(o,m);
var p=o.getElementsByTagName("TR");
for(var l=0;
l<p.length;
l++){var v=p[l];
this.clearWordClasses(v);
this.clearUnnecessaryStyles(v,m);
for(var j=0;
j<v.cells.length;
j++){var s=v.cells[j];
this.clearWordClasses(s);
this.removeInvalidBorderColors(s);
this.clearUnnecessaryStyles(s,m);
var u=s.innerHTML;
u=u.replace(/(\s*&nbsp;)+/gi,"");
u=u.replace(/(\s*&nbsp;)+$/gi,"");
s.innerHTML=u;
}}}},addCssProperies:function(k){k=typeof(k)==="string"?[].push(k):k;
for(var j=0;
j<k.length;
j++){if($telerik.$.inArray(k[j],Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep)==-1){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.push(k[j]);
}}},removeCssProperiesByPattern:function(k){var l=new RegExp(k,"i");
for(var j=Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.length-1;
j>=0;
j--){if(l.test(Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep[j])){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.splice(j,1);
}}},containsElement:function(l,j){for(var k=0;
k<j.length;
k++){if(!j[k]){continue;
}var m=j[k].toString();
if(l.test(m)){return true;
}}return false;
},stripWordFormatting:function(l,j){var q=this;
var n=l;
var p=q.getCssPropertiesToKeep(j);
n=q.clearComments(n);
n=q.clearInvalidHtml(n);
var m=document.createElement("div");
b.Utils.setElementInnerHtml(m,n);
if(!$telerik.isIE){q.validateStylesOnStripWordFormatting(m);
}var o=$telerik.$(m).find("FONT");
var k=o.length>0;
if(k&&$telerik.$.inArray("WORD_ALL",j)!=-1){o.each(function(r,s){q.removeNode(s);
});
k=false;
}if(k&&$telerik.$.inArray("WORD_NO_FONTS",j)!=-1){o.removeAttr("face");
o.removeAttr("color");
}if(k&&!q.containsElement(/font\-?size/i,p)){o.removeAttr("size");
}q.clearWordTables(m,p);
q.clearLists(m,p);
q.clearWordAttributesAndStyles(m,p);
q.removeEmptyElements(m);
q.setNbspInEmptyParagraphs(m);
n=m.innerHTML;
n=n.replace(/\s+/ig," ");
return n;
},clearMSWordJunkContent:function(j){j=this.clearComments(j);
j=this.clearInvalidHtml(j);
return j;
},validateStylesOnStripWordFormatting:function(l){var j=$telerik.isIE&&l.all?l.all:l.getElementsByTagName("*");
var x=/^(\r?\n?<[a-z]+[^>]*?>)(<\/[a-z]+[^>]*?>)$/i;
var p=/^(I|A|B)[A-Z]*$/i;
var r=/(background|-webkit-background)-?[a-z]*: initial;/gi;
var u=/none\srepeat\sscroll\s0%\s0%\s/gi;
var t=/mso-bidi-font-size/gi;
var s=/mso-bidi-font-family/gi;
for(var o=0;
o<j.length;
o++){var m=j[o];
if(m.nodeType==1&&!p.test(m.nodeName)){var q=m.innerHTML;
var n=Telerik.Web.UI.Editor.Utils.getOuterHtml(m).replace(q,"");
var v=n.match(x);
if(v){var w=v[1];
var k=v[2];
if(w&&k){w=w.replace(r,"");
w=w.replace(u,"");
if($telerik.isFirefox||$telerik.isChrome){w=w.replace(t,"font-size");
w=w.replace(s,"font-family");
}if(w!=v[1]){$telerik.$(m).replaceWith(w+q+k);
}}}}}},cleanStylesOnStripWordFormatting:function(j){var k=j+"";
k=k.replace(/(<[^>]*style=["'])([^"']*)(["'][^>]*>)/gi,function(p,m,n,o,q,l){var r=m;
n=n.replace(/(background|-webkit-background)-?[a-z]*: initial;/gi,"");
if($telerik.isFirefox){n=n.replace(/none\srepeat\sscroll\s0%\s0%\s/gi,"");
}n=n.replace(/line-height: normal;?/gi,"");
n=n.replace(/margin: 0[a-z]{2} 0[a-z]{2} 0[a-z]{2};?/gi,"");
if(!$telerik.isIe){n=n.replace(/margin-?[a-z]*: 0.0001[a-z]{2};?/gi,"");
}r+=n;
r+=o;
return r;
});
return k;
},createTable:function(q,k,o){if(!o){o=document;
}var n=o.createElement("table");
var m,l;
for(var p=0;
p<q;
p++){m=n.insertRow(-1);
for(var j=0;
j<k;
j++){l=m.insertCell(-1);
l.innerHTML="&nbsp;";
}}return n;
},getElementParentByTag:function(k,l){if(null==k){return null;
}if(null==l){return k;
}try{while(k&&null!=k.tagName&&k.tagName!=l){if(b.Utils.isEditorContentArea(k)){break;
}k=k.parentNode;
}return((k.tagName==l)?k:null);
}catch(j){return null;
}},getElementParentByRegExpTagName:function(k,l){if(null==k){return null;
}if(null==l){return k;
}try{while(k&&null!=k.tagName&&!l.test(k.tagName)){if(b.Utils.isEditorContentArea(k)){break;
}k=k.parentNode;
}return((l.test(k.tagName))?k:null);
}catch(j){return null;
}},getElementParentByTagWithConstraint:function(l,m,j){if(null==j){j="";
}if(null==l){return null;
}if(null==m){return l;
}try{while(l&&null!=l.tagName&&l.tagName!=m){if(j.indexOf(l.tagName)!=-1){return null;
}if(b.Utils.isEditorContentArea(l)){break;
}l=l.parentNode;
}return((l.tagName==m)?l:null);
}catch(k){return null;
}},getElementParentByCondition:function(l,j){if(!l||!j){return null;
}try{while(l&&!j(l)){if(i.isEditorContentArea(l)){break;
}l=l.parentNode;
}return j(l)?l:null;
}catch(k){return null;
}},immutableElementMarkerAttrName:"immutablemarker",immutableElementId:"data-reimmutableid",isImmutableContainer:function(j){if(($telerik.isIE6||$telerik.isIE7)&&j.attributes&&j.attributes.contenteditable){return j.attributes.contenteditable.nodeValue=="false";
}else{if(j.getAttribute){return j.getAttribute("contenteditable")=="false";
}}return false;
},isImmutableNode:function(j){return !!b.Utils.getElementParentByCondition(j,b.Utils.isImmutableContainer);
},getImmutableElements:function(j){if(!j.get_enableImmutableElements()){return a([]);
}return a(j.get_contentArea()).find("[contenteditable='false']").filter(function(l,k){return !b.Utils.isImmutableNode(k.parentNode);
});
},replaceImmutableElements:function(j){b.Utils.getImmutableElements(j).each(function(m,k){var l=k.getAttribute(b.Utils.immutableElementId);
var n=j.get_document().createElement("div");
n.setAttribute(b.Utils.immutableElementMarkerAttrName,l);
k.parentNode.insertBefore(n,k);
k.parentNode.removeChild(k);
});
},restoreImmutableElements:function(j){a(j.get_contentArea()).find("["+b.Utils.immutableElementMarkerAttrName+"]").each(function(m,n){var l=n.getAttribute(b.Utils.immutableElementMarkerAttrName);
var k=j._immutableElements[l];
if(k){n.parentNode.insertBefore(k,n);
}n.parentNode.removeChild(n);
});
},revertOriginalImmutables:function(j){b.Utils.getImmutableElements(j).each(function(o,l){var p=l.parentNode;
var n=l.getAttribute(b.Utils.immutableElementId);
var k;
if(n){var m=j._immutableElements[n];
k=l==m;
if(m&&!k){p.insertBefore(m,l);
}}if(!k){p.removeChild(l);
}});
},setImmutablesHtml:function(k,j){var o=b.Utils,n=o.immutableElementMarkerAttrName,m=j._immutableElements,l=new RegExp("<div "+n+"=['\"]?([0-9]{13})['\"]?>(?:&nbsp;)?</div>","gmi");
k=k.replace(l,function(t,r,u,q){var s=m[r];
if(s){var p=o.cloneNodeWithChildren(s);
j._cleanUnselectableAttributes(p);
return o.getOuterHtml(p);
}return t;
});
return k;
},isEditorContentArea:function(j){var k=(j&&(j.tagName=="BODY"||(j.tagName=="DIV"&&Sys.UI.DomElement.containsCssClass(j,"reContentArea"))))?true:false;
return k;
},isEditorEmptyMessage:function(j){return Sys.UI.DomElement.containsCssClass(j,"reEmptyMessage");
},selectElement:function(n,m){if(!m){return;
}var l=n.document;
var p=null;
if($telerik.isIE&&l.selection){switch(m.tagName){case"TABLE":case"IMG":case"HR":case"INPUT":p=l.body.createControlRange();
p.add(m);
break;
case"UL":case"OL":p=l.body.createTextRange();
p.moveToElementText(m);
var o=p.parentElement();
if(o.tagName!="UL"||o.tagName!="OL"){p.moveEnd("character",-1);
}break;
default:p=l.body.createTextRange();
p.moveToElementText(m);
break;
}if(p){try{p.select();
return true;
}catch(k){return false;
}}}else{if(n.getSelection){p=l.createRange();
p.selectNode(m);
if(window.opera){p.selectNodeContents(m);
}var q=n.getSelection();
if($telerik.isSafari){if(m.nodeName=="TR"){var j=b.DomRange.toDomRange(p);
j.setStartBefore(m.firstChild);
j.setEndAfter(m.lastChild);
j.select();
}else{if(m.tagName!="TD"&&m.tagName!="TH"){q.setBaseAndExtent(p.startContainer,p.startOffset,p.endContainer,p.endOffset);
}}}else{q.removeAllRanges();
q.addRange(p);
}return true;
}}return false;
},getOuterHtml:function(j){return $telerik.getOuterHtml(j);
},setElementInnerHtml:function(k,l){var j=$telerik.isIE?this.getStoredOriginalPathsAndAttributes(l):l;
this.removeChildren(k);
k.innerHTML="<span>&nbsp;</span>"+j;
k.removeChild(k.firstChild);
if($telerik.isIE){this.restoreOriginalPathsAndAttributes(k);
}},removeNode:function(j){var k=j.parentNode;
if(k!=null){while(j.firstChild){k.insertBefore(j.firstChild,j);
}k.removeChild(j);
return k;
}return true;
},removeChildren:function(j){while(j.firstChild){j.removeChild(j.firstChild);
}},replaceNode:function(k,l){if(k&&l){var j=a(k).wrap("<"+l+"></"+l+">").parent()[0];
$telerik.mergeElementAttributes(k,j);
b.Utils.removeNode(k);
return j;
}else{return null;
}},normalize:function(j){if($telerik.isIE||!j.normalize){this._normalizeTextNodes(j);
}else{j.normalize();
}},_normalizeTextNodes:function(l){var j=l.firstChild,k;
while(j){if(j.nodeType==3){k=j.nextSibling;
while(k&&k.nodeType==3){j.appendData(k.data);
l.removeChild(k);
k=j.nextSibling;
}}else{this._normalizeTextNodes(j);
}j=j.nextSibling;
}},isSingleChild:function(j){return i.every(j.parentNode.childNodes,function(k){return k==j||(i.isTextNode(k)&&i.isTextNodeEmpty(k));
});
},MoveToNextCell:function(j,k){var n=b.Utils.getElementParentByTag(j,"TR");
var l=n.cells[j.cellIndex+1];
if(typeof(l)=="undefined"){var p=b.Utils.getElementParentByTag(j,"TABLE");
var o=n.rowIndex+1;
var m=p.rows[o];
if(typeof(m)!="undefined"){l=m.cells[0];
}else{if(p.rows.length>0&&p.rows[0].cells.length>0){k.fire("InsertRowBelow",{});
l=p.rows[o].cells[0];
}}}if(typeof(l)!="undefined"){b.Utils.selectCell(l,k);
}},MoveToPreviousCell:function(j,m){var p=b.Utils.getElementParentByTag(j,"TR");
var n=null;
var k=j.cellIndex;
if(k>0){n=p.cells[k-1];
}else{var r=b.Utils.getElementParentByTag(p,"TABLE");
var q=p.rowIndex;
if(q>0){var o=r.rows[q-1];
var l=o.cells;
n=l[l.length-1];
}}b.Utils.selectCell(n,m);
},selectCell:function(j,l){if(!j||!l){return;
}var k=l.get_document();
if(k.createRange){var m=k.createRange();
m.selectNodeContents(j);
var n=l.get_contentWindow().getSelection();
n.removeAllRanges();
n.addRange(m);
}else{var o=l.getSelection();
o.selectElement(j);
}},getStoredOriginalPathsAndAttributes:function(j){var k=function(t,m,n,o,p,q,r,u,v){if(!o){o="";
p=p+r;
var s=p.search(/(\s|>)/gi);
if(s>0){r=p.substring(s,p.length);
p=p.substring(0,s);
if(p=='""'){p="";
o='"';
}}else{return t;
}}return m+" "+n+"="+o+p+o+' originalAttribute="'+n+'" originalPath="'+p+'"'+r;
};
var l=new RegExp("(<[^>]*?)\\s(href|src)\\s*=\\s*('|\")?([^>]+?)(\\3)([^>]*?>)","ig");
j=j.replace(l,k);
j=this._revertOriginalPathsInHtmlComments(j);
return j;
},commentsWithContentRegExp:/<!--([\s\S]*?)-->/ig,originalAttributesRegExp:/ originalAttribute="(?:href|src)" originalPath="[^"]+"/ig,_revertOriginalPathsInHtmlComments:function(j){var k=this.originalAttributesRegExp;
j=j.replace(this.commentsWithContentRegExp,function(m,l){var n=l.replace(k,"");
return String.format("<!--{0}-->",n);
});
return j;
},storeOriginalPathsAndAttributes:function(k){var j=["src","href"];
var m=a(k).find("[src],[href]").andSelf().toArray();
for(var l=0;
l<m.length;
l++){for(var n=0;
n<j.length;
n++){this.storeOriginalAttribute(m[l],j[n]);
}}},storeOriginalAttribute:function(k,j){if(k.getAttribute(j)){k.setAttribute("originalAttribute",j);
k.setAttribute("originalPath",k.getAttribute(j));
}},restoreOriginalPathsAndAttributes:function(k){var j=k.getElementsByTagName("*");
for(var n=0;
n<j.length;
n++){var l=j[n];
var q=l.getAttribute("originalPath");
var p=l.getAttribute("originalAttribute");
if(q!=null&&p!=null){l.removeAttribute("originalPath");
l.removeAttribute("originalAttribute");
if(q.toLowerCase().indexOf("mailto:")==0){continue;
}q=q.replace(window.location.href+"#","#");
var o=l.innerHTML;
try{l.setAttribute(p,q,0);
}catch(m){}if(o!=l.innerHTML){l.innerHTML=o;
}}}},_encodeHtmlContent:function(k,n){var j=new Array("%","<",">","!",'"',"#","$","&","'","(",")",",",":",";","=","?","[","]","\\","^","`","{","|","}","~","+");
var m=k;
var l;
if(n){for(l=0;
l<j.length;
l++){m=m.replace(new RegExp("\\x"+j[l].charCodeAt(0).toString(16),"ig"),"%"+j[l].charCodeAt(0).toString(16));
}}else{for(l=j.length-1;
l>=0;
l--){m=m.replace(new RegExp("%"+j[l].charCodeAt(0).toString(16),"ig"),j[l]);
}}return m;
},encodePostbackContent:function(j){return b.Utils._encodeHtmlContent(j,true);
},decodePostbackContent:function(j){return b.Utils._encodeHtmlContent(j,false);
},makeUrlAbsolute:function(k){k=k.split("&").join("&amp;").split('"').join("&quot;").split("<").join("&lt;");
var j=document.createElement("div");
j.innerHTML='<a href="'+k+'">a</a>';
return j.childNodes[0].href;
},addStyleSheet:function(o,k,m){if(!o){return;
}k=k||document;
var n=k.createElement("link");
n.setAttribute("href",o,0);
if($telerik.isIE&&n.href.indexOf("https://")==0&&o.indexOf("https://")!=0){n.setAttribute("href",n.href);
}else{if($telerik.isIE7&&o.indexOf("https://")!=0&&n.href.indexOf("https://")!=0&&window.location.protocol=="https:"){n.setAttribute("href",b.Utils.makeUrlAbsolute(o),0);
}}n.setAttribute("type","text/css");
if(m){n.setAttribute("id",m);
}else{m="";
}n.setAttribute("rel","stylesheet",0);
var l=k.getElementsByTagName("head")[0];
if($telerik.isSafari||$telerik.isFirefox){var j=function(){l.appendChild(n);
};
window.setTimeout(j,200);
}else{l.appendChild(n);
}},_copyElementsBetweenNodes:function(q,o,j){var p=q.getElementsByTagName(j);
var n=o.getElementsByTagName(j);
for(var l=0;
l<p.length;
l++){switch(j){case"script":case"title":n[l].text=p[l].text;
break;
case"style":if(n[l].innerHTML!=p[l].innerHTML){n[l].styleSheet.cssText=p[l].styleSheet.cssText;
}break;
case"select":n[l].selectedIndex=p[l].selectedIndex;
break;
case"input":if((p[l].type=="radio"||p[l].type=="checkbox")&&$telerik.$(p[l]).attr("checked")){$telerik.$(n[l]).attr("checked","checked");
if($telerik.isIE9Mode&&p[l].type=="checkbox"&&p[l].checked){n[l].checked=true;
n[l].setAttribute("checked","checked");
}}break;
case"iframe":var m=p[l].innerHTML;
if(m){var r=n[l].outerHTML;
if(r){var k=r.indexOf(">");
if(k>0){r=r.substr(0,k)+">"+m+r.substr(k+1);
n[l].outerHTML=r;
}}}break;
default:if(n[l].innerHTML!=p[l].innerHTML){b.Utils.setElementInnerHtml(n[l],p[l].innerHTML);
}break;
}}},cloneNodeWithChildren:function(k){if(!k){return null;
}if($telerik.isIE&&k.getElementsByTagName){var j=k.cloneNode(true);
if(typeof(j.innerHTML)!="string"){this.setElementInnerHtml(j,k.innerHTML);
}this._copyElementsBetweenNodes(k,j,"script");
this._copyElementsBetweenNodes(k,j,"map");
this._copyElementsBetweenNodes(k,j,"style");
this._copyElementsBetweenNodes(k,j,"title");
this._copyElementsBetweenNodes(k,j,"select");
this._copyElementsBetweenNodes(k,j,"input");
this._copyElementsBetweenNodes(k,j,"iframe");
return j;
}else{return k.cloneNode(true);
}},cloneNodeClean:function(k){var j=k.cloneNode(false);
this.removeChildren(j);
if($telerik.isIE10Mode&&!$telerik.isIE10&&k.style&&k.style.backgroundColor){j.style.backgroundColor=k.style.backgroundColor;
}return j;
},escapeRegExSpecialChars:function(j){var k=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");
return j.replace(k,"\\$&");
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var j=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+j;
},hasAnyContent:function(j){return !!(j&&j.innerHTML);
},getTextContent:function(j){if(!j){return null;
}if(j.innerText!=null){return j.innerText;
}if(j.textContent!=null){var k=j.textContent;
k=k.replace(/<!--(.|\s)*?-->/gi,"");
return k;
}return null;
},removeInvalidElementsInLists:function(j){var m=this;
var l=m.getSelectedParentElement(j);
var k=$telerik.$(l).find("ol,ul");
if(m.isList(l)){k=k.add(l);
}k.each(function(p,r){var o=r.children;
for(var q=o.length-1;
q>=0;
q--){var n=o[q];
if(!m.isTag(n,"li")){r.removeChild(n);
}}});
},execDocumentCommand:function(k,j,p){var o;
if(!k||!j){return false;
}try{return k.execCommand(j,false,p);
}catch(l){var n=this.getSelectedParentElement(k);
o=document.createElement("br");
n.insertBefore(o,n.firstChild);
var m=k.execCommand(j,false,p);
return m;
}finally{if(o){o.parentNode.removeChild(o);
}}},isContentOneBlockElementOnly:function(j){return j.childNodes.length==1&&this.isBlockElement(j.childNodes[0]);
},getSelectedParentElement:function(j){var k=new b.Selection(j.defaultView||window);
return k.getParentElement();
},getSelectedElement:function(j){return j.getSelectedElement();
},getFirstBlockElementUp:function(j){return this.isBlockElement(j)?j:this.getBlockParent(j);
},getBlockParentUntil:function(j,k){return this.getConditionalParentUntil(j,i.isBlockElement,k);
},getConditionalParentUntil:function(k,j,m){var l=k;
while(l&&!m(l.parentNode,l)&&!j(l)){l=l.parentNode;
}return l;
},getBlockParent:function(j){var k=j.parentNode;
while(k&&!this.isBlockElement(k)){k=k.parentNode;
}return k;
},getPreviousElement:function(j){if(j.previousElementSibling){return j.previousElementSibling;
}var k=a(j).prev();
if(k.length>0&&!this.isTextNode(k[0])){return k[0];
}return null;
},getNextElement:function(k){if(k.nextElementSibling){return k.nextElementSibling;
}var j=a(k).next();
if(j.length>0&&!this.isTextNode(j[0])){return j[0];
}return null;
},isTextNodeEmpty:function(j){return !/[^\s\xA0\u200b]+/.test(j.nodeValue);
},isTextNodeCompletelyEmpty:function(j){return !/[^\n\r\t\u200b]+/.test(j.nodeValue);
},canHaveChildren:function(j){if(!j||i.isTextNode(j)){return false;
}switch((j.tagName||j.nodeName).toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},isBlockElement:function(j){return i.checkForElement(j,f);
},isBlockElementOrNewLine:function(j){return this.isBlockElement(j)||this.checkForElement(j,/^br$/i);
},isTextNode:function(j){return j&&j.nodeType&&(j.nodeType==3||j.nodeType==4||j.nodeType==8);
},firstTextChild:function(k){var j=k.firstChild;
while(j&&j.firstChild&&!i.isTextNode(j)){j=j.firstChild;
}return i.isTextNode(j)?j:k;
},checkForElement:function(j,k){var l=j&&j.nodeName;
return !!l&&k.test(l);
},isAlignCommand:function(j){return/^Justify(?:None|Left|Center|Right|Full)$/.test(j);
},findNodeIndex:function(k){var j=0;
while(k.previousSibling){k=k.previousSibling;
j++;
}return j;
},isAncestorOf:function(l,k){try{return !this.isTextNode(l)&&(k.parentNode===l||a.contains(l,this.isTextNode(k)?k.parentNode:k));
}catch(j){return false;
}},isAncestorOrSelf:function(k,j){return this.isAncestorOf(k,j)||(k===j);
},findAncestorUntil:function(k,j){if(this.isAncestorOf(k,j)){while(j&&j.parentNode!=k){j=j.parentNode;
}}return j;
},findAncestorByTag:function(l,k,m){var j=this.isTag;
return this.findAncestorBy(l,k,function(o){return j(o,m);
});
},findAncestorBy:function(l,k,j){if(this.isAncestorOf(l,k)){do{k=k.parentNode;
}while(k&&!j(k)&&k!=l);
}return k;
},findCommonAncestor:function(j,k){while(j&&j!=k&&!this.isAncestorOf(j,k)){j=j.parentNode;
}return j;
},getContentAreaFirstChild:function(k){var j=k.get_contentArea();
return j.children?j.children[0]:j.firstChild;
},getAllChildNodesBy:function(l,k){var j=[];
i._getChildNodes(l,j,k);
return j;
},_getChildNodes:function(m,k,l){var j=m.firstChild;
while(j){if(j.nodeType==1&&i.canHaveChildren(j)){i._getChildNodes(j,k,l);
}if(l(j)){k.push(j);
}j=j.nextSibling;
}},trimWhitespaceTextNodes:function(k){var j=["firstChild","lastChild"];
Array.forEach(j,a.proxy(function(m){var l=k[m];
if(l&&this.isTextNode(l)){this.trimWhitespace(l);
}},this));
},trimWhitespaceLeft:function(j){var k=this.isTextNodeEmpty(j)?this.spacesRegExp.test(j.nodeValue):false;
while(/^[\s\xA0]/.test(j.nodeValue)){var l=j.nodeValue.substring(0,1);
if(!k){k=this.spacesRegExp.test(l);
}j.nodeValue=j.nodeValue.substring(1);
}if(k){j.nodeValue=" "+j.nodeValue;
}},trimWhitespaceRight:function(j){var k=this.isTextNodeEmpty(j)?this.spacesRegExp.test(j.nodeValue):false;
while(/[\s\xA0]$/.test(j.nodeValue)){var l=j.nodeValue.length;
var m=j.nodeValue.substring(l-2,l-1);
if(!k){k=this.spacesRegExp.test(m);
}j.nodeValue=j.nodeValue.substring(0,l-1);
}if(k){j.nodeValue=j.nodeValue+" ";
}},trimWhitespace:function(j){this.trimWhitespaceLeft(j);
this.trimWhitespaceRight(j);
},spacesRegExp:/[ \xA0]/,trimExtraWhitespace:function(j){var k=this.isTextNode(j)&&/\S[ \xA0]$/.test(j.nodeValue);
this.trimWhitespace(j);
if(k){j.nodeValue+=" ";
}},trimElementNeighbours:function(j){var l=j.previousSibling,k=j.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){var m=/^[\s\t\r\n\u200b\u00a0]+$/;
if(l&&this.isTextNode(l)&&m.test(l.nodeValue)){l.nodeValue="";
}if(k&&this.isTextNode(k)&&m.test(k.nodeValue)){k.nodeValue="";
}}if(l){this.trimWhitespace(l);
}if(k){this.trimWhitespace(k);
}},_toggleElementZoom:function(j){if(!j||j.style.zoom==1){return;
}var k=j.style.zoom;
j.style.zoom=1;
setTimeout(function(){j.style.zoom=k;
},0);
},_rgbToHex:function(j){if(j.toLowerCase().indexOf("rgb")!=-1){var l="#";
var k=function(n){var m=parseInt(n,10).toString(16);
l+=(m.length==1?"0"+m:m);
return n;
};
j=j.replace(/(\d+)/gi,k);
k=null;
return l;
}else{return j;
}},_pointsToPixels:function(l){var k=72,j=96;
return Math.round(parseFloat(l)*j/k)+"px";
},_fontSizesPx:["10px","13px","16px","18px","24px","32px","48px"],_fontSizesToPixels:function(j){return this._fontSizesPx[parseInt(j,10)-1];
},removeNonXhtmlCompliantParents:function(o){if(!o){return;
}o=o.parentNode;
var m=b.Utils.isEditorContentArea;
var j=[];
while(o&&o.tagName!="TD"&&!m(o)){var p=o.tagName;
switch(p){case"P":case"SPAN":case"FONT":case"STRONG":case"EM":case"U":j.push(o);
break;
}o=o.parentNode;
}for(var k=0,n=j.length;
k<n;
k++){b.Utils.removeNode(j[k]);
}},setTargetsForPreview:function(k){var j=k.get_contentArea();
var p=j.getElementsByTagName("A");
for(var m=0,n=p.length;
m<n;
m++){var o=p[m];
var r=o.getAttribute("target");
o.setAttribute("re_target",r||"");
if(r!="_blank"){o.setAttribute("target","blank");
}var q=o.getAttribute("onclick");
o.setAttribute("re_onclick",q||"");
o.setAttribute("onclick","return false;");
}},restoreTargetsAfterPreview:function(k){var j=k.get_contentArea();
var p=j.getElementsByTagName("A");
for(var m=0,n=p.length;
m<n;
m++){var o=p[m];
if(typeof(o.attributes.re_target)!="undefined"){var r=o.getAttribute("re_target");
if(r&&r!="null"){o.setAttribute("target",r);
}else{o.removeAttribute("target");
}}if(typeof(o.attributes.re_onclick)!="undefined"){var q=o.getAttribute("re_onclick");
if(q&&q!="null"){o.setAttribute("onclick",q);
}else{o.removeAttribute("onclick");
}}o.removeAttribute("re_onclick");
o.removeAttribute("re_target");
}},checkForNonEmptyTextNodes:function(k){var j=k.childNodes;
for(var m=0,n=j.length;
m<n;
m++){return(j[m].nodeType==3&&j[m].nodeValue!="")?true:b.Utils.checkForNonEmptyTextNodes(j[m]);
}return false;
},emptyNodeRegExp:/^&nbsp;?$/,isNodeEmpty:function(j){return i.isNodeCompletelyEmpty(j)||i.emptyNodeRegExp.test(j.innerHTML);
},isNodeCompletelyEmpty:function(j){return !j.innerHTML||j.childNodes.length==0;
},isEmptyDom:function(j){return i.isTextNode(j)?i.isTextNodeEmpty(j):i.isNodeEmpty(j);
},isCompletelyEmptyDom:function(j){return i.isTextNode(j)?i.isTextNodeCompletelyEmpty(j):i.isNodeCompletelyEmpty(j);
},isNodeEmptyRecursive:function(l,j){if(l.nodeType==1&&!i.canHaveChildren(l)){return false;
}else{if(l.childNodes.length==0){return j?i.isCompletelyEmptyDom(l):i.isEmptyDom(l);
}else{if(i.isList(l)&&l.children.length===0){return true;
}}}var k=l.firstChild;
while(k&&i.isNodeEmptyRecursive(k,j)){k=k.nextSibling;
}return !k;
},whitespaceRegExp:/^\s*$/,isWhitespaceNode:function(j){return this.isTextNode(j)?this.isTextNodeEmpty(j):this.whitespaceRegExp.test(j.innerHTML);
},isTag:function(k,j){return !!(k&&k.tagName&&j)&&k.tagName.toLowerCase()==j.toLowerCase();
},isList:function(j){return i.isTag(j,"ul")||i.isTag(j,"ol");
},isHeading:function(j){return j&&/^H[1-6]$/i.test(j.nodeName);
},isTextElement:function(j){return i.isTag(j,"textarea")||(i.isTag(j,"input")&&a(j).is("[type=text],[type=password]"));
},isBlockComponent:function(j){return i.isTag(j,"li")||i.isTag(j,"td")||i.isTag(j,"th");
},isNodeAtStart:function(l,j){var k=true;
var m=this;
while(k&&m.isAncestorOf(j,l)){while(k&&l.previousSibling){l=l.previousSibling;
k=m.isEmptyDom(l);
}l=l.parentNode;
}return k;
},hasAttributes:function(j){var k=this.getOuterHtml(j).replace(j.innerHTML,"");
return/=["][^"]/.test(k)||/=['][^']/.test(k)||/=[^'"]/.test(k);
},getDefinedAttributes:function(m){var k={length:0};
for(var l=0;
l<m.attributes.length;
l++){var j=m.attributes[l];
if(j.specified&&j.nodeName!="style"&&!/^sizzle-/.test(j.nodeName)){k[j.nodeName]=j.nodeValue;
k.length++;
}}return k;
},getAttributes:function(n,m){var j={length:1};
for(var k=0;
k<m.length;
k++,j.length++){var l=m[k];
j[l]=n.getAttribute(l);
}return j;
},every:function(k,j){for(var l=0;
l<k.length;
l++){if(!j(k[l])){return false;
}}return true;
},some:function(k,j){for(var l=0;
l<k.length;
l++){if(j(k[l])){return true;
}}return false;
},first:function(k,n){var m=k.length;
for(var l=0;
l<m;
l++){var j=k[l];
if(n(j)){return j;
}}},someInRange:function(l,j){var k=new b.RangeIterator(l);
var m=false;
k.iterate(function(n){m=m||j(n);
});
return m;
},getEntitiesCollection:function(){return h;
},_convertEntitiesToCharacters:function(l){var k=/&([a-z]+);/g;
var j=i.getEntitiesCollection();
l=l.replace(k,function(n,m){return j[m]||n;
});
l=l.replace(/&amp;/g,"&");
return l;
},_isContentAreaLastBr:function(j){return i.isTag(j,"br")&&!j.nextSibling&&i.isEditorContentArea(j.parentNode);
},convertAttribute:function(l,o,k){var j=l.getAttribute(o);
var q=j;
if(o=="background"){j=l.getAttribute(o,2);
if(j){q="url("+j+")";
}}else{if(o=="width"||o=="height"||o=="vspace"||o=="hspace"){if(!(typeof(q)=="string"&&q.match("%"))){q=parseInt(q,10)+"px";
}}else{if(o=="noWrap"){j=l.noWrap;
q="nowrap";
}}}if(j){var p=null;
if(typeof(k)=="object"){var n=k.length;
for(var m=0;
m<n;
m++){p=l.style[k[m]];
if(!p){l.style[k[m]]=q;
}}}else{p=l.style[k];
if(!p){l.style[k]=q;
}}}},convertImgAlignAttribute:function(k){var j=k.getAttribute("align");
var l=($telerik.isIE)?"styleFloat":"cssFloat";
if(j){j=j.toLowerCase();
k.style.verticalAlign="";
k.style[l]="";
switch(j){case"left":k.style[l]="left";
break;
case"right":k.style[l]="right";
break;
case"bottom":case"baseline":case"absbottom":k.style[l]="";
k.style.verticalAlign="text-bottom";
break;
case"middle":case"absmiddle":k.style[l]="";
k.style.verticalAlign="middle";
break;
case"top":case"texttop":k.style[l]="";
k.style.verticalAlign="top";
break;
}}},convertTypeAttribute:function(j){var k=j.getAttribute("type");
if(k){if(!j.style.listStyleType){switch(k){case"1":j.style.listStyleType="decimal";
break;
case"a":j.style.listStyleType="lower-alpha";
break;
case"A":j.style.listStyleType="upper-alpha";
break;
case"i":j.style.listStyleType="lower-roman";
break;
case"I":j.style.listStyleType="upper-roman";
break;
case"disc":j.style.listStyleType="disc";
break;
case"circle":j.style.listStyleType="circle";
break;
case"square":j.style.listStyleType="square";
break;
}}}},convertBorderAttribute:function(k){var j=k.getAttribute("border");
if(j){if(!k.style.borderWidth){k.style.borderWidth=j+"px";
}if(!k.style.borderStyle){k.style.borderStyle="solid";
}}},convertCSSProperty:function(k,n,j){var o=k.style[j];
var p=o||k.getAttribute(n)||"";
if(j=="backgroundImage"){p=o.replace(/["']/g,"").slice(4,-1)||p;
}else{if(j=="width"||j=="height"){if(o&&!o.match("%")){p=parseInt(o,10);
}}else{if(j=="whiteSpace"){p="nowrap";
}else{if(n=="vspace"||n=="hspace"){var m=j.length;
for(var l=0;
l<m;
l++){if(l==0){o=k.style[j[l]];
p=parseInt(o,10);
}else{if(o!=k.style[j[l]]){o=false;
break;
}}}}}}}if(n.toLowerCase()=="bgcolor"){p=b.Utils._rgbToHex(p);
}if(p){k.setAttribute(n,p);
}else{k.removeAttribute(n);
}b.Utils.cleanStylePorperty(k,j);
},cleanStylePorperty:function(k,j){if(Object.prototype.toString.call(j)==="[object Array]"){for(var m=0,n=j.length;
m<n;
m++){k.style[j[m]]="";
}}else{k.style[j]="";
}if(!k.style.cssText){k.removeAttribute("style");
}},convertImgCssAlignProperty:function(j){var k=($telerik.isIE)?j.style.styleFloat:j.style.cssFloat;
if(k){j.setAttribute("align",k);
}else{var l=j.style.verticalAlign;
if(l){l=l.replace(/text-/i,"");
j.setAttribute("align",l);
}}},convertListStyleTypeStyle:function(j){var k=j.style.listStyleType;
var l=j.getAttribute("type");
if(k&&!l){switch(k){case"decimal":j.type="1";
break;
case"lower-alpha":j.type="a";
break;
case"upper-alpha":j.type="A";
break;
case"lower-roman":j.type="i";
break;
case"upper-roman":j.type="I";
break;
case"disc":j.type="disc";
break;
case"circle":j.type="circle";
break;
case"square":j.type="square";
break;
default:j.type=k;
break;
}j.style.listStyleType="";
}},stripHtmlHeadBodyTags:function(j){return j.replace(/^[\s\S]*<html[\s\S]+?<body[^>]*>([\s\S]*?)<\/body>[\s\S]*$/gi,"$1");
},removeNearBrElements:function(j){if(j){if(!b.Utils.isBlockElement(j)){return;
}var n;
if(j.previousSibling){n=j.previousSibling;
var m=n.nodeValue;
while(n&&(n.nodeValue=="\n"||$telerik.$.trim(m)==""||n.nodeName=="BR")){if(n.nodeName=="BR"){$telerik.$(n).remove();
break;
}n=n.previousSibling;
}}var k;
if(j.nextSibling){k=j.nextSibling;
var l=k.nodeValue;
while(k&&(k.nodeValue=="\n"||$telerik.$.trim(l)==""||k.nodeName=="BR")){if(k.nodeName=="BR"){$telerik.$(k).remove();
break;
}k=k.nextSibling;
}}}},splitElementsByCondition:function(l,j){var n=[];
for(var m=0;
m<l.length;
m++){var k=l[m];
if(j(k)){if(n.length&&!n[n.length-1].length){continue;
}n.push([]);
}else{if(n.length){n[n.length-1].push(k);
}else{n[0]=[k];
}}}if(n.length&&!n[n.length-1].length){n.splice(n.length-1,1);
}return n;
},ensureSingleEncodingUrl:function(n){var k=n;
var l=n.substring(0,n.indexOf("?"));
var m=n.substring(n.indexOf("?")+1);
try{l=decodeURI(l);
m=this.decodeQueryString(m);
}catch(j){}k=encodeURI(l)+"?"+this.encodeQueryString(m);
return k;
},encodeQueryString:function(j){return this.manipulateQueryString(j,encodeURIComponent);
},decodeQueryString:function(j){return this.manipulateQueryString(j,decodeURIComponent);
},manipulateQueryString:function(l,j){var k=this.splitQueryString(l);
a(k).each(function(m,n){a(n).each(function(o,p){n[o]=j.call(this,p);
});
});
return this.joinQueryArr(k);
},splitQueryString:function(j){var k=[];
k=j.split("&");
a(k).each(function(l,m){k[l]=m.split("=");
});
return k;
},joinQueryArr:function(j){var k=[];
a(j).each(function(l,m){k[l]=m.join("=");
});
return k.join("&");
}};
})(Telerik.Web.UI,Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){Telerik.Web.UI.Editor.CommandBase=function(g,f,c,e){var d=this;
d.isSafari=$telerik.isSafari;
d.isIE=$telerik.isIE;
d.isOpera=$telerik.isOpera;
d.isFirefox=$telerik.isFirefox;
d._title=g;
d._window=f;
d._isExecuted=false;
d._canUnexecute=(c!=false);
d._editor=e;
a.observable(d);
};
Telerik.Web.UI.Editor.CommandBase.prototype={get_argument:function(){return null;
},getState:function(c){return Telerik.Web.UI.Editor.CommandStates.Off;
},getValue:function(c){return null;
},set_window:function(c){this._window=c;
},get_window:function(){return this._window;
},get_title:function(){return this._title;
},set_title:function(c){this._title=c;
},set_canUnexecute:function(c){this._canUnexecute=c;
},get_canUnexecute:function(){return this._canUnexecute;
},get_editor:function(){return this._editor;
},set_editor:function(c){this._editor=c;
},get_editorContentArea:function(){var d=this.get_editor();
var c=(d)?d.get_contentArea():null;
return c;
},get_enableUndoRedo:function(){var c=this.get_editor();
if(c){return c.get_enableUndoRedo();
}else{return true;
}},execute:function(){this._isExecuted=false;
if(null==this.onExecute||null==this.get_window()){return false;
}try{if(this.get_enableUndoRedo()){if(!this.RestorePoint1){this.RestorePoint1=this.get_editor().createRestorePoint();
}else{this.RestorePoint1.select();
}}return(this._isExecuted=this.onExecute());
}catch(c){}return false;
},onExecute:function(){if(this.isIE&&null!=this.OnExecuteIE){return this.OnExecuteIE();
}else{if(null!=window.getSelection&&null!=this.OnExecuteMoz){return this.OnExecuteMoz();
}}return false;
},unexecute:function(){try{if(this._canUnexecute&&this._isExecuted){this.RestorePoint1.restore();
}}catch(c){}},trackChangedNode:function(c){var d=this;
if(d._changeFormatTracking!==false){if(!d.elements){d.elements=[];
}d.elements.push(c);
}},clearTrackedNodes:function(){if(this.elements&&this.elements.length){this.elements=[];
}},fireFormattingChanged:function(){var d=this,c=a.extendEventArgs(new Sys.EventArgs(),{elements:d.elements,applyFormat:!d.removeFormatting,command:d});
d.trigger("formattingChanged",c);
},_setEnabledChangeFormatTracking:function(c){this._changeFormatTracking=c;
}};
Telerik.Web.UI.Editor.CommandBase.registerClass("Telerik.Web.UI.Editor.CommandBase");
})($telerik.$);
Telerik.Web.UI.Editor.PasteHtmlCommand=function(e,d,c,a,b){Telerik.Web.UI.Editor.PasteHtmlCommand.initializeBase(this,[(e||"Insert Html"),d,true,b]);
this.HtmlText=c;
this.SelectText=(true==a);
this.editor=b;
};
Telerik.Web.UI.Editor.PasteHtmlCommand.prototype={clone:function(){return new Telerik.Web.UI.Editor.PasteHtmlCommand(this.get_title(),this.get_window(),this.HtmlText,null,this.get_editor());
},onExecute:function(){var a=this;
var b=new Telerik.Web.UI.Editor.Selection(a.get_window());
if($telerik.isIE){a.fixBrElementSelectionIE();
}$telerik.$.observable(b);
b.on({pasteDom:a._raiseEvent,pasteBlockElement:a._raiseEvent},a);
b.pasteHtml(a.HtmlText,a.SelectText);
b.disposeObservable();
return true;
},_raiseEvent:function(a){this.get_editor().raiseEvent(a.get_eventName(),a);
},fixBrElementSelectionIE:function(){var c=this.editor,b=Telerik.Web.UI.Editor.DomRange.toDomRange(c.getSelection().getRange());
if(!b.startContainer||b.startContainer.nodeType==3||!b.endContainer.nodeType||b.endContainer.nodeType==3){return;
}var e=function(){if($telerik.isIE9Mode){return b.endContainer.childNodes[b.endOffset-1];
}else{if($telerik.isIE7||$telerik.isIE8){return b.endContainer.childNodes[b.endOffset];
}}};
var d=function(){return b.startContainer.childNodes[b.startOffset];
};
var f=$telerik.isIE9Mode&&b.collapsed&&b.startOffset!=b.endOffset&&e()&&e().nodeName=="BR";
f|=($telerik.isIE7||$telerik.isIE8)&&b.collapsed&&b.startOffset==b.endOffset&&b.startContainer.childNodes.length-1==b.startOffset&&d()&&d().nodeName=="BR"&&e()&&$telerik.$(d()).is(e());
if(f){var a=e();
if(a.nodeName!="BR"){return;
}var g=c.get_document().createElement("span");
g.innerHTML="&nbsp;";
$telerik.$(g).insertAfter(a);
c.selectElement(g);
g.parentElement.removeChild(g);
}}};
Telerik.Web.UI.Editor.PasteHtmlCommand.registerClass("Telerik.Web.UI.Editor.PasteHtmlCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.GenericCommand=function(c,b,a){Telerik.Web.UI.Editor.GenericCommand.initializeBase(this,[c,b,true,a]);
if(this.get_enableUndoRedo()){this.RestorePoint1=a.createRestorePoint();
}};
Telerik.Web.UI.Editor.GenericCommand.prototype={execute:function(){if(this.get_enableUndoRedo()){if(null==this.RestorePoint2){this.RestorePoint2=this.get_editor().createRestorePoint();
}else{this.RestorePoint2.restore();
}}return true;
},unexecute:function(){if(this.get_enableUndoRedo()){this.RestorePoint1.restore(true);
}}};
Telerik.Web.UI.Editor.GenericCommand.registerClass("Telerik.Web.UI.Editor.GenericCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TextTypeCommand=function(c,b,a){Telerik.Web.UI.Editor.TextTypeCommand.initializeBase(this,[(c||"Typing"),b,a]);
};
Telerik.Web.UI.Editor.TextTypeCommand.prototype={update:function(){if(this.RestorePoint2){this.RestorePoint2.update();
}}};
Telerik.Web.UI.Editor.TextTypeCommand.registerClass("Telerik.Web.UI.Editor.TextTypeCommand",Telerik.Web.UI.Editor.GenericCommand);
Telerik.Web.UI.Editor.BrowserCommand=function(e,c,d,f,b){var a=true;
switch(this.CommandID){case"Copy":case"SelectAll":case"Print":a=false;
break;
}Telerik.Web.UI.Editor.BrowserCommand.initializeBase(this,[(e||d),c,a,b]);
this.CommandID=d;
this.Value=f;
};
Telerik.Web.UI.Editor.BrowserCommand.prototype={get_argument:function(){return this.Value;
},clone:function(){return new Telerik.Web.UI.Editor.BrowserCommand(this._title,this.get_window(),this.CommandID,this.Value);
},getState:function(g,c,h){try{var i=this;
g=g||i.get_window();
var f=g.document;
var a=Telerik.Web.UI.Editor.CommandStates;
var b=i.CommandID;
if(!f){return a.Disabled;
}if("Paste"==b){return a.Off;
}if("Cut"==b||"Copy"==b){return(h&&!h.collapsed)?a.Off:a.Disabled;
}var d=f.queryCommandEnabled(b);
if(!i.isOpera&&!d){if(!i.isSafari||b!="RealFontSize"){return a.Disabled;
}}return f.queryCommandState(b)?a.On:a.Off;
}catch(e){return a.Off;
}},getValue:function(b){try{b=b||this.get_window();
return b.document.queryCommandValue(this.CommandID);
}catch(a){}return null;
},onExecute:function(){var f=this.get_window();
if(!f){return false;
}var b=f.document;
if("AbsolutePosition"==this.CommandID){b.execCommand("2D-Position",false,true);
}var g=true;
if(this.CommandID=="BackColor"&&(this.isOpera||this.isFirefox)){this.CommandID="HiliteColor";
g=false;
}if(this.CommandID=="FontSize"&&this.isSafari2){var d=parseInt(this.Value,10);
switch(d){case 1:this.Value="8pt";
break;
case 2:this.Value="10pt";
break;
case 3:this.Value="12pt";
break;
case 4:this.Value="14pt";
break;
case 5:this.Value="18pt";
break;
case 6:this.Value="24pt";
break;
case 7:this.Value="36pt";
break;
}}try{b.execCommand("UseCSS",false,(false!=g));
b.execCommand("styleWithCSS",false,(false==g));
}catch(a){}if(!this.isIE&&!this.Value&&(this.CommandID=="ForeColor"||this.CommandID=="BackColor"||this.CommandID=="HiliteColor")){this.removeColorMozilla(this.CommandID);
}var c=Telerik.Web.UI.Editor.Utils.execDocumentCommand(b,this.CommandID,this.Value);
if(this.CommandID!="Outdent"&&this.CommandID!="Indent"&&this.CommandID!="SelectAll"){Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(b);
}if($telerik.isIE&&!$telerik.isIE9Mode){switch(this.CommandID){case"JustifyLeft":case"JustifyRight":case"JustifyNone":case"JustifyCenter":case"JustifyFull":this.ieFixAlignCommandsParagraphBraking();
break;
}}if($telerik.isFirefox&&(this.CommandID=="BackColor"||this.CommandID=="HiliteColor")&&this._editor.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this.mozFixContentAreaBackColor();
}try{b.execCommand("UseCSS",false,true);
b.execCommand("styleWithCSS",false,false);
}catch(a){}return c;
},ieFixAlignCommandsParagraphBraking:function(){var a=this.get_editor();
var d=Telerik.Web.UI.Editor.Utils.getElementParentByTag(a.getSelectedElement(),"P");
if(d&&d.firstChild){var b=d.firstChild;
var c=b.innerHTML;
if(c.indexOf("</P>")!=-1&&c.indexOf("<P>")==-1){Telerik.Web.UI.Editor.Utils.setElementInnerHtml(b,c.replace("</P>",""));
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(d,d.innerHTML+"</P>");
}}},mozFixContentAreaBackColor:function(){var b=this._editor.get_contentArea();
var a=b.style.backgroundColor;
if(a!=""){b.style.backgroundColor="";
var h=document.evaluate('.//text()[normalize-space(.) != ""]',b,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);
for(var c=0,d=h.snapshotLength;
c<d;
c++){var g=h.snapshotItem(c);
var f=document.createElement("span");
f.innerHTML=g.nodeValue;
f.style.backgroundColor=a;
var e=g.parentNode;
e.insertBefore(f,g);
e.removeChild(g);
}}},removeColorMozilla:function(a){var b=new Telerik.Web.UI.Editor.Selection();
b._window=this._window;
var c=b.getHtml();
if(c!=""){var g=b.GetParentElement();
if(g.innerHTML.trim()==c.trim()){this.removeNodeColor(g,a);
}var h=window.document.createElement("div");
h.innerHTML=c;
for(var d=0,e=h.childNodes.length;
d<e;
d++){var f=h.childNodes[d];
this.removeNodeColor(f,a);
}b.PasteHtml(h.innerHTML);
}},removeNodeColor:function(b,a){switch(a){case"ForeColor":if(b.style){b.style.color="";
}if(b.removeAttribute){b.removeAttribute("color");
}break;
case"BackColor":case"HiliteColor":if(b.style){b.style.backgroundColor="";
}if(b.removeAttribute){b.removeAttribute("bgColor");
}break;
}}};
Telerik.Web.UI.Editor.BrowserCommand.registerClass("Telerik.Web.UI.Editor.BrowserCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.StyleRuleCommand=function(f,d,c,g,b,a){Telerik.Web.UI.Editor.StyleRuleCommand.initializeBase(this,[f,d,true,a]);
if(!c){var e=new Telerik.Web.UI.Editor.Selection(this._window);
c=e.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,c);
this._styleAttributeName=g;
this._newValue=b;
};
Telerik.Web.UI.Editor.StyleRuleCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.StyleRuleCommand(this._title,this._window,null,this._styleAttributeName,this._newValue);
},execute:function(){var a=this._nodeBookmark.select();
if(!a){return false;
}if(!this._isExecuted){this._oldValue=a.style[this._styleAttributeName];
}a.style[this._styleAttributeName]=this._newValue;
this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
a.style[this._styleAttributeName]=this._oldValue;
}};
Telerik.Web.UI.Editor.StyleRuleCommand.registerClass("Telerik.Web.UI.Editor.StyleRuleCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.AttributeCommand=function(g,e,d,a,c,b){Telerik.Web.UI.Editor.AttributeCommand.initializeBase(this,[g,e,true,b]);
if(!d){var f=new Telerik.Web.UI.Editor.Selection(this._window);
d=f.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,d);
this._attribName=a;
this._newValue=c;
};
Telerik.Web.UI.Editor.AttributeCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.AttributeCommand(this._title,this._window,null,this._attribName,this._newValue);
},execute:function(){var a=this._nodeBookmark.select();
if(!a){return false;
}if(!this._isExecuted){if(this._attribName=="style"){this._oldValue=a.style.cssText;
}else{this._oldValue=a.getAttribute(this._attribName);
}}if(this._attribName&&this._attribName.toLowerCase()=="name"&&this.isIE){a.name=this._newValue;
a.removeAttribute("name");
a.removeAttribute("NAME");
if($telerik.isIE9Mode){var c=a.nodeName;
if(c=="INPUT"||c=="TEXTAREA"||c=="BUTTON"){a.removeAttribute("submitName");
a.setAttribute("name",this._newValue);
}}}var b=this._newValue.trim();
if(""==b){a.removeAttribute(this._attribName,0);
if("className"==this._attribName){a.removeAttribute("class",0);
}}else{if(this._attribName=="style"){a.style.cssText=this._newValue;
}else{a[this._attribName]=this._newValue;
if(this._attribName.toLowerCase()=="nowrap"||this._attribName=="borderColor"){a.setAttribute(this._attribName,this._newValue);
}}}this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
if(this._attribName=="style"){a.style.cssText=this._oldValue;
}else{a[this._attribName]=this._oldValue;
}}};
Telerik.Web.UI.Editor.AttributeCommand.registerClass("Telerik.Web.UI.Editor.AttributeCommand",Telerik.Web.UI.Editor.CommandBase);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
b.Editor.ClassNameCommand=function(f,d,e,c){b.Editor.ClassNameCommand.initializeBase(this,[(f||"Classname"),d,true,c]);
};
b.Editor.ClassNameCommand.prototype={getValue:function(c){c=c||this._window;
if($telerik.isIE){return this._getValueIE(c);
}else{return this._getValueMoz(c);
}},_getValueIE:function(d){var c=new b.Editor.Selection(d);
var e=c.getParentElement();
if(!e||b.Editor.Utils.isEditorContentArea(e)){return"";
}else{return(""==e.className?"":e.className);
}},_getValueMoz:function(f){if(!f){return"";
}var e=f.getSelection();
if(!e){return"";
}if(e.rangeCount!=1){return"";
}var i=(e.focusNode.nodeType!=3?e.focusNode:e.focusNode.parentNode);
var d=(e.anchorNode.nodeType!=3?e.anchorNode:e.anchorNode.parentNode);
if(i!=d){return"";
}var h=new b.Editor.Selection(f);
var c="",g;
if(null!=h&&null!=(g=h.getParentElement())){c=g.className;
}return(""==c?"":c);
}};
b.Editor.ClassNameCommand.registerClass("Telerik.Web.UI.Editor.ClassNameCommand",b.Editor.CommandBase);
b.Editor.FormatBlockCommand=function(f,d,e,c){b.Editor.FormatBlockCommand.initializeBase(this,[(f||"Format Block"),d,true,c]);
this.FormatValue=(e)?e:"<p>";
this._editor=c;
};
b.Editor.FormatBlockCommand.prototype={get_argument:function(){try{return this.FormatValue.substring(1,this.FormatValue.length-1).toUpperCase();
}catch(c){}},clone:function(){return new b.Editor.FormatBlockCommand(this.Title,this._window,this.FormatValue,this._editor);
},getValue:function(d){try{d=d||this._window;
var e=d.document.queryCommandValue("FormatBlock");
if(!document.all){switch(e){case"x":case"":e="Normal";
break;
}}return e;
}catch(c){}return null;
},onExecute:function(){var m=this._window.document;
var w=this.FormatValue;
var d=this._editor;
var j=null;
if("<p>"==w.toLowerCase()&&!$telerik.isOpera){m.execCommand("FormatBlock",false,"Normal");
}var p=true;
var t=this._getTagName();
var s=new b.Editor.Selection(this._window);
var f=s.getHtml();
if(f){var q=b.Editor.CommandList._markEditorSelection(d);
var k=q.newElements;
var n=q.oldElements;
var o=Function.createDelegate(this,function(i,l){var B=i.parentNode;
var x;
if(!$telerik.isFireFox&&l&&B.tagName=="A"&&B.childNodes.length==1){x=m.createElement(i.tagName);
b.Editor.Utils.removeNode(i);
B.parentNode.insertBefore(x,B);
x.appendChild(B);
i=x;
B=i.parentNode;
}x=m.createElement(t);
var y=(l)?i.innerHTML:$telerik.getOuterHtml(i);
b.Editor.Utils.setElementInnerHtml(x,y);
B.replaceChild(x,i);
if(/^(P|DIV|H[1-6]|ADDRESS|BLOCKQUOTE|PRE)$/.test(B.tagName)&&true!=b.Editor.Utils.isEditorContentArea(B)){$telerik.mergeElementAttributes(B,x,false);
if(B.childNodes.length==1){b.Editor.Utils.removeNode(B);
}else{var A=B.parentNode;
var z;
if(!x.previousSibling){A.insertBefore(x,B);
}else{if(!x.nextSibling){z=B.nextSibling;
if(z){A.insertBefore(x,z);
}else{A.appendChild(x);
}}else{var C=B.cloneNode(false);
while(x.nextSibling){C.appendChild(x.nextSibling);
}z=B.nextSibling;
if(z){B.parentNode.insertBefore(x,z);
B.parentNode.insertBefore(C,z);
}else{B.parentNode.appendChild(x);
B.parentNode.appendChild(C);
}}}}}b.Editor.Utils.removeNonXhtmlCompliantParents(x);
j=x;
this._applyAttributes(x);
});
var g,h;
for(g=0,h=k.length;
g<h;
g++){o(k[g],true);
}for(g=0,h=n.length;
g<h;
g++){o(n[g],false);
}}else{p=m.execCommand("FormatBlock",false,"<"+t+">");
var u=m.createElement("DIV");
u.innerHTML=w+"</"+t+">";
var v=u.getElementsByTagName(t)[0];
var r=d.getSelectedElement();
if(r.tagName==v.tagName){$telerik.mergeElementAttributes(v,r);
}}Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(m);
s=new b.Editor.Selection(this._window);
var e=s.getParentElement();
b.Editor.Utils.removeNearBrElements(e);
if(e&&e.tagName!=t){s.collapse(true);
s=new b.Editor.Selection(this._window);
e=s.getParentElement();
}if(f&&j){if($telerik.isIE8||$telerik.isIE7){d.selectElement(j);
d.getSelection().collapse();
}else{var c=b.Editor.DomRange.createRange(d.get_document());
c.selectNodeContents(j);
c.collapse();
c.select();
}}return p;
},_getTagName:function(){var c=this.FormatValue.replace(/.*?<([^\s]+)(\s|\/|>).*/i,"$1");
return c.toUpperCase();
},_applyAttributes:function(e){if(!e){return;
}var f=this.FormatValue;
var d=document.createElement("div");
d.innerHTML=f+"</"+this._getTagName()+">";
if(d.firstChild){var c=d.firstChild;
if(c.className){e.className=c.className;
}if(c.style.cssText){e.style.cssText=c.style.cssText;
}}}};
b.Editor.FormatBlockCommand.registerClass("Telerik.Web.UI.Editor.FormatBlockCommand",b.Editor.CommandBase);
b.Editor.ieFontCommandFix=function(c){this.editor=c;
this.fixCellText=$telerik.$();
};
b.Editor.ieFontCommandFix.prototype={applyFix:function(){if(this.shouldApplyFix()){this._fix();
}},_fix:function(){$telerik.$(this.editor.getSelectedElement()).find("td").each($telerik.$.proxy(function(c,d){if(b.Editor.Utils.isNodeEmpty(d)){var e=$telerik.$(document.createTextNode("_"));
$telerik.$(d).prepend(e);
this.fixCellText=this.fixCellText.add(e);
}},this));
},shouldApplyFix:function(){var c=this.editor.getSelectedElement();
return $telerik.isIE&&c&&c.tagName&&/^(?:tbody|tr)$/i.test(c.tagName);
},cleanUp:function(){if(!this.fixCellText){return;
}var c=this.fixCellText.parent();
this.fixCellText.remove();
c.filter(":empty").html("&nbsp;").parent().contents().slice(1).remove();
delete this.fixCellText;
}};
b.Editor.FormatSetsCommand=function(f,e,d,c){b.Editor.FormatSetsCommand.initializeBase(this,[(f||"Format Sets"),e,true,c]);
this._formatSets;
this._selectedElement;
this._formatSet=d;
};
b.Editor.FormatSetsCommand.prototype={onExecute:function(){var c=this.get_formatSet();
if(c){if(this._isInlineFormatSet(c)){return this._onExecuteInlineFormatSet();
}else{if(this._isBlockFormatSet(c)){return this._onExecuteBlockFormatSet();
}else{return this._onExecuteElementFormatSet();
}}}return false;
},_isInlineFormatSet:function(c){return !c[0];
},_isBlockFormatSet:function(c){return c[0]&&a.inArray(c[0].toLowerCase(),b.Editor.formatSetBlockElements)!=-1;
},_onExecuteInlineFormatSet:function(){var c=new Telerik.Web.UI.EditorCommandEventArgs("",null,"_RE_TELERIK_FORMATSETS"),d=this.get_editor(),f=this,e=this.get_formatSet();
c.addToUndoRedo=false;
d.fire("ApplyClass",c);
a("._RE_TELERIK_FORMATSETS",d.get_document()).each(function(h,g){g.className="";
f._applyAttributes(g,e[3]);
});
return true;
},_onExecuteBlockFormatSet:function(){var c=this.get_formatBlockCommand();
this.get_editor().executeCommand(c);
return true;
},get_formatBlockCommand:function(){var d=this.get_editor();
var c=new b.Editor.FormatBlockCommand("",d.get_contentWindow(),this.get_formatSetElementString(),d);
c.set_canUnexecute(false);
return c;
},get_formatSetElementString:function(){var c=this.get_formatSet(),d="";
if(c&&c[0]){d+="<"+c[0]+" "+this.get_formatSetAttributesString()+">";
}return d;
},get_formatSetAttributesString:function(){var e="",d=this.get_formatSet()[3];
if(d){for(var f=0,g=d.length;
f<g;
f++){var c=d[f];
e+=c.Name+'="'+c.Value+'" ';
}}return e;
},_onExecuteElementFormatSet:function(){var d=this._getElementToModify();
if(d){var c=this.get_formatSet()[3];
if(c){this._applyAttributes(d,c);
}}},_getElementToModify:function(){var d=this.get_selectedElement(),c=null,e=this.get_formatSet()[0];
if(e){while(d&&!b.Editor.Utils.isEditorContentArea(d)){if(e.toUpperCase()==d.tagName){c=d;
break;
}d=d.parentNode;
}}return c;
},_applyAttributes:function(d,c){for(var e=0,f=c.length;
e<f;
e++){this._applyAttribute(d,c[e]);
}},_applyAttribute:function(e,c){if(c&&c.Name){var d=c.Name.toLowerCase();
if(d=="class"){e.className=c.Value;
}else{if(d=="style"){e.style.cssText=c.Value;
}else{e.setAttribute(c.Name,c.Value,2);
}}}},getValue:function(d){var c=this.get_editor(),e=(c)?c.getSelectedElement():null,f={commandText:"",selectedElement:null};
if(e&&e.nodeType==3){e=e.parentNode;
}if(!(e&&b.Editor.Utils.isEditorContentArea(e))){f={commandText:this._getFormatSetTextByElement(e),selectedElement:e};
}return f;
},_getFormatSetTextByElement:function(c){var e=this.get_formatSets();
for(var f=0,g=e.length;
f<g;
f++){var d=e[f];
if(this._formatSetMatchesElement(d,c)){return d[1];
}}return"";
},_formatSetMatchesElement:function(e,c){var f=e[0],d=c&&c.tagName||"";
if(!f||d.toLowerCase()==f.toLowerCase()){return this._attributesMatch(e[3],c);
}return false;
},_attributesMatch:function(f,e){if(e&&e.getAttribute&&f.length){for(var g=0,h=f.length;
g<h;
g++){var c=f[g],d=c.Name;
if(d&&d.toLowerCase()=="style"){if(!this._ElementCssTextIsEqualToString(e,c.Value)){return false;
}}else{if(!d||e.getAttribute(d)!=c.Value){return false;
}}}return true;
}else{return false;
}},_ElementCssTextIsEqualToString:function(d,c){var e=false;
if(d&&d.style&&c){var f=d.ownerDocument.createElement("div");
f.style.cssText=c;
e=d.style.cssText==f.style.cssText;
}return e;
},get_formatSets:function(){if(!this._formatSets){var c=this.get_editor();
return(c)?c.get_formatSets():[];
}return this._formatSets;
},set_formatSets:function(c){this._formatSets=c;
},get_selectedElement:function(){if(!this._selectedElement){var c=this.get_editor();
this._selectedElement=(c)?c.getSelectedElement():null;
}return this._selectedElement;
},set_selectedElement:function(c){this._selectedElement=c;
},get_formatSet:function(){return this._formatSet;
},set_formatSet:function(c){this._formatSet=c;
}};
b.Editor.FormatSetsCommand.registerClass("Telerik.Web.UI.Editor.FormatSetsCommand",b.Editor.CommandBase);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.EnterNewLineCommand=function(k,j,f,h,i){var g=this;
b.EnterNewLineCommand.initializeBase(g,[(k||"Enter pressed"),j,true,h]);
g._newLineMode=i||h.get_newLineMode();
g.tag=g._newLineMode==c.EditorNewLineModes.Div?"div":"p";
g._canUnexecute=(f!=false);
g.doc=h.get_document();
};
b.EnterNewLineCommand.prototype={execute:function(){var g=this,h=g.get_editor();
if(h.get_mode()==c.EditModes.Preview){return false;
}var m=h.getSelection();
var f=m.getRange(true);
if(!f||(f.parentElement&&f.parentElement().nodeName=="TEXTAREA")||(f.commonAncestorContainer&&e.isTag(f.commonAncestorContainer.childNodes[f.startOffset],"textarea"))){h.bubbleKeyEventToBrowser();
return false;
}var j=new b.GenericCommand("Enter",h.get_contentWindow(),h);
h._fireDeleteSelectionCmd(false);
var l=(g._newLineMode==c.EditorNewLineModes.Br)?g.enterBr():g.enterBlockElement();
h.executeCommand(j);
if($telerik.isIE7&&h.get_contentAreaMode()==c.EditorContentAreaMode.Div){var i=m.getRange(true).parentElement();
var k=e.getElementParentByTag(i,"LI");
i=k?k.parentNode:i;
e._toggleElementZoom(i);
}return l;
},enterBr:function(){var g=this,h=g.get_editor(),n=h.getSelection(),m=n.getParentElement();
var j=e.getElementParentByTag(m,"LI");
if(j){return g.enterNewLineInList(j,m);
}var i=e.getElementParentByRegExpTagName(m,g.regExpHeader);
if(i){return g.insertBrInHeading(i);
}var k=e.getElementParentByTag(m,"A");
if(k){return g.insertBrInLink(k);
}var l=b.DomRange.toDomRange(n.getRange(true));
var f=g._insertBr(l);
g.setCursorAfterBr(f,l);
e.scrollTo(f,h);
return true;
},enterNewLineInList:function(h,i){var f=this,g=f.get_editor();
if(f.shouldOutdentListItem_OnEnter(h)){return f.outdentListItem_OnEnter(h);
}else{if(a(h).find("ol,ul").length>0){return f.executeInsertParagraphCommand(g,null);
}else{if(f._newLineMode!=c.EditorNewLineModes.Br){return f.executeInsertParagraphCommand(g,h,false);
}else{return f.executeInsertParagraphCommand(g,h);
}}}},_insertBr:function(j){var g=this,i=g.get_editor(),h=j.commonAncestorContainer,f=g.doc.createElement("br");
if(!e.isTextNode(h)&&h.childNodes[j.endOffset]){h=h.childNodes[j.endOffset];
}if(i.nodesTracker.isTracked(h)){h.parentNode.insertBefore(f,h);
}else{j.insertNode(f);
g._removeEmptyTextNode(f.previousSibling);
g._removeEmptyTextNode(f.nextSibling);
}return f;
},_removeEmptyTextNode:function(f){if(e.isTextNode(f)&&f.length==0){f.parentNode.removeChild(f);
}},executeInsertParagraphCommand:function(g,f,i){var h=new b.InsertParagraphCommand(g);
if(f){h.container=f;
}if(i===true||i===false){h.options.retainOriginalNodeName=i;
}if(i===false){h.options.tag=this.tag;
}return h.onExecute();
},insertBrInLink:function(i){var g=this,h=g.get_editor(),j=b.DomRange.toDomRange(h.getSelection().getRange(true)),f=g._insertBr(j);
if(g.isFirstElement(f,i)){a(f).insertBefore(i);
}else{if(g.isLastElement(f,i)){a(f).insertAfter(i);
}}g.setCursorAfterBr(f,j);
e.scrollTo(f,h);
return true;
},insertBrInHeading:function(j){var g=this,i=g.get_editor(),l=b.DomRange.toDomRange(i.getSelection().getRange(true)),f=g._insertBr(l);
if(g.isLastElement(f,j)){a(f).remove();
var k=g.doc.createElement("p");
a(k).insertAfter(j);
var h=g.doc.createElement("span");
h.innerHTML="&nbsp;";
k.appendChild(h);
e._setCursor(h,i);
e.scrollTo(k,i);
}else{g.setCursorAfterBr(f,l);
e.scrollTo(f,i);
}return true;
},isFirstElement:function(g,f){return this._isFirstOrLastElement(g,f,true);
},isLastElement:function(g,f){return this._isFirstOrLastElement(g,f,false);
},_isFirstOrLastElement:function(i,g,j){var f=this;
var l=i;
var h=f.get_editor().get_contentArea();
var k=a(g);
var m=j?"previousSibling":"nextSibling";
while(!k.is(l)&&a.contains(h,l)){while(l[m]){l=l[m];
if(!f.isEmptyTextNode(l)){return false;
}}l=l.parentNode;
}return true;
},setCursorAfterBr:function(f,j){var g=this,h=g.get_editor(),l=h.nodesTracker,i=f.nextSibling;
if(i&&e.isTextNode(i)&&(!e.isTextNodeEmpty(i)||l.isTracked(i))){return e._setCursorInTextNode(j,i,0,0);
}var k=l.createTrackedNode();
a(k).insertAfter(f);
l.selectTrackedNode(j,k);
},shouldOutdentListItem_OnEnter:function(f){return e.isNodeEmptyRecursive(f)||this.isEmptyListItem(f);
},isEmptyListItem:function(g){var f=this;
if(!e.isTag(g,"li")||a(g).find("br").length>1){return false;
}return e.isNodeEmptyRecursive(g)||e.every(g.childNodes,function(h){return f.isEmptyTextNode(h)||e.isTag(h,"br");
});
},isEmptyTextNode:function(f){return e.isTextNode(f)&&e.isTextNodeEmpty(f);
},isList:function(f){return e.isList(f);
},outdentListItem_OnEnter:function(i){var f=this;
var g=f.insertCursor();
var h=f.get_editor();
var j=new b.OutdentCommand(h);
j.executeDomCommand([i]);
if(f._newLineMode==c.EditorNewLineModes.Br){var k=e.getElementParentByTag(g,"P");
if(k){e.removeNode(k);
}}e._setCursor(g,h);
return true;
},insertCursor:function(){var f=this;
var j=f.get_editor();
var k=b.DomRange.toDomRange(j.getSelection().getRange(true));
var h=f.doc.createElement("span");
var g=k.commonAncestorContainer;
var l=j.nodesTracker;
if(l.isZeroWidthNode(g)){var i=g.parentNode;
i.insertBefore(h,g);
i.removeChild(g);
h.appendChild(l.createTrackedNode());
}else{k.insertNode(h);
}if(e.isBlockElement(g)&&!a.contains(g,h)){g.appendChild(h);
}return h;
},enterBlockElement:function(){var f=this,g=f.get_editor(),j=g.getSelectedElement(),i=e.getElementParentByTag(j,"LI");
if(i){return f.enterNewLineInList(i);
}var h=e.getElementParentByRegExpTagName(j,f.regExpHeader);
if(h){return f.enterHeading(h);
}else{return f.executeInsertParagraphCommand(g,null,false);
}},enterHeading:function(g){var i=this,f=i.get_editor(),h=new b.InsertParagraphCommand(f);
h.container=g;
h.options.insertParagraphAfterHeading=true;
h.options.retainOriginalNodeName=false;
h.options.tag=i._newLineMode==c.EditorNewLineModes.Div?"div":"p";
return h.onExecute();
},regExpHeader:/^h[1-6]$/i,isHeader:function(f){return this.regExpHeader.test(f.nodeName);
}};
b.EnterNewLineCommand.registerClass("Telerik.Web.UI.Editor.EnterNewLineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.TableCommandBase=function(c,b,a){Telerik.Web.UI.Editor.TableCommandBase.initializeBase(this,[(c||"Table Command"),b,true,a]);
};
Telerik.Web.UI.Editor.TableCommandsBase_Static={};
Telerik.Web.UI.Editor.TableCommandBase.prototype={getLayoutBuilderEngine:function(c,a){if(!Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder){Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder=new Telerik.Web.UI.LayoutBuilderEngine();
}var b=Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder;
b.set_selectedTable(c);
b.set_selectedCell(a);
return b;
},configureLayoutBuilderEngine:function(){var a=this.getSelectedCell();
if(!a){return false;
}var b=a.parentNode;
var c=this.getParentTable(b);
return this.getLayoutBuilderEngine(c,a);
},getState:function(a){return this.getSelectedCell(a)?Telerik.Web.UI.Editor.CommandStates.Off:Telerik.Web.UI.Editor.CommandStates.Disabled;
},getSelectedCell:function(a){var c=new Telerik.Web.UI.Editor.Selection(a||this._window);
var b;
if(c){b=c.getParentElement();
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TD"&&b.tagName!="TH"&&!d.isEditorContentArea(b)){b=b.parentNode;
}if(!b||!b.tagName){return null;
}return(b.tagName=="TD"||b.tagName=="TH"?b:null);
},getSelectedRow:function(a){var c=new Telerik.Web.UI.Editor.Selection(this._window||a);
var b;
if(c){b=c.getParentElement();
}if(!b){return null;
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TR"&&!d.isEditorContentArea(b)){b=b.parentNode;
}return(b&&b.tagName=="TR"?b:null);
},getParentTable:function(a){if(!a){return null;
}var b=Telerik.Web.UI.Editor.Utils;
while(null!=a&&"TABLE"!=a.tagName&&!b.isEditorContentArea(a)){a=a.parentNode;
}return(a&&a.tagName=="TABLE"?a:null);
}};
Telerik.Web.UI.Editor.TableCommandBase.registerClass("Telerik.Web.UI.Editor.TableCommandBase",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TableInsertRow=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertRow.initializeBase(this,[(d||"Insert row"),c,b]);
this._direction=a||"above";
};
Telerik.Web.UI.Editor.TableInsertRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertRow(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("below"==this._direction)?"insertRowBelow":"insertRowAbove");
}};
Telerik.Web.UI.Editor.TableInsertRow.registerClass("Telerik.Web.UI.Editor.TableInsertRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteRow=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteRow.initializeBase(this,[(c||"Delete Row"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteRow(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
this.selectAnotherRow(a);
return a.executeCommand("deleteRow");
},selectAnotherRow:function(c){if($telerik.isIE9Mode){var a=c._getLeftTopStateIndexes(c._selectedRowIndex,c._selectedCell.cellIndex);
var e=a.rowIndex;
var d=c._getSelectedTableCellByStateIndexes(e+1,0)||c._getSelectedTableCellByStateIndexes(e-1,0);
if(d){var b=this.get_editor().getSelection();
b.selectElement(d);
b.collapse(true);
}}}};
Telerik.Web.UI.Editor.TableDeleteRow.registerClass("Telerik.Web.UI.Editor.TableDeleteRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableInsertColumn=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertColumn.initializeBase(this,[(d||"Insert column"),c,b]);
this._direction=a||"left";
};
Telerik.Web.UI.Editor.TableInsertColumn.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertColumn(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
if($telerik.isRightToLeft(a._selectedTable)){this._direction=("right"==this._direction)?"left":"right";
}return a.executeCommand(("right"==this._direction)?"insertColumnToTheRight":"insertColumnToTheLeft");
}};
Telerik.Web.UI.Editor.TableInsertColumn.registerClass("Telerik.Web.UI.Editor.TableInsertColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteColumn=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteColumn.initializeBase(this,[(c||"Delete column"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteColumn.prototype={clone:function(){return Telerik.Web.UI.Editor.TableDeleteColumn.New(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("deleteColumn");
}};
Telerik.Web.UI.Editor.TableDeleteColumn.registerClass("Telerik.Web.UI.Editor.TableDeleteColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeRows=function(c,b,a){Telerik.Web.UI.Editor.TableMergeRows.initializeBase(this,[(c||"Merge rows"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeRows.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeRows.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeDown()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeDown");
},getLowerCell:function(a){if(!a){return null;
}var f=this.getParentTable(a);
var e=a.parentNode;
var d=f.rows[e.rowIndex+a.rowSpan];
if(!d){return null;
}var c=d.cells[a.cellIndex];
if(!c){for(var b=d.cells.length-1;
b>=0;
b--){if(d.cells[b].offsetLeft==a.offsetLeft){return d.cells[b];
}}}return c;
}};
Telerik.Web.UI.Editor.TableMergeRows.registerClass("Telerik.Web.UI.Editor.TableMergeRows",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeColumns=function(c,b,a){Telerik.Web.UI.Editor.TableMergeColumns.initializeBase(this,[(c||"Merge columns"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeColumns.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeColumns.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeRight()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},getNextSiblingCell:function(a){if(!a){return null;
}var c=a.parentNode;
var b=c.cells[a.cellIndex+1];
if(null!=b&&a.rowSpan==b.rowSpan){return b;
}else{return null;
}},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeRight");
}};
Telerik.Web.UI.Editor.TableMergeColumns.registerClass("Telerik.Web.UI.Editor.TableMergeColumns",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableSplitCell=function(d,c,a,b){Telerik.Web.UI.Editor.TableSplitCell.initializeBase(this,[(d||"Split cell"),c,b]);
this._direction=a||"vertical";
};
Telerik.Web.UI.Editor.TableSplitCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableSplitCell(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("vertical"==this._direction)?"splitCellVertically":"splitCellHorizontally");
},getRealCellIndex:function(a){if(!a){return 0;
}var e=a.parentNode;
var c=0;
var b=0;
while(e.cells.length>c&&e.cells[c]!=a){var d=e.cells[c];
if(d.colSpan>1){b+=d.colSpan;
}else{b++;
}c++;
}return b;
}};
Telerik.Web.UI.Editor.TableSplitCell.registerClass("Telerik.Web.UI.Editor.TableSplitCell",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteCell=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteCell.initializeBase(this,[(c||"Delete cell"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteCell(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canDeleteCell()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("deleteCell");
}};
Telerik.Web.UI.Editor.TableDeleteCell.registerClass("Telerik.Web.UI.Editor.TableDeleteCell",Telerik.Web.UI.Editor.TableCommandBase);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=function(){};
c.prototype={getImages:function(f){var k=f.items;
var j=[];
for(var g=0;
g<k.length;
g++){var h=this._getImage(k[g]);
if(h){j.push(h);
}}return j;
},getName:function(){return"ClipboardDataObject";
},_getImage:function(h){if(h.type.indexOf("image")!==-1){var f=h.getAsFile();
var j=window.URL||window.webkitURL;
var i=j.createObjectURL(f);
var g=new Image();
g.src=i;
g.onload=function(k){var l=new FileReader();
l.onload=function(m){if(g.src!=m.target.result){g.src=m.target.result;
}};
l.readAsDataURL(f);
};
return g;
}return null;
}};
var d=function(){};
d.prototype={getImages:function(){return[];
},getName:function(){return"NoFiles";
}};
b.ClipboardImagesProvider=function(){this.clipboardObject=null;
};
b.ClipboardImagesProvider.prototype={chooseProvider:function(f){if(this.supportsClipboardData(f)&&this.containsFiles(f.clipboardData)){return new c();
}else{return new d();
}},supportsClipboardData:function(f){return !!f.clipboardData;
},containsFiles:function(f){var g=!!(f.types&&f.types.length&&f.types.length>0&&e.containsElement(/files/i,f.types));
return g;
},getImages:function(f){var g=this.chooseProvider(f);
return g.getImages(f.clipboardData);
}};
b.ClipboardImagesProvider.registerClass("Telerik.Web.UI.Editor.ClipboardImagesProvider",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.DomBlockCommandBase=function(f,h){var g=this.options=a.extend({window:f?f.get_contentWindow():d,title:"Indent",canUnexecute:d,blockTag:f&&f.get_newLineMode()==c.EditorNewLineModes.Div?"div":"p",noDuplicateNodeEdges:true,isSuitableNode:e.isBlockElement},h||{});
b.DomBlockCommandBase.initializeBase(this,[g.title,g.window,g.canUnexecute,f]);
};
b.DomBlockCommandBase.prototype={onExecute:function(){this.storeRange();
var g=this.collectElements(this.getEditorRange());
var h=this._splitNodes(g);
for(var f=0;
f<h.length;
f++){this.nodes=h[f];
this.executeDomCommand(this.nodes);
this.fireFormattingChanged();
this.cleanUp();
}this.restoreRange();
return true;
},executeDomCommand:function(i){var j=this;
if(e.isTag(i[0],"li")&&b.OutdentCommand.isInstanceOfType(j)){var g=i[0].parentNode;
var f=function(k){return g==k.parentNode;
};
if(!e.isTag(e.getBlockParent(g),"li")&&e.every(i,f)){j._executeInsertListCommand(i);
}}while(i.length){var h=i.shift();
if(j.isSuitableNode(h)){j.executeOnNode(h);
}else{j.executeInlineNode(h);
}}},isSuitableNode:function(f){return this.options.isSuitableNode(f);
},topLimitCondition:function(f){return e.isEditorContentArea(f);
},inlineWrapper:null,executeOnNode:Function.emptyFunction,executeInlineNode:function(g,h){var f=this.collectFragment(g);
if(h||!this.isEmptyFragment(f)){this.executeOnFragment(f);
}},executeOnFragment:function(f){var g=this.createWrappingBlock();
this.wrapFragmentInBlock(f,g);
this.executeOnNode(g,true);
return g;
},getCssState:function(j,f,g){var h=this.nodes=this.collectElements(j);
var i=this.getNodesState(h,f,g);
this.cleanUp();
return i?Telerik.Web.UI.Editor.CommandStates.On:Telerik.Web.UI.Editor.CommandStates.Off;
},getNodesState:function(k,f,g){var l=k.length>0;
var m=0;
for(var h=0;
h<k.length;
h++){var j=k[h];
if(this.isSuitableNode(j)){l=l&&this.getNodeState(j,f,g);
m++;
}}if(m==0){l=this.getEmptySuitableListState();
}return l;
},getNodeState:function(h,f,g){var i=h.style;
return(!g&&!i)||(i&&i[f]==g);
},getEmptySuitableListState:function(){return false;
},collectFragment:function(g){this.blockFragmentTraverser=new b.BlockFragmentsTraverser();
var f=this.blockFragmentTraverser.traverseFragment(g);
var h=this.nodes;
while(h.length>0&&f.contains(h[0])){h.shift();
}return f;
},createWrappingBlock:function(){var f=this.get_editor().get_document();
return f.createElement(this.options.blockTag);
},wrapFragmentInBlock:function(f,g){f.insertBeforeFirst(g);
f.appendTo(g);
return g;
},isEmptyFragment:function(f){var j=f.nodes;
for(var g=0;
g<j.length;
g++){var h=j[g];
if(e.isTag(h,"img")||!e.isWhitespaceNode(j[g])){return false;
}}return true;
},cleanUp:function(){this.traverser=this.nodes=null;
this.clearTrackedNodes();
},collectElements:function(h){if(!h){return[];
}var i=Function.createDelegate(this,this.topLimitCondition);
var j=this.traverser=new b.RangeBlockTraverser(h,{isSuitableNode:this.options.isSuitableNode});
var f=j.traverse(i);
this.removeDuplicateEdges(f);
if(f.length==1&&e.isTag(f[0],"br")){var g=f[0];
f=[g.previousSibling||g.nextSibling];
}return f;
},findFirstInlineChild:function(g){var f=g.firstChild;
while(e.isBlockElement(f)){f=f.nextSibling;
}return f;
},removeDuplicateEdges:function(h){if(!this.options.noDuplicateNodeEdges||h.length==0){return;
}var f=h[0],g=h[h.length-1];
if(h.length>1&&f==g){h.pop();
}},storeRange:function(){var f=this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(f);
},restoreRange:function(){try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(f){}},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},rememberNewSelectedNode:function(g,f){var h=this.rangeMemento;
if(!h){return;
}if(h.startContainer==g){h.startContainer=f;
}if(h.endContainer==g){h.endContainer=f;
}},isRTL:function(){if(!this._editor){return;
}var f=this.get_editorContentArea();
return(f.style.direction||$telerik.getComputedStyle(this.get_editorContentArea(),"direction"))=="rtl";
},_splitNodes:function(f){if(!this.get_editor().get_enableImmutableElements()){return[f];
}return e.splitElementsByCondition(f,Function.createDelegate(e,e.isImmutableNode));
},_executeInsertListCommand:function(h){var i=this;
var g=h[0].parentNode.nodeName;
var f=new b.InsertListCmd(i.get_editor(),{listType:g,title:g=="UL"?"InsertUnorderedList":"InsertOrderedList"});
f.nodes=h;
f.rangeMemento=i.rangeMemento;
f.executeDomCommand(h);
if("elements" in f){var j=f.elements;
j.reverse();
i._innerCommand=f.get_title();
while(j.length){i.trackChangedNode(j.pop());
}}}};
b.DomBlockCommandBase.registerClass("Telerik.Web.UI.Editor.DomBlockCommandBase",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,b,h,f){var e="__telerik_marker",g=8203;
function c(i){return d(i)||(h.isTextNode(i)&&h.isTextNodeEmpty(i)&&(/\n|\r/.test(i.nodeValue)||(i.previousSibling&&!d(i.previousSibling))||(i.nextSibling&&!d(i.nextSibling))));
}function d(i){return i&&i.className==e;
}b.InlineCommand=function(j,i,l){this.settings=i||{};
var k=this.options=a.extend({window:j?j.get_contentWindow():f,title:"Inline command",canUnexecute:f},l||{});
b.InlineCommand.initializeBase(this,[k.title,k.window,k.canUnexecute,j]);
};
b.InlineCommand.prototype={onExecute:function(){try{return this.executeInlineCommand();
}catch(i){a("."+e,this.get_editor().get_contentArea()).remove();
}},executeInlineCommand:function(){var j=this,n=j.range=j.getEditorRange(),l=j.get_editor(),o=j.getState(l.get_contentWindow(),l),k=j.collapsedRange=n?n.isCollapsed():true;
if(k&&!j.settings.isNotGreedy){var i=j.getWordBoundaries(n.startContainer,n.startOffset);
n.setStart(n.startContainer,i.left);
n.setEnd(n.startContainer,i.right);
n.select();
}var m=j.traverseFragments(n);
j.emptyRange=n?n.toString()=="":true;
j.storeRangeByFragments(m);
j.rangeChanged=false;
j.removeFormatting=j.shouldRemoveFormatting(o);
if(j.removeFormatting){j.removeFormat(m);
}else{j.formatFragments(m);
}j.fireFormattingChanged();
j.consolidate(n);
if(!j.rangeChanged){j.restoreRange();
}return true;
},shouldRemoveFormatting:function(i){return i==b.CommandStates.On;
},getState:function(l,i,k){var j=k||b.DomRange.rangeFromWindow(l);
return this.getStateByRange(j,i);
},getStateByRange:function(j,i){if(!j||j.commonAncestorContainer.nodeType==9){return b.CommandStates.Off;
}if(!j.isCollapsed()){j.normalizeEdges();
}var k=j.startContainer;
if(!h.isTextNode(k)&&k.childNodes[j.startOffset]){k=k.childNodes[j.startOffset];
}if(!h.isTextNode(k)&&h.canHaveChildren(k)){k=this.getFirstTextNodeOrSame(k);
}if(h.isTextNode(k)&&h.isTextNodeEmpty(k)&&!k.previousSibling&&i&&k.parentNode===i.get_contentArea()){k=this.getNextTextNode(k);
}k=this.findFormattedAncestor(k);
return k&&this.isSameFormatNode(k)?b.CommandStates.On:b.CommandStates.Off;
},getWordBoundaries:function(k,l){var i={left:-1,right:1},n=k.nodeValue,j,m;
if(!n||(this.isCharEmptyOrWhiteSpace(n.charAt(l))||this.isCharEmptyOrWhiteSpace(n.charAt(l-1)))){return{right:l,left:l};
}j=this.getBoundary(l,n,i.left),m=this.getBoundary(l,n,i.right);
return{right:m,left:j};
},getBoundary:function(k,m,i){var l=k<=0||k>=m.length;
if(m.charAt(k)===" "){var j=i<0?1:0;
return k+j;
}if(l){return k;
}k+=i;
return this.getBoundary(k,m,i);
},getNextTextNode:function(j){if(!j){return null;
}var i=j.nextSibling;
while(i&&!h.isTextNode(i)&&(i.firstChild||i.nextSibling)){if(i.firstChild){i=i.firstChild;
}else{if(i.nextSibling){i=i.nextSibling;
}}}return i?i:j;
},getFirstTextNodeOrSame:function(j){var i=j.firstChild;
while(i&&i.firstChild&&!h.isTextNode(i)){i=i.firstChild;
}return h.isTextNode(i)?i:j;
},removeFormat:function(m){var i=this,j=i.get_editor();
if(i.emptyRange){var n=b.DomRange.rangeFromWindow(j.get_contentWindow()),l=i.findFormattedAncestor(n.startContainer);
if(!l||!i.isSameFormatNode(l)){return;
}if(i.isRangeAtEnd(n,l)){var o=h.isTextNode(n.startContainer)?n.startContainer.parentNode:n.startContainer,p=i.createMarker(),k=p.cloneNode(true);
o.appendChild(p);
o.appendChild(k);
i.removeFormat_extract(l,p,k);
}else{i.persistRangeThroughParent(l);
i.removeNodeFormatting(l);
}}else{i.removeFormat_fragments(m);
}},removeFormat_fragments:function(k){var i=this;
while(k.length){var j=k.shift();
if(!j.isEmpty()){i.removeFormat_fragment(j);
}}},isRangeAtEnd:function(k,j){var l=k.startContainer,m=k.startOffset,i=this._isZeroWidthTextNode(l)?true:h.isTextNode(l)?m==l.length:m==l.childNodes.length;
while(i&&h.isAncestorOf(j,l)){while(i&&l.nextSibling){l=l.nextSibling;
i=h.isEmptyDom(l);
}l=l.parentNode;
if(h.isBlockElement(l)){break;
}}return i;
},removeFormat_fragment:function(l){var i=this;
i.cleanUpFormat(l);
var m=l.getParent();
var k=i.findFormattedAncestor(m);
if(k&&i.isSameFormatNode(k)&&!h.isEditorContentArea(k)){var j=i.getFragmentEdges(l);
i.removeFormat_extract(k,j.first,j.last);
}},getFragmentEdges:function(j){var l=j.nodes,i=l[0],k=l[l.length-1];
if(this.isMarker(i.previousSibling)){i=i.previousSibling;
}if(this.isMarker(k.nextSibling)){k=k.nextSibling;
}return{first:i,last:k};
},removeFormat_extract:function(k,j,l){var i=this;
if(h.isBlockElement(k)){i.removeBlockElementFormat(k,j,l);
}else{i.extractFormatting(k,j,l);
i.removeNodeFormatting(k);
i.removeEmptyNode(k);
}},removeBlockElementFormat:function(k,j,m){var i=this;
i._setEnabledChangeFormatTracking(false);
i.removeNodeFormatting(k);
i.removeSameFormatChildren(k);
i._setEnabledChangeFormatTracking(true);
i.formatInlineChildren(k);
var l=i.findFormattedAncestor(j);
if(l){i.removeFormat_extract(l,j,m);
}},formatInlineChildren:function(l){var i=l.firstChild;
var j=this;
while(i){if(h.isBlockElement(i)){j.formatInlineChildren(i);
}else{var m=j._getNextInlineSiblings(i);
var k=j._formatNodes(m);
i=k||i;
}i=i.nextSibling;
}},_getNextInlineSiblings:function(j){var i=[j];
var k=j.nextSibling;
while(k&&!h.isBlockElement(k)){i.push(k);
k=k.nextSibling;
}return i;
},_formatNodes:function(n){var k=false;
var j;
for(var l=0;
l<n.length;
l++){var m=n[l];
k=!(h.isTextNode(m)&&h.isTextNodeEmpty(m));
if(k){break;
}}if(k){j=this.createInlineNode();
a(j).insertAfter(n[n.length-1]);
while(n.length){j.appendChild(n.shift());
}}return j;
},extractFormatting:function(k,j,m){var l=k.parentNode;
var i=new b.DomTreeExtractor(k);
var n=i.extractBefore(j);
var p=i.extractAfter(m);
var o=h.cloneNodeClean(k);
var q=h.cloneNodeClean(k);
q.appendChild(p);
o.appendChild(n);
if(!h.isNodeEmptyRecursive(o,true)){l.insertBefore(o,k);
}if(!h.isNodeEmptyRecursive(q,true)){l.insertBefore(q,k.nextSibling);
}},removeNodeFormatting:function(k){var l=this;
l.removeNodeCssFormatting(k);
if(l.isSameTagFormat(k)){k=h.replaceNode(k,"span");
}if(!l.isNodeStyled(k)&&!h.hasAttributes(k)&&h.isTag(k,"span")){for(var j=0;
j<k.childNodes.length;
j++){if(!l.isMarker(k.childNodes[j])){l.trackChangedNode({node:k.childNodes[j]});
}}h.removeNode(k);
}else{l.trackChangedNode({node:k});
}},removeNodeCssFormatting:function(j){var i=this;
if(!i.isSameCssFormat(j)){return;
}i.removeCommandFormattingValue(j);
i._removeEmptyStyles(j);
i.trackChangedNode({node:j});
},removeCommandFormattingValue:function(j){var i=this.settings;
j.style[i.cssName]=j.style[i.cssName].replace(i.cssValue,"").trim();
},_removeEmptyStyles:function(j){var k=j.style;
if($telerik.isIE7||$telerik.isIE8){var i=k.cssText+";";
k.cssText=i.replace(/((font-family)|(color)|(text-decoration)):\s*;/gi,"");
}if(/^\s*$/.test(k.cssText)){j.removeAttribute("style");
}},formatFragments:function(l){var i=this;
var n=i.getEditorRange();
if(l.length==0){var j=i.getSingleFormatNode(n);
var m;
if(j){m=i.createInlineNode();
if(m.nodeName==j.nodeName){i.formatNode(j);
i.trackChangedNode({node:j});
i.setCursorInInlineNode(j,n);
}else{m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}else{if(!i.hasSameFormatting()){m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}}while(l.length){var k=l.shift();
i.cleanUpFormat(k);
if(!i.isEmptyInlineFragment(k)){i.formatFragment(k);
}}},isCharEmptyOrWhiteSpace:function(i){if(!i){return true;
}return/\s/g.test(i)||i.charCodeAt(0)==g;
},isEmptyInlineFragment:function(i){return i.all(c);
},hasSameFormatting:function(){return false;
},getSingleFormatNode:function(k){var i=this;
var j=i._getCommonContainer(k);
if(i._isZeroWidthTextNode(j)&&j.parentNode.childNodes.length==1){return j.parentNode;
}if(h.isTextNode(j)&&j.length==k.startOffset&&j.nextSibling&&/^[\u200b]?$/.test(j.nextSibling.innerHTML)){return j.nextSibling;
}},insertSingleFormatNode:function(n){var i=this,l=i.createInlineNode(),j=i._getCommonContainer(n);
if(i._isZeroWidthTextNode(j)){j.parentNode.insertBefore(l,j);
l.appendChild(j);
}else{n.insertNode(l);
var m=l.previousSibling;
var k=l.nextSibling;
if(h.isTextNode(m)&&m.length==0){m.parentNode.removeChild(m);
}if(h.isTextNode(k)&&k.length==0){k.parentNode.removeChild(k);
}}i.trackChangedNode({node:l});
return l;
},_getCommonContainer:function(j){var i=j.commonAncestorContainer;
return !h.isTextNode(i)&&i.childNodes[j.startOffset-1]?i.childNodes[j.startOffset-1]:i;
},_isZeroWidthTextNode:function(i){return h.isTextNode(i)&&/^[\u200b]+$/.test(i.nodeValue);
},formatFragment:function(k){var i;
if(this.isSameFormat(k)){if(this.formattedNode&&this.isParentCommon(k.getParent(),this.formattedNode)){var j=k.getParent();
k.clear();
k.addAll(j.childNodes);
k.appendTo(this.formattedNode);
j.parentNode.removeChild(j);
}}else{if(!this.isEmptyInlineFragment(k)){i=this.formattedNode=this.createInlineNode();
k.insertBeforeFirst(i);
k.appendTo(i);
this.trackChangedNode({node:i});
}}},formatNode:function(i){if(i.style&&this.settings.cssName){i.style[this.settings.cssName]=this.settings.cssValue;
}},createInlineNode:function(){var i=this.get_window().document,j=this.settings,l=!j.tag,k=i.createElement(j.tag||"span");
if(l){k.style[j.cssName]=j.cssValue;
}return k;
},traverseFragments:function(j){var i=this;
if(!j){j=i.getEditorRange();
}var k=new b.RangeFragmentsTraverser(j);
k.traverseFragments(a.proxy(i.traverseCondition,i));
return k.traversedFragments;
},traverseCondition:function(k){var i=this;
var j=i.get_editor().get_enableImmutableElements()&&h.isImmutableNode(k);
return !j&&i.shouldCollectNode(k);
},shouldCollectNode:function(i){return b.FragmentsCondition.isInlineNode(i)&&!h._isContentAreaLastBr(i);
},storeRangeByFragments:function(k){var i=this;
if(k.length){var j=k[0];
var l=k[k.length-1];
i.startMarker=i.createMarker();
i.endMarker=i.startMarker.cloneNode(true);
j.insertBeforeFirst(i.startMarker);
l.appendNodeAfter(i.endMarker);
}else{i.storeRange();
}},storeRange:function(j){var i=j||this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(i);
},persistRangeThroughParent:function(k){var j=this.rangeMemento;
if(j){var i=h.findNodeIndex(k);
if(j.startContainer==k){j.startContainer=k.parentNode;
j.startOffset+=i;
}if(j.endContainer==k){j.endContainer=k.parentNode;
j.endOffset+=i;
}}},restoreRange:function(){var o=this.range;
var m=a("."+e,this.get_editor().get_contentArea());
var i=new b.Consolidator();
if(m.length){var k=m[0],n=k.nextSibling,l=m[1];
if((h.isTextNode(n)&&h.isTextNodeEmpty(n)&&l.previousSibling===n)||(k===l.previousSibling)){a(l).remove();
this.restoreCollapsedRange(k);
}else{if(!i.normalizeTextEdge(k,o,true)){o.setStartAfter(m[0]);
}if(!i.normalizeTextEdge(l,o,false)){o.setEndBefore(m[1]);
}o.select();
}m.remove();
}else{try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(j){}}},restoreCollapsedRange:function(l){var p=this.range;
var j=this.get_editor();
var n=l.parentNode;
var i=new b.Consolidator();
j.setActive();
j.setFocus();
var o=l.previousSibling;
var m=l.nextSibling;
if(i.normalizeTextEdge(l,p)){p.collapse();
}else{if(h.isTextNode(o)){p.setEnd(o,o.length);
p.collapse();
}else{if(!$telerik.isSafari&&h.isTextNode(m)){p.setStart(m,0);
p.collapse(true);
}else{var k=j.nodesTracker.createTrackedNode();
n.insertBefore(k,l);
p.setEnd(k,1);
p.collapse();
}}}p.select();
},consolidate:function(k){var i=new b.Consolidator(),j=this.getContentElement();
i.consolidateMarkedEdges(j);
i.normalize(k?k.commonAncestorContainer:j);
},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},getContentElement:function(){return this.get_editor().get_contentArea();
},removeEmptyNode:function(i){if(h.isNodeEmptyRecursive(i)&&!h.hasAttributes(i)&&i.parentNode){i.parentNode.removeChild(i);
}},cleanUpFormat:function(k){var j=this;
j.cleanUpFragment=k;
var n=k.nodes;
for(var l=n.length-1;
l>=0;
l--){var m=n[l];
if(!j._shouldCleanUpNode(m)){continue;
}j.removeSameFormatChildren(m);
j.removeSameFormat(m,l);
}},_shouldCleanUpNode:function(i){return !h.isTextNode(i)&&!this.isMarker(i);
},removeSameFormatChildren:function(j){var i=this;
var k=i.getSameFormatChildren(j);
while(k.length){i.removeSameFormat(k.shift());
}},getSameFormatChildren:function(l){var m=[];
if(this.settings.tag){m=a.makeArray(l.getElementsByTagName(this.settings.tag));
}else{var j=this.settings.altTags;
for(var k=0;
k<j.length;
k++){m=m.concat(a.makeArray(l.getElementsByTagName(j[k])));
}}m=m.concat(a.makeArray(l.getElementsByTagName("span")));
return m;
},removeSameFormat:function(o,m){var p=this;
if(p.isSameFormatNode(o)){if(!isNaN(m)&&p.shouldRemoveNode(o)){p.cleanUpFragment.removeNodeAt(m);
var l=o.childNodes;
for(var n=l.length-1;
n>=0;
n--){var k=l[n];
p.cleanUpFragment.addNodeAt(k,m);
}}p.removeNodeFormatting(o);
}},shouldRemoveNode:function(){return true;
},findFormattedAncestor:function(k){if(this.isSameFormatNode(k)){return k;
}var l=this._editor?this._editor.get_contentArea():this.findBody(k);
var i=Function.createDelegate(this,function(m){return this.isSameFormatNode(m)||h.isEditorContentArea(m);
});
var j=h.findAncestorBy(l,k,i);
return j===l?null:j;
},findBody:function(j){var i=j.ownerDocument;
return i.getElementsByTagName("body")[0];
},isSameFormat:function(i){var j=i.getParent();
return this.isSameFormatNode(j);
},isSameFormatNode:function(i){return this.isSameTagFormat(i)||this.isSameCssFormat(i);
},isSameTagFormat:function(i){return(h.isTag(i,this.settings.tag)||this.isAltTagFormat(i))&&(!i.className||this.isTrackChangesNode(i));
},isAltTagFormat:function(k){var l=this.settings.altTags;
for(var j=0;
j<l.length;
j++){if(h.isTag(k,l[j])){return h.isTag(k,"font")?this.isFormattingFont(k):true;
}}return false;
},isSameCssFormat:function(j){var k=this.settings,i=k.cssName,l=k.cssValue;
return i&&l&&j.style&&j.style[i].indexOf(l)>-1;
},isNodeStyled:function(i){return i.style.cssText!="";
},isParentCommon:function(i,j){return i&&j&&i.parentNode&&i.parentNode==j.parentNode;
},isMarker:function(i){return i&&(i===this.startMarker||i===this.endMarker||i.className==e);
},isMarkerOrEmptyTextNode:function(i){return i.className==e||(h.isTextNode(i)&&h.isTextNodeEmpty(i));
},getMarkersCssClass:function(){return e;
},createMarker:function(){var i=this.get_editor().get_document();
var j=i.createElement("span");
j.className=e;
j.innerHTML="&nbsp;";
return j;
},isFormattingFont:function(i){return h.isTag(i,"font")&&(this.hasStyle(i,this.settings.cssName)||this.hasAttribute(i,this.settings.altTagAttr));
},hasStyle:function(j,i){return i&&!!j.style[i];
},hasAttribute:function(j,i){return i&&j.hasAttribute?j.hasAttribute(i):!!j.getAttribute(i);
},setCursorInInlineNode:function(k,l){var i=this;
var j=i.get_editor();
if(!i._isZeroWidthTextNode(k.firstChild)){k.innerHTML="&#x200b;";
j.whitespaceTracker.trackNode(k.firstChild);
}j.setActive();
j.setFocus();
l.setStart(k,1);
l.setEnd(k,1);
l.collapse();
l.select();
i.rangeChanged=true;
},isTrackChangesNode:function(i){return !!b.TrackChangesUtils&&b.TrackChangesUtils.isTrackChangeElement(i);
},extractTrackedAncestor:function(k){var i=this;
if(!i.get_editor().shouldTrackChanges()){return;
}var l=b.TrackChangesUtils;
var m=l.getTrackedAncestor(k.getParent());
if(m){var j=i.getFragmentEdges(k);
i.extractFormatting(m,j.first,j.last);
a(m).find("*").addBack().filter(function(n,o){return l.isTrackChangeElement(o);
}).each(function(n,o){i.trackChangedNode({node:o,commandName:l.getTrackChangesCommand(o),overrideTracking:true});
});
}}};
b.InlineCommand.registerClass("Telerik.Web.UI.Editor.InlineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InlineCommandWithValue=function(f,e,g){b.InlineCommandWithValue.initializeBase(this,[f,e,g]);
};
b.InlineCommandWithValue.prototype={shouldRemoveFormatting:function(){return !this.options.commandValue;
},getState:function(g,e,f){return b.CommandStates.Off;
},getValue:function(j,i){if(!i||!this.settings.enableToolStateValue){return;
}if(!i.isCollapsed()){i.normalizeEdges();
}var f=this.settings.cssName,g=i.startContainer,h=i.startOffset,e;
if(d.isTextNode(g)){g=g.parentNode;
}else{if((e=g.childNodes)&&e[h]&&!d.isTextNode(e[h])){g=e[h];
}}return $telerik.getComputedStyle(g,f)||$telerik.getComputedStyle(g,this.getAltCssName(f));
},getCurrentStyle:function(h,f){if(!h||d.isTextNode(h)){return null;
}var g;
f=f||this.settings.cssName;
if(d.isTag(h,"font")&&this.settings.altTagAttr&&this.hasAttribute(h,this.settings.altTagAttr)){g=h.getAttribute(this.settings.altTagAttr);
}if(h.style[f]){g=h.style[f];
}else{var e=this.getAltCssName(f);
if(h.style[e]){g=h.style[e];
}}return g;
},getAltCssName:function(f){var e=f;
if(f.indexOf("-")!=-1){e=f.replace(/-([a-z])/gi,function(h,g){return g.toUpperCase();
});
}else{if(/^[a-zA-Z]+$/.test(f)){e=f.replace(/([A-Z])/g,function(h,g){return"-"+g.toLowerCase();
});
}}return e;
},hasSameFormattingValue:function(g,e){if(!this.options.commandValue){return false;
}e=e||this.settings.cssName;
var f=this.getCurrentStyle(g,e);
if(!f){return false;
}if(/color/i.test(e)&&/^rgb/i.test(f)){f=d._rgbToHex(f);
}if(/size/i.test(e)){if(/px$/i.test(this.options.commandValue)&&!/px$/i.test(f)){f=$telerik.getComputedStyle(g,this.getAltCssName(e))||f;
if(!/px$/i.test(f)){f+="px";
}}}return f.replace(/[;'"]/g,"").toLowerCase()==this.options.commandValue.replace(/[;'"]/g,"").toLowerCase();
},formatFragment:function(f){var e;
var k=f.getParent();
var l=this.findSameFormattedAncestor(k);
if(l&&this.hasSameFormattingValue(l)){return;
}if(this.shouldFormatParentNode(f)){this.formatNode(l||k,true);
}else{for(var g=0;
g<f.nodes.length;
g++){var h=f.nodes[g];
if(this.isMarker(h)||this.hasSameFormatting(h)){continue;
}if(d.isTag(h,"font")){this.formatFont(h);
}else{var j=this.settings.tag||"SPAN";
if(h.nodeName==j&&!h.parentNode.style[this.settings.cssName]){this.formatNode(h);
}else{if(h.parentNode.nodeName==j&&this.getNodesTextContent([h])==this.getNodesTextContent([h.parentNode])){this.formatNode(h.parentNode);
}else{e=this.createInlineNode();
f.insertBeforeFirst(e);
f.appendTo(e);
}}}}}},findSameFormattedAncestor:function(g){if(this.getCurrentStyle(g,this.settings.cssName)){return g;
}var e=this._editor.get_contentArea();
if(g.parentNode==e){return null;
}var f=Function.createDelegate(this,function(i){return !!this.getCurrentStyle(i,this.settings.cssName);
});
var h=d.findAncestorBy(e,g,f);
if(!this.getCurrentStyle(h,this.settings.cssName)){return null;
}return h;
},createInlineNode:function(){var e=this.get_window().document,g=this.settings.tag,f=e.createElement(g||"span");
if(!g){f.style[this.settings.cssName]=this.options.commandValue;
}return f;
},shouldFormatParentNode:function(e){var g=e.getParent();
if(d.isBlockElement(g)){return false;
}g=this.findFormattedAncestor(g);
var f=d.isTag(g,"span")||d.isTag(g,"font");
return this.collapsedRange||(f&&this.getNodesTextContent(g.childNodes)==this.getNodesTextContent(e.nodes));
},getNodesTextContent:function(g){var e="",h;
for(var f=0;
f<g.length;
f++){h=d.isTextNode(g[f])?g[f].nodeValue:d.getTextContent(g[f]);
e+=h?h:"";
}return e.replace(/[\n\s]+/gm,"");
},formatNode:function(f,e){if(d.isTag(f,"font")){this.formatFont(f,e);
if(!d.isTag(f,"span")){d.replaceNode(f,"span");
}}else{if(f.style&&this.settings.cssName){f.style[this.settings.cssName]=this.options.commandValue;
}}},formatFont:function(e,f){this.removeNodeFormatting(e,f);
if(this.settings.cssName){e.style[this.settings.cssName]=this.options.commandValue;
}},removeNodeFormatting:function(h,g){var k=this,f=k.isSameTagFormat(h);
k.removeNodeCssFormatting(h);
if(k.isFormattingFont(h)){k.removeFontFormatting(h);
}if(!g&&f&&!d.isTag(h,"span")){var j=h;
h=d.replaceNode(h,"span");
if(this.cleanUpFragment){this.cleanUpFragment.nodes[Array.indexOf(this.cleanUpFragment.nodes,j)]=h;
}}if(!g&&!k.isNodeStyled(h)&&!d.hasAttributes(h)&&d.isTag(h,"span")){for(var e=0;
e<h.childNodes.length;
e++){if(!k.isMarker(h.childNodes[e])){k.trackChangedNode({node:h.childNodes[e]});
}}d.removeNode(h);
}else{k.trackChangedNode({node:h});
}},removeFontFormatting:function(e){if(this.hasStyle(e,this.settings.cssName)){e.style[this.settings.cssName]="";
}if(this.hasAttribute(e,this.settings.altTagAttr)){e.removeAttribute(this.settings.altTagAttr);
}},shouldRemoveNode:function(g){if(!d.isTag(g,"font")){return !(g.style&&g.style.length>1);
}if(!d.hasAttributes(g)){return true;
}var h=[];
var e=function(i){if(!i){return;
}i=i.toLowerCase();
if(Array.indexOf(h,i)==-1){h.push(i);
}};
if(g.getAttribute("face")){e("font-family");
}if(g.getAttribute("color")){e("color");
}if(g.getAttribute("size")){e("size");
}if(g.style){for(var f=0;
f<g.style.length;
f++){e(g.style[f]);
}}if(h.length<2){return true;
}return false;
},removeCommandFormattingValue:function(e){e.style[this.settings.cssName]="";
},hasSameFormatting:function(f){if(!f){var g=this.getEditorRange();
f=d.isTextNode(g.commonAncestorContainer)?g.commonAncestorContainer.parentNode:g.commonAncestorContainer;
}if(this.hasSameFormattingValue(f)){return true;
}var e=this.findSameFormattedAncestor(f);
if(!e){return false;
}return this.hasSameFormattingValue(e);
},isSameCssFormat:function(e){return this.settings.cssName&&e.style&&!!e.style[this.settings.cssName];
}};
b.InlineCommandWithValue.registerClass("Telerik.Web.UI.Editor.InlineCommandWithValue",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,h,g){var d="textAlign";
var e="verticalAlign";
b.AlignCommand=function(i,j){this._trackValign=!!j.valign;
j=a.extend({align:"none",valign:"none",title:"Align",isSuitableNode:f},j||{});
b.AlignCommand.initializeBase(this,[i,j]);
};
b.AlignCommand.prototype={getState:function(s,i,p){var n=b.CommandStates.On;
var m=b.CommandStates.Off;
var o=p||b.DomRange.rangeFromWindow(s);
var j=this._getAlignValue();
var k=this._getValignValue();
var l=this.getCssState(o,d,j);
var q=this._trackValign?this.getCssState(o,e,k):n;
return(l==n&&q==n)?n:m;
},getNodeState:function(l,i,j){if(this.nodes.length==1&&h.isTag(l,"img")){i=this._getCssFloatName();
var m=this.options;
if((m.align!="left"||m.align!="right"||m.align!="none")&&!l.style[i]){var k=this.getBlockContainer(l);
if(k&&k!=l){l=k;
i=d;
}}}return b.AlignCommand.callBaseMethod(this,"getNodeState",[l,i,j]);
},getEmptySuitableListState:function(){return this.options.align=="none"&&!this._trackValign;
},topLimitCondition:function(j,i){return h.isEditorContentArea(j)||h.isTag(i,"img");
},executeOnNode:function(k,j){if(h.isTag(k,"table")){return this.executeDomCommand(a(k).children("thead,tbody").children("tr").get());
}if(h.isTag(k,"tr")){return this.executeDomCommand(a(k).children("td").get());
}if(h.isTag(k,"ul")||h.isTag(k,"ol")){return this.executeDomCommand(a.makeArray(k.children));
}if(h.isTag(k,"img")){if(this.nodes.length==0&&this.canAlignImage()){if(this.options.align=="none"){this.hAlignBlock(this.getBlockContainer(k));
}return this.alignImage(k);
}else{this.removeImageAlign(k);
var i=this.getBlockContainer(k);
if(i!=k){this.executeOnNode(i);
}else{return this.executeInlineNode(k);
}}}this.alignBlock(k,j);
},alignBlock:function(j,i){this.hAlignBlock(j,i);
this.vAlignBlock(j,i);
},hAlignBlock:function(j,i){this._alignBlock(j,d,this._getAlignValue(),i);
},vAlignBlock:function(j,i){this._alignBlock(j,e,this._getValignValue(),i);
},_alignBlock:function(j,l,m,i){if(!j){return;
}var k=j.style[l];
j.style[l]=m;
this.trackChangedNode({node:j,cssProperty:l,originalValue:k,isWrapper:i});
},alignImage:function(k){var i=this._getAlignValue(),j=this._getCssFloatName();
var l=k.style[j];
k.style[j]=i;
this.trackChangedNode({node:k,cssProperty:j,originalValue:l});
},getBlockContainer:function(i){var j=[i];
this.traverser.edgesToBlock(j,function(k){return h.isEditorContentArea(k);
});
return j[0];
},canAlignImage:function(){var i=this.options.align;
return i=="left"||i=="right"||i=="none";
},removeImageAlign:function(i){i.style[this._getCssFloatName()]="";
},_getAlignValue:function(i){return c(this.options.align);
},_getValignValue:function(i){return c(this.options.valign);
},_getCssFloatName:function(){return $telerik.isIE&&!$telerik.isIE10Mode?"styleFloat":"cssFloat";
}};
b.AlignCommand.registerClass("Telerik.Web.UI.Editor.AlignCommand",b.DomBlockCommandBase);
function f(i){return h.isBlockElement(i)||h.isTag(i,"img");
}function c(i){return i==="none"?"":i;
}})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){function d(f){return b.InlineCommandSettings[f];
}function c(i){var f=i+"Command",j="Telerik.Web.UI.Editor."+f,h=d(i);
h.commandName=i;
var g=b[f]=function(l,m){var k=b[h.commandName]?b[h.commandName]:h.hasValue?b.InlineCommandWithValue:b.InlineCommand;
return new k(l,h,m);
};
g.registerClass(j);
}b.InlineCommandSettings={Bold:{tag:"strong",altTags:["b"],cssName:"fontWeight",cssValue:"bold"},Italic:{tag:"em",altTags:["i"],cssName:"fontStyle",cssValue:"italic"},Underline:{altTags:["u"],cssName:"textDecoration",cssValue:"underline"},StrikeThrough:{tag:"del",altTags:["strike"],cssName:"textDecoration",cssValue:"line-through"},Subscript:{tag:"sub",altTags:[]},Superscript:{tag:"sup",altTags:[]},ForeColor:{altTags:["font"],cssName:"color",altTagAttr:"color",hasValue:true},BackColor:{altTags:["font"],cssName:"backgroundColor",hasValue:true},FontName:{altTags:["font"],cssName:"fontFamily",altTagAttr:"face",enableToolStateValue:true,hasValue:true},RealFontSize:{altTags:["font"],cssName:"fontSize",altTagAttr:"size",enableToolStateValue:true,hasValue:true},TrackChangesInsert:{tag:"ins",isNotGreedy:true},TrackChangesDelete:{tag:"del",isNotGreedy:true,altTags:[]},TrackChangesRemoveFormat:{isNotGreedy:true}};
c("Bold");
c("Italic");
c("Underline");
c("StrikeThrough");
c("Subscript");
c("Superscript");
c("ForeColor");
c("BackColor");
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,m){Type.registerNamespace("Telerik.Web.UI.Editor");
var d=Telerik.Web.UI.Editor;
var n=d.Utils;
var l=".__telerik_marker";
var h="&nbsp;";
d.DeleteSelectionCommand=function(q,v,t){var p=this;
var u=a.extend({complete:false},v||{});
var r=a.extend({title:"Delete"},t||{});
d.DeleteSelectionCommand.initializeBase(p,[q,u,r]);
p.settings.isNotGreedy=true;
};
d.DeleteSelectionCommand.prototype={executeInlineCommand:function(){var o=this,u=o.range=o.getEditorRange(),r=o.get_editor();
var s=o.traverseFragments(u);
var t;
if(s.length){t=s[s.length-1].getParent();
}o.emptyRange=u.toString()=="";
o.storeRangeByFragments(s);
o.rangeChanged=false;
o.formatFragments(s);
o.fireFormattingChanged();
var p=c(),q=r.get_contentArea();
p.consolidateMarkedEdges(q);
p.normalize(u.commonAncestorContainer);
this.cleanUpEmptyContent(t);
o.restoreRange();
return true;
},formatFragments:function(s){var o=this;
if(s.length===0){return;
}var r=o.get_editor();
var q=r.get_contentArea();
while(s.length){this.formatFragment(s.shift());
}var p=c();
p.stichMarkedEdges(q);
},formatFragment:function(p){var o=this;
Array.forEach(p.nodes,function(q){o.deleteNodeContent(q);
});
},getStateByRange:function(p,o){if(!p){return d.CommandStates.Disabled;
}return p.isCollapsed()||(o&&o.nodesTracker.isTracked(p.commonAncestorContainer))?d.CommandStates.Disabled:d.CommandStates.Off;
},deleteNodeContent:function(o){if(n.isTag(o,"td")){n.removeChildren(o);
o.innerHTML=h;
}else{j(o);
}},cleanUpEmptyContent:function(v){var p=this.get_editor();
var o=p.get_contentArea();
var y=this.settings;
k(o);
while(v&&v!==o&&n.isNodeEmptyRecursive(v,true)){var w=v;
if(g(w)){this.deleteNodeContent(w);
break;
}v=w.parentNode;
if(v){j(w);
}}if(y.complete){var q=e(o)[0];
var r=q.parentNode;
var x;
var u=function(s){return n.isTag(r,s);
};
var t=function(s){return r.getElementsByTagName(s).length>0;
};
while(r&&r!==o&&!u("td")&&!u("th")&&(!u("li")||f(r))&&(r.childNodes.length==1||((u("tbody")||u("table"))&&!t("tr"))||(n.isList(r)&&!t("li")))){x=r;
r=r.parentNode;
if(r){r.insertBefore(q,x);
j(x);
}}}},shouldCollectNode:function(q){var o=this.get_editor().get_contentArea();
var p=function(r){return n.isTag(q,r);
};
return(q!==o)&&!p("tr")&&!p("tbody");
},restoreRange:function(){var o=e(this.get_editor().get_contentArea());
if(o.length){this.restoreCollapsedRange(o[0]);
o.remove();
}}};
function b(s,t){var p=d.NodeComparer;
var q=n.isBlockElement;
var r=n.isList;
var u=i(s)&&i(t);
var o=(q(s)&&q(t));
var v=(r(s)===r(t));
return s&&t&&u&&((o&&v)||p.equalNodes(s,t));
}function c(){return new d.Consolidator({nodeCompare:b});
}function j(o){o.parentNode.removeChild(o);
}function k(o){var p=e(o);
if(p.length>1){j(p[1]);
}}function f(o){var p=o.parentNode;
return p.getElementsByTagName("li").length==1;
}function e(o){return a(o).find(l);
}function i(p){var o=n.isTag;
return !(o(p,"table")||o(p,"tr")||g(p));
}function g(o){return n.isTag(o,"td")||n.isTag(o,"th");
}d.DeleteSelectionCommand.registerClass("Telerik.Web.UI.Editor.DeleteSelectionCommand",d.InlineCommand);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
b.FindReplaceCommand=function(e){var d=e?["",e.get_contentWindow(),false,e]:[];
b.FindReplaceCommand.initializeBase(this,d);
};
b.FindReplaceCommand.prototype={onExecute:function(){var d=this.get_editor();
var e=d.findReplaceManager;
if(!e){return false;
}e.toggle();
return true;
},getState:function(f,d){var e=this.isOn(d);
return e?b.CommandStates.On:b.CommandStates.Off;
},isOn:function(d){var e=d.findReplaceManager;
return e&&e.isVisible();
}};
b.FindReplaceCommand.registerClass("Telerik.Web.UI.Editor.FindReplaceCommand",b.CommandBase);
})($telerik.$);
(function(a,b,d,c){b.FontName=function(e,f){b.FontName.initializeBase(this,[e,b.InlineCommandSettings.FontName,f]);
};
b.FontName.prototype={getValue:function(k,h){var j=b.FontName.callBaseMethod(this,"getValue",[k,h]),e=this.get_editor(),f=(e&&j)?e.get_fontNames():[];
for(var g=0;
g<f.length;
g++){if(f[g].toLowerCase()==j.toLowerCase()){j=f[g];
break;
}}return j;
}};
b.FontName.registerClass("Telerik.Web.UI.Editor.FontName",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d){var e=b.Utils;
var c="TELERIK_formatPainterContentWrapper";
b.FormatPainterCommand=function(g,f,i){var h=a.extend({title:"Format Painter"},i||{});
b.FormatPainterCommand.initializeBase(this,[g,f,h]);
};
b.FormatPainterCommand.prototype={formatFragments:function(h){var f=this;
var i=h.length&&f.settings.formatting?f._createFormattingTree():d;
while(h.length&&i){var g=h.shift();
if(!f.isEmptyInlineFragment(g)){f.formatFragment(g,i);
}}},formatFragment:function(k,i){var f=this;
var l=i.cloneNode(true);
var g=a(l).find("span."+c).removeClass(c).get(0);
k.insertBeforeFirst(l);
k.appendTo(g);
var m=l.parentNode;
if(e.isBlockElement(l)&&e.isBlockElement(m)){if(l.nodeName==m.nodeName||e.isBlockComponent(l)){e.removeNode(l);
}else{if(!e.isBlockComponent(m)&&e.isHeading(l)){if(f.isMarker(l.previousSibling)){k.insertBeforeFirst(l.previousSibling);
}if(f.isMarker(l.nextSibling)){k.appendNodeAfter(l.nextSibling);
}f.extractFormatting(m,l,l);
e.removeNode(m);
}else{if(e.isHeading(m)||e.isBlockComponent(m)){e.removeNode(l);
}}}}var j=f.settings.formatting;
var n=j&&j.computedStyles?j.computedStyles:{};
var o=g;
var h=f._getStyleDifferences(o,n);
if(h){a(o).css(h);
}else{e.removeNode(o);
}},_getStyleDifferences:function(k,i){var f;
var g=$telerik.getComputedStyle;
for(var j in i){var l=g(k,j);
var h=i[j];
if(l!=h){if(!f){f={};
}f[j]=h;
}}return f;
},_createFormattingTree:function(){var f=this;
var n=f.settings.formatting;
var l=n&&n.elements?n.elements:[];
var k=f.get_editor().get_document();
var g=k.createElement("div");
var j=g;
for(var p=l.length-1;
p>=0;
p--){var m=l[p];
var o=k.createElement(m.nodeName);
f._setAttributes(o,m);
j.appendChild(o);
j=o;
}var h=k.createElement("span");
h.className=c;
j.appendChild(h);
return g.firstChild;
},_attributes:["class","style","size","color","face"],_setAttributes:function(g,f){Array.forEach(this._attributes,function(h){if(f[h]){g.setAttribute(h,f[h]);
}});
},getState:function(){return b.CommandStates.Off;
}};
b.FormatPainterCommand.registerClass("Telerik.Web.UI.Editor.FormatPainterCommand",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,o){Type.registerNamespace("Telerik.Web.UI.Editor");
var d=Telerik.Web.UI.Editor;
var p=d.Utils;
var b=Sys.UI.DomElement.addCssClass;
var k=Sys.UI.DomElement.removeCssClass;
var i=/^(?:dl|ol|table|tbody|thead|tr|ul)$/i;
var j=Telerik.Web.Platform;
var l="__reTextHighlight";
var h="__reNodeHighlight";
var g="__reHighlightMarker";
var c="reAndroid";
var e="reIOS";
d.HighlightCommand=function(q,s){var r=a.extend({title:"Highlight",window:q?q.get_contentWindow():o});
d.HighlightCommand.initializeBase(this,[r.title,r.window,false,q]);
};
d.HighlightCommand.prototype={highlight:function(){var q=this;
var r=q.get_editor();
var t=r.getDomRange();
var s=[];
if(!t){return;
}s=q.traverseFragments(t);
if(!s.length){q.startMarker=this.createMarker();
t.insertNode(q.startMarker);
}else{q.storeRangeByFragments(s);
q.highlightFragments(s);
}},remove:function(){var q=this;
q.removeHighlight();
q.restoreRange();
},removeHighlight:function(){var q=this.getHighlightContainer();
this.removeTextHighlight(q);
this.removeNodesHighlight(q);
},removeTextHighlight:function(q){var r=a(q).find(m(l));
r.each(function(){p.removeNode(this);
});
},removeNodesHighlight:function(q){var r=a(q).find(m(h));
r.removeClass(function(){k(this,h);
if(this.className==""){this.removeAttribute("class");
}});
},highlightFragments:function(r){var q=this;
Array.forEach(r,function(s){q.highlightFragment(s);
});
},highlightFragment:function(r){var q=this;
var s=r.nodes;
Array.forEach(s,function(t){q.highlightNode(t);
});
},highlightNode:function(r){var q=this;
if(p.isTextNode(r)){return this.highlightText(r);
}else{q._addPlatformSpecificDecoration(r);
b(r,h);
}},highlightText:function(v){var q=this;
var u=v.parentNode;
if(f(u)){return;
}var s=this.get_editor();
var r=s.get_document();
var t=r.createElement("span");
q._addPlatformSpecificDecoration(t);
b(t,l);
u.insertBefore(t,v);
t.appendChild(v);
},traverseFragments:function(q){var r=new d.RangeFragmentsTraverser(q);
r.traverseFragments(n);
return r.traversedFragments;
},storeRangeByFragments:function(s){var q=this;
var r=s[0];
var t=s[s.length-1];
q.startMarker=q.createMarker();
q.endMarker=q.startMarker.cloneNode(true);
r.insertBeforeFirst(q.startMarker);
t.appendNodeAfter(q.endMarker);
},restoreRange:function(){var q=this;
var s=this.get_editor();
var t=this.getMarkers();
var r=new d.Consolidator();
if(t.length===0){return;
}if(q.isCollapsedHighlight()){this.restoreCollapsedRange(q.startMarker);
}else{var u=s.getDomRange()||d.DomRange.createRange(s.get_document());
if(!r.normalizeTextEdge(t[0],u,true)){u.setStartAfter(t[0]);
}if(!r.normalizeTextEdge(t[1],u,false)){u.setEndBefore(t[1]);
}u.select();
}t.remove();
q.reset();
},restoreCollapsedRange:function(t){var r=this.get_editor();
var x=r.getDomRange();
var v=t.parentNode;
var q=new d.Consolidator();
var w=t.previousSibling;
var u=t.nextSibling;
if(q.normalizeTextEdge(t,x)){x.collapse();
}else{if(p.isTextNode(w)){x.setEnd(w,w.length);
x.collapse();
}else{if(!$telerik.isSafari&&p.isTextNode(u)){x.setStart(u,0);
x.collapse(true);
}else{var s=r.nodesTracker.createTrackedNode();
v.insertBefore(s,t);
x.setEnd(s,1);
x.collapse();
}}}x.select();
},reset:function(){this.range=o;
this.startMarker=o;
this.endMarker=o;
},getHighlightContainer:function(){var q=this.getMarkers();
if(q.length==1){return q.parent()[0];
}else{return p.findCommonAncestor(q[0],q[1]);
}},getMarkers:function(){var q=this;
var r=a(q.startMarker);
if(q.endMarker){r=r.add(q.endMarker);
}return r;
},createMarker:function(){var q=this;
var r=this.get_editor().get_document();
var s=r.createElement("span");
q._addPlatformSpecificDecoration(s);
b(s,g);
return s;
},isCollapsedHighlight:function(){return !this.endMarker;
},_addPlatformSpecificDecoration:function(q){if(j.android){b(q,c);
}else{if(j.ios){b(q,e);
}}}};
d.HighlightCommand.registerClass("Telerik.Web.UI.Editor.HighlightCommand",d.CommandBase);
function n(){return true;
}function m(q){return"."+q;
}function f(q){return p.checkForElement(q,i);
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.IndentCommand=function(e,f){f=a.extend({step:40},f||{});
b.IndentCommand.initializeBase(this,[e,f]);
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.IndentCommand.prototype={topLimitCondition:function(e){return e==this.get_editorContentArea()||d.isTag(e,"td");
},isSuitableNode:function(e){return d.isBlockElement(e);
},executeOnNode:function(f,e){if(d.isTag(f,"li")){this.indentList(f);
}else{this.indentBlock(f,e);
}},getState:function(){return b.CommandStates.Off;
},innerList:null,indentedList:null,indentList:function(e){if(d.isAncestorOf(this.indentedList,e)||d.isAncestorOf(this.innerList,e)){return;
}if(this.isFirstListItem(e)){this.indentedList=e.parentNode;
this.indentBlock(this.indentedList);
}else{if(!this.innerList){this.innerList=this.indentSublist(e);
}this.trackChangedNode({node:e});
this.innerList.appendChild(e);
}},indentSublist:function(g){var e=this.get_editor().get_document();
var h=a(g).prev();
var f=this.findExistingInnerList(h[0]);
if(!f){f=e.createElement(g.parentNode.tagName);
h.append(f);
}return f;
},findExistingInnerList:function(e){return a(e).children("ol,ul").last()[0];
},isFirstListItem:function(f){var e=f.parentNode;
return e.getElementsByTagName("li")[0]==f;
},indentBlock:function(e,f){if(d.isTag(e,"td")){return this.executeDomCommand(a.makeArray(e.childNodes));
}var g=e.style[this.cssIndentRule];
e.style[this.cssIndentRule]=this.calculateIndent(e)+"px";
this.trackChangedNode({node:e,cssProperty:this.cssIndentRule,originalValue:g,isWrapper:f});
},calculateIndent:function(f){var e=parseInt(f.style[this.cssIndentRule],10)||0;
e+=this.options.step;
return e;
},cleanUp:function(){this.innerList=this.indentedList=null;
b.IndentCommand.callBaseMethod(this,"cleanUp");
}};
b.IndentCommand.registerClass("Telerik.Web.UI.Editor.IndentCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,b,e){var d="__telerik_marker";
var f=b.Utils;
b.InsertLinkCommand=function(n,m,o,j){b.InsertLinkCommand.initializeBase(this,[n,m,true,j]);
this.utils=b.Utils;
this.linkProperties={};
if(o){var h=o.attributes;
for(var k=0,l=h.length;
k<l;
k++){var g=h[k].name;
this.linkProperties[g]=o.getAttribute(g);
}a.extend(this.linkProperties,{id:o.getAttribute("id"),href:o.getAttribute("href",2),target:o.target,title:o.title,className:o.className,name:o.name,innerHTML:o.childNodes.length==1&&this.utils.isTextNode(o.firstChild)?o.innerHTML:""});
}};
b.InsertLinkCommand.prototype={onExecute:function(){if(this.executeOverFragments()){return true;
}var g=this.getCurrentFormattedAncestor();
if(g){var h=this.getRange();
h.selectNodeContents(g);
h.select();
return this.executeOverFragments();
}else{return this.insertSingleLink();
}},executeOverFragments:function(){var g=this.traverseFragments();
if(g.length){this.storeRangeByFragments(g);
var h=this.insertLinkByFragments(g);
this.restoreRange();
return h;
}},insertLinkByFragments:function(j){for(var k=0;
k<j.length;
k++){var h=j[k];
var m=h.getParent();
var g=this.findFormattedAncestor(m);
var n=!!g;
var l=n?this.applyLinkProperties(g):this.createLink();
if(!n){h.insertBeforeFirst(l);
if(this.linkProperties.innerHTML){h.remove();
}else{h.appendTo(l);
}}if(!this.stripIfEmpty(l)){this.raiseDomChangeEvent(l);
}}return true;
},insertSingleLink:function(){var h=this.getRange();
h.collapse(true);
var g=this.createLink();
h.insertNode(g);
h.selectNode(g);
h.select();
this.raiseDomChangeEvent(g);
return true;
},createLink:function(){var i=this.linkProperties;
var g=this.get_window().document;
var h=g.createElement(($telerik.isIE&&!$telerik.isIE9Mode)&&i.name?"<a name='"+i.name+"'>":"a");
return this.applyLinkProperties(h);
},applyLinkProperties:function(g){var i=this.linkProperties;
for(var h in i){this._applyDomProperty(g,h,i[h]);
}return g;
},getCurrentFormattedAncestor:function(){var g=this.getRange(),h=g.getParentElement();
return this.findFormattedAncestor(h);
},findFormattedAncestor:function(i){var g=this.get_editor().get_contentArea();
if(this.utils.isTag(i,"a")){return i;
}else{var h=this.utils.findAncestorByTag(g,i,"a");
return h==g?null:h;
}},raiseDomChangeEvent:function(j){var i=this.get_editor();
var h=this.get_title();
var g=new c.EditorCommandEventArgs(h,null,j);
i._executeCommandEvent("domChange",h,g);
},_applyDomProperty:function(h,i,j){if(j){if(i=="innerHTML"||i=="className"||i=="spellcheck"){if(j!=h[i]){h[i]=j;
}}else{h.setAttribute(i,j,2);
}}else{var g=this.resolveAttributeName(i);
if(g){h.removeAttribute(g);
}}},resolveAttributeName:function(g){return g=="className"?"class":g=="innerHTML"?null:g;
},stripIfEmpty:function(g){g.normalize();
if(this.utils.isWhitespaceNode(g)){g.parentNode.removeChild(g);
return true;
}else{if(g.innerHTML.toLowerCase()=="<br>"){this.utils.removeNode(g);
return true;
}}return false;
},traverseFragments:function(){var g=this.getRange();
var i=new Telerik.Web.UI.Editor.RangeFragmentsTraverser(g);
var h=this._getTraverseCondition();
i.traverseFragments(h);
return i.traversedFragments;
},_getTraverseCondition:function(){var i=$telerik.isIE&&!$telerik.isIE10Mode,h=this.get_editor().get_enableImmutableElements(),g;
if(!h){g=i?b.FragmentsCondition.inlineNotLinkForIE8:b.FragmentsCondition.inlineNotLink;
}else{if(i){g=function(j){return b.FragmentsCondition.inlineNotLinkForIE8(j)&&!b.Utils.isImmutableNode(j);
};
}else{g=function(j){return b.FragmentsCondition.inlineNotLink(j)&&!b.Utils.isImmutableNode(j);
};
}}return g;
},storeRangeByFragments:function(i){var g=this;
if(i.length===0){return;
}var h=i[0];
var j=i[i.length-1];
g.startMarker=g.createMarker();
g.endMarker=g.startMarker.cloneNode(true);
h.insertBeforeFirst(g.startMarker);
j.appendNodeAfter(g.endMarker);
},restoreRange:function(){var l=this.getRange();
var j=a("."+d,this.get_editor().get_contentArea());
var g=new b.Consolidator();
if(j.length==0){return;
}var h=j[0],k=h.nextSibling,i=j[1];
if((f.isTextNode(k)&&f.isTextNodeEmpty(k)&&i.previousSibling===k)||(h===i.previousSibling)){a(i).remove();
this.restoreCollapsedRange(h);
}else{if(!g.normalizeTextEdge(h,l,true)){l.setStartAfter(j[0]);
}if(!g.normalizeTextEdge(i,l,false)){l.setEndBefore(j[1]);
}l.select();
}j.remove();
},getRange:function(){return Telerik.Web.UI.Editor.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},createMarker:function(){var g=this.get_editor().get_document();
var h=g.createElement("span");
h.className=d;
h.innerHTML="&nbsp;";
return h;
}};
b.InsertLinkCommand.registerClass("Telerik.Web.UI.Editor.InsertLinkCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.InsertListCmd=function(e,f){f=a.extend({listType:"ul",title:"InsertUnorderedList",noDuplicateNodeEdges:false},f||{});
b.InsertListCmd.initializeBase(this,[e,f]);
};
b.InsertListCmd.prototype={executeDomCommand:function(f){this.isListOn=this.getNodesState(f);
if(f.length==1){var e=f[0];
if(!e){return this.insertEmptyList();
}else{if(this.shouldReplaceWithEmptyList(e)){e.parentNode.removeChild(e);
return this.insertEmptyList();
}}}b.InsertListCmd.callBaseMethod(this,"executeDomCommand",[f]);
},isSuitableNode:function(e){var f=d.isTag;
return d.isBlockElement(e)&&!f(e,"td")&&!f(e,"table");
},executeOnNode:function(h,e){if(this.isList(h)){return this.executeDomCommand(a.makeArray(h.children));
}if(d.isTag(h,"li")){var g=h.parentNode;
if(this.insertedList&&this.insertedList!=g){if(this.isSameListType(g)){this.addWholeList(g);
}else{this.insertedList.appendChild(h);
this.removeEmptyList(g);
}}if(!this.insertedList){if(this.isListOn){this.removeListItem(h);
}else{if(this.isSameListType(g)){this.insertedList=g;
}else{this.replaceListItem(h);
}}}}else{if(!this.insertedList){this.insertedList=this.insertNewListBefore(h);
}var i=h.nodeName;
var f=this.replaceNodeRangeSafe(h,"li");
this.insertedList.appendChild(f);
this.trackChangedNode({node:f,originalNodeName:i,isWrapper:e});
}},executeInlineNode:function(f){var e=d.isTag(f,"td");
if(e){f=this.findFirstInlineChild(f);
}b.InsertListCmd.callBaseMethod(this,"executeInlineNode",[f,e]);
},shouldReplaceWithEmptyList:function(e){var f=function(g){return d.isTag(e,g);
};
return !this.isListOn&&d.isEmptyDom(e)&&!f("img")&&!f("li")&&!f("td")&&!this.isList(e);
},transformListItem:function(j,l){var h=j.parentNode;
var i=h.parentNode;
var g=a.makeArray(a(h).children());
var k=Array.indexOf(g,j);
var f=g.length;
if(k>0&&k<f-1){this.splitList(h,g.splice(k+1,f-k));
}var e=l(j);
i.insertBefore(e,(k==0?h:h.nextSibling));
this.trackChangedNode(a.extend(this.trackChangedNodeArgs||{},{nodeIndex:k,itemsCount:f}));
this.trackChangedNodeArgs=null;
this.removeEmptyList(h);
},replaceListItem:function(e){this.transformListItem(e,Function.createDelegate(this,function(i){var h=i.parentNode,f=a(h).children(),g=f.length,j=Array.indexOf(a.makeArray(f),i);
this.insertedList=this.createList();
this.insertedList.appendChild(i);
$telerik.mergeElementAttributes(h,this.insertedList);
this.trackChangedNodeArgs={node:this.insertedList,itemIndex:j,itemsCount:g,parentNode:h};
return this.insertedList;
}));
},removeListItem:function(e){this.transformListItem(e,Function.createDelegate(this,function(j){var i=j.parentNode,f=a(i).children(),h=f.length,k=Array.indexOf(a.makeArray(f),j);
var l=j.nodeName;
var g=this.replaceNodeRangeSafe(j,this.options.blockTag);
this.trackChangedNodeArgs={node:g,originalNodeName:l,itemIndex:k,itemsCount:h,parentNode:i};
return g;
}));
},splitList:function(f,h){var g=this.insertNewListAfter(f,f.tagName);
for(var e=0;
e<h.length;
e++){g.appendChild(h[e]);
}return g;
},getState:function(g,e,f){return this.getCssState(f);
},getNodeState:function(f){var e=d.isTag(f,"li")?f.parentNode:f;
return this.isSameListType(e);
},addWholeList:function(e){var f=a.makeArray(a(e).children());
while(f.length){this.insertedList.appendChild(f.shift());
}this.removeEmptyList(e);
},insertNewListBefore:function(f){var e=this.createList(this.options.listType);
f.parentNode.insertBefore(e,f);
return e;
},insertNewListAfter:function(g,h){var f=h||this.options.listType;
var e=this.createList(f);
g.parentNode.insertBefore(e,g.nextSibling);
return e;
},createList:function(f){var g=f||this.options.listType;
var e=this.get_window().document;
return e.createElement(g);
},insertEmptyList:function(){var e=this.get_window().document;
var h=this.getEditorRange();
var g=e.createElement(this.options.listType);
var f=e.createElement("li");
g.appendChild(f);
this.trackChangedNode({node:g,isEmptyList:true});
h.insertNode(g);
h.setCursorInEmptyNode(f);
this.rangeMemento=null;
},replaceNodeRangeSafe:function(e,g){var f=d.replaceNode(e,g);
this.rememberNewSelectedNode(e,f);
return f;
},createListItemWithContent_rangeSafe:function(e){var f=this.get_window().document,g=f.createElement("li");
while(e.childNodes.length){g.appendChild(e.firstChild);
}return g;
},removeEmptyList:function(e){if(e.getElementsByTagName("li").length==0&&e.parentNode){e.parentNode.removeChild(e);
this.rememberNewSelectedNode(e,this.insertedList);
}},isList:function(e){return d.isList(e);
},isSameListType:function(e){return d.isTag(e,this.options.listType);
},cleanUp:function(){this.insertedList=null;
b.InsertListCmd.callBaseMethod(this,"cleanUp");
this.insertAll=null;
}};
b.InsertListCmd.registerClass("Telerik.Web.UI.Editor.InsertListCmd",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InsertParagraphCommand=function(f,g){var e=this;
e.options=a.extend({tag:"p",retainOriginalNodeName:true,insertParagraphAfterHeading:false,title:"InsertParagraph"},g||{});
b.InsertParagraphCommand.initializeBase(e,[f,e.options]);
e.cursorCssClass="_TELERIK_InsertParagraph";
e.container=null;
e.newContainer=null;
e.doc=f.get_document();
};
b.InsertParagraphCommand.prototype={onExecute:function(){var e=this;
e.on({nodeInserted:e._nodeInsertedHandler},e);
try{return e.executeDomCommand();
}catch(g){var f=e.get_editor().get_contentArea();
a("."+e.cursorCssClass,f).remove();
}e.off({nodeInserted:e._nodeInsertedHandler},e);
return false;
},executeDomCommand:function(){var e=this,i=e.get_editor();
var k=e.range=i.getSelection().getRange(true);
if(!k||(k.parentElement&&k.parentElement().nodeName=="TEXTAREA")||(k.commonAncestorContainer&&d.isTag(k.commonAncestorContainer.childNodes[k.startOffset],"textarea"))){return false;
}var h=e.domRange=b.DomRange.toDomRange(k);
if(h.commonAncestorContainer&&h.commonAncestorContainer.nodeName&&/^table|tr$/i.test(h.commonAncestorContainer.nodeName)){return false;
}if(e.isOnlyListSelected()){return e.executeOverList();
}if(i._fireDeleteSelectionCmd(false)){k=e.range=i.getSelection().getRange(true);
h=e.domRange=b.DomRange.toDomRange(k);
}var g=e.createCursorElement();
e.insertNode(g);
e.clearTrackedNodesAroundCursor(g);
var f=e.wrapInlineElements(g);
var j=e.extractFrom(g,f);
j=e.ensureNewLineMode(j);
e.newContainer=j;
e._fireNodeInserted(j,g);
e._ensureContainerNotEmpty(f);
e.setCursor(j,g);
d.scrollTo(j,i);
if($telerik.isIE7&&i.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){d._toggleElementZoom(j);
}return true;
},extractFrom:function(g,f){var e=this,h=e.doc.createTextNode("\u00A0");
a(h).insertBefore(g);
var i=new b.DomTreeExtractor(f);
var k=i.extractAfter(h);
var j=f.cloneNode(true);
a(j).insertAfter(f);
d.removeChildren(j);
j.appendChild(k);
e._prevCursorParent=h.parentNode;
a(h).remove();
return j;
},clearTrackedNodesAroundCursor:function(e){var f=this.get_editor();
var g=f.nodesTracker;
g.removeTrackedNode(e.previousSibling);
g.removeTrackedNode(e.nextSibling);
},executeOverList:function(){var e=this,f=e.domRange,g=f.commonAncestorContainer,h=e.doc.createElement(e.options.tag);
h.innerHTML="&nbsp;";
a(h).insertAfter(g);
a(g).remove();
f.setCursorInEmptyNode(h);
return true;
},createCursorElement:function(){var e=this,f=e.doc.createElement("span");
f.innerHTML="&nbsp;";
a(f).addClass(e.cursorCssClass);
return f;
},insertNode:function(f){var e=this,g=e.range;
if(g.insertNode){g.insertNode(f);
}else{e.domRange.insertNode(f);
}if(e._isEmptyTextNode(f.previousSibling)){a(f.previousSibling).remove();
}if(e._isEmptyTextNode(f.nextSibling)){a(f.nextSibling).remove();
}},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},fixListsAroundCursor:function(h,f){var e=this,i=e.getParentList(h.startContainer),g=e.getParentList(h.endContainer);
if(i){e.removeNonLiElements(i);
}if(g){e.removeNonLiElements(g);
}if(f.parentNode&&(d.isTag(f.parentNode,"ol")||d.isTag(f.parentNode,"ul"))){e.fixListItems(f);
}},regExpWhiteSpace:/^[\s\t\r\n\u200b\u00a0]*$/,ensureNewLineMode:function(f){var e=this,g=e.get_editor().get_newLineMode(),i=e.options,j=e.regExpWhiteSpace,h="p",k="";
h=g==Telerik.Web.UI.EditorNewLineModes.Div?"div":h;
if(!i.retainOriginalNodeName&&!e.container){k=d.getTextContent(f).replace(j,"");
if(g==Telerik.Web.UI.EditorNewLineModes.P&&!d.isTag(f,"p")&&k==""){f=d.replaceNode(f,"p");
}else{if(g==Telerik.Web.UI.EditorNewLineModes.Div&&!d.isTag(f,"div")&&k==""){f=d.replaceNode(f,"div");
}}}if(i.insertParagraphAfterHeading){k=d.getTextContent(f).replace(j,"");
if(/^h[1-6]$/i.test(f.nodeName)&&k==""){f=d.replaceNode(f,h);
}}return f;
},isOnlyListSelected:function(){var e=this,f=e.domRange;
if(!f.commonAncestorContainer){return false;
}if(!d.isTag(f.commonAncestorContainer,"ol")&&!d.isTag(f.commonAncestorContainer,"ul")){return false;
}var g=f.commonAncestorContainer;
if(e.isFirstLiSelected(g,f.startContainer)&&e.isLastLiSelected(g,f.endContainer)){return true;
}},getParentList:function(f){if(d.isTextNode(f)){f=f.parentNode;
}var e=d.getElementParentByTag(f,"OL");
if(!e){e=d.getElementParentByTag(f,"UL");
}return e;
},isLastLiSelected:function(h,i){var f=d.isTextNode(i)?i.parentNode:i;
var g=d.isTag(f,"li")?f:d.getElementParentByTag(f,"li");
if(!g){return false;
}if(!a(g).is(h.children[h.children.length-1])){return false;
}var e=i;
while(!a(e).is(g)){if(e.nextSibling){return false;
}e=e.parentNode;
}return true;
},isFirstLiSelected:function(g,h){var i=d.isTextNode(h)?h.parentNode:h;
var f=d.isTag(i,"li")?i:d.getElementParentByTag(i,"li");
if(!f){return false;
}if(!a(f).is(g.children[0])){return false;
}var e=h;
while(!a(e).is(f)){if(e.previousSibling){return false;
}e=e.parentNode;
}return true;
},wrapInlineElements:function(g){var e=this,h=e.doc;
if(e.container&&a(e.container).find(g).length>0){e._trimElements(e.container,g);
return e.container;
}var f=e.getBlockContainer(g);
if(!d.isBlockElement(f)){a(f).wrap(h.createElement(e.options.tag));
f=f.parentNode;
e.prependPreviousSiblings(f);
e.insertNextSiblings(f);
}e._trimElements(f,g);
return f;
},_trimElements:function(f,g){var e=this;
e.fixListsAroundCursor(e.domRange,g);
var k=a(f).find("ol,ul");
for(var j=0;
j<k.length;
j++){e.trimElementNeighbours(k[j]);
}if(k.length>0){e.trimElementNeighbours(g);
}var h=g.parentNode,l=g.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){e._removeWhiteSpaceTextNode(g.previousSibling);
e._removeWhiteSpaceTextNode(l);
}else{if(h.lastChild===l&&d.isTag(l,"br")){h.removeChild(l);
}}},_removeWhiteSpaceTextNode:function(e){if(d.isTextNode(e)&&this.regExpWhiteSpace.test(e.nodeValue)){e.parentNode.removeChild(e);
}},trimElementNeighbours:function(e){d.trimElementNeighbours(e);
},prependPreviousSiblings:function(e){var f=e.previousSibling;
while(f&&!d.isBlockElement(f)){e.insertBefore(f,e.firstChild);
f=e.previousSibling;
}},insertNextSiblings:function(e){var f=e.nextSibling;
while(f&&!d.isBlockElement(f)&&!d._isContentAreaLastBr(f)){e.appendChild(f);
f=e.nextSibling;
}},getBlockContainer:function(f){var e=f;
var g=f.parentNode;
while(g){if(d.isEditorContentArea(g)){return e;
}if(d.isBlockElement(g)){if(g.nodeName&&/^table|tr|td$/i.test(g.nodeName)){return e;
}else{return g;
}}e=g;
g=g.parentNode;
}return e;
},_ensureContainerNotEmpty:function(g){var f=this;
var i=f._prevCursorParent;
if(d.isNodeEmptyRecursive(g)){i.appendChild(f.doc.createTextNode("\u00A0"));
}else{if(d.getTextContent(g).trim()==""){if(d.isTag(i.firstChild,"br")){var e=i.removeChild(i.firstChild),h=d.isNodeEmptyRecursive(g)?f.doc.createTextNode("\u00A0"):e;
i.appendChild(h);
}}}},setCursor:function(f,g){var e=this,h=e.get_editor(),k=d.getPreviousElement(g),i=d.getNextElement(g);
if((k&&(d.isTag(k,"ol")||d.isTag(k,"ul")))||(i&&(d.isTag(i,"ol")||d.isTag(i,"ul")))){d._setCursorAroundList(g,f,h,e.range);
}else{if(d.isNodeEmptyRecursive(g.parentNode)||d.isNodeEmptyRecursive(f)){e.setCursorInNode(g);
}else{var j=g.nextSibling;
g.parentNode.removeChild(g);
var l=e.domRange;
if(d.isTextNode(j)&&!d.isTextNodeEmpty(j)){e.setCursorInTextNode(l,j,0,0);
}else{if(j){if(!d.canHaveChildren(j)){l.setStartBefore(j);
}else{var n=h.nodesTracker;
var m=n.createTrackedNode(h.get_document());
j.parentNode.insertBefore(m,j);
return n.selectTrackedNode(l,m);
}}else{l.setStart(f,0);
}l.collapse(true);
l.select();
}}}},setCursorInNode:function(e){d._setCursor(e,this.get_editor());
},setCursorInTextNode:function(e,h,g,f){d._setCursorInTextNode(e,h,g,f);
},removeNonLiElements:function(f){for(var e=f.childNodes.length-1;
e>=0;
e--){if(!d.isTag(f.childNodes[e],"li")){a(f.childNodes[e]).remove();
}}},fixListItems:function(e){var h=e.parentNode;
for(var f=h.childNodes.length-1;
f>=0;
f--){var g=h.childNodes[f];
if(!d.isTag(g,"li")&&!a(g).is(e)){a(g).remove();
}}var n=e.previousSibling,j=e.nextSibling,l=e.parentNode,m=l.previousSibling,k=l.nextSibling;
if(n&&d.isTag(n,"li")&&n.innerHTML==""){a(e).wrap(n);
}else{if(j&&d.isTag(j,"li")&&j.innerHTML==""){a(e).wrap(j);
}}if(m&&m.innerHTML==""){a(m).remove();
}if(k&&k.innerHTML==""){a(k).remove();
}},_fireNodeInserted:function(g,h){var f=this,e=a.extendEventArgs(new Sys.EventArgs(),{cursor:h,container:g});
f.trigger("nodeInserted",e);
},_nodeInsertedHandler:function(e){var f=this,h=e.get_cursor(),g=e.get_container(),i=f._isEmptyContainer(g,h);
if(i){var j=d.getElementParentByTag(h,"A");
f._removeNode(j);
if(f.get_editor().get_enableTrackChanges()){var m=b.TrackChangesUtils,l=m.getParentTrackChangesInsertNode(h,g),k=m.getParentTrackChangesDeleteNode(h,g);
f._removeNode(l);
f._removeNode(k);
}}},_isEmptyContainer:function(e,f){var g=f.firstChild,h=g.nodeValue,j=d.isTag(e.lastChild,"br")?e.removeChild(e.lastChild):null;
g.nodeValue="";
var i=d.isNodeEmptyRecursive(e);
g.nodeValue=h;
if(j){e.appendChild(j);
}return i;
},_removeNode:function(e){if(e){d.removeNode(e);
}}};
b.InsertParagraphCommand.registerClass("Telerik.Web.UI.Editor.InsertParagraphCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.OutdentCommand=function(f,g){g=a.extend({step:40},g||{});
b.OutdentCommand.initializeBase(this,[f,g]);
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.OutdentCommand.prototype={executeOnNode:function(g,f){if(e.isTag(g,"li")){this.outdentList(g);
}else{if(e.isTag(g,"ul")||e.isTag(g,"ol")){this.outdentWholeList(g);
}else{if(e.isBlockElement(g)){this.outdentBlock(g,f);
}}}},getState:function(){return b.CommandStates.Off;
},parentLiMarker:null,firstOutdentedLi:null,outdentedList:null,outdentWholeList:function(f){if(this.getCurrentIndent(f)==0){this.outdentNodes(a("li",f).toArray());
}else{this.outdentBlock(f);
}},outdentList:function(k){if(this.outdentedList&&e.isAncestorOf(this.outdentedList,k)){return;
}var h=k.parentNode;
var j=h.parentNode;
if(!e.isTag(j,"li")||(this.isFirstListItem(k)&&this.isIndented(h))){this.outdentBlock(h);
this.outdentedList=h;
return;
}if(!this.parentLiMarker){this.parentLiMarker=j;
this.firstOutdentedLi=k;
}if(this.hasNestedLists(k)){this.outdentedList=k;
}var i=this.isFirstListItem(k);
var g=a.makeArray(a(h).children());
var l=Array.indexOf(g,k);
if(l>0&&l<(g.length-1)){var m=this.splitList(h,g.splice(l+1,g.length-l));
this.trackChangedNode({node:m,parentNode:m.parentNode,previousSibling:a(m).prev()[0],nextSibling:a(m).next()[0]});
k.appendChild(m);
}var f=j.parentNode;
this.trackChangedNode({node:k,parentNode:k.parentNode,previousSibling:a(k).prev()[0],nextSibling:a(k).next()[0]});
if(i&&!this.isEmptyList(h)){this.trackChangedNode({node:h,parentNode:h.parentNode,previousSibling:a(h).prev()[0],nextSibling:a(h).next()[0],firstItem:k});
}f.insertBefore(k,this.parentLiMarker.nextSibling);
if(i&&!this.isEmptyList(h)){k.appendChild(h);
}this.parentLiMarker=k;
if(this.isEmptyList(h)){this.rememberNewSelectedNode(h,this.firstOutdentedLi);
h.parentNode.removeChild(h);
}},isFirstListItem:function(g){var f=g.parentNode;
return f.getElementsByTagName("li")[0]==g;
},splitList:function(g,j){var h=this.insertNewListAfter(g,g.tagName);
for(var f=0;
f<j.length;
f++){h.appendChild(j[f]);
}return h;
},insertNewListAfter:function(h,g){var f=this.createList(g);
h.parentNode.insertBefore(f,h.nextSibling);
return f;
},createList:function(g){var f=this.get_window().document;
return f.createElement(g);
},isEmptyList:function(f){return f.getElementsByTagName("li").length==0;
},hasNestedLists:function(f){return f.getElementsByTagName("ul").length>0||f.getElementsByTagName("ol").length>0;
},outdentBlock:function(f,g){if(e.isTag(f,"td")){return this.outdentNodes(a.makeArray(f.childNodes));
}var i=this.calculateOutdent(f);
var h=f.style[this.cssIndentRule];
f.style[this.cssIndentRule]=i?i+"px":"";
this.trackChangedNode({node:f,cssProperty:this.cssIndentRule,originalValue:h,isWrapper:g});
this.cleanUp();
},calculateOutdent:function(g){var f=this.getCurrentIndent(g);
var h=Math.max(f-this.options.step,0);
return h;
},getCurrentIndent:function(f){return parseInt(f.style[this.cssIndentRule],10)||0;
},isIndented:function(f){return f.style&&this.getCurrentIndent(f)>0;
},cleanUp:function(){this.firstOutdentedLi=this.outdentedList=this.parentLiMarker=null;
}};
b.OutdentCommand.registerClass("Telerik.Web.UI.Editor.OutdentCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,b,d,c){b.RealFontSize=function(e,f){b.RealFontSize.initializeBase(this,[e,b.InlineCommandSettings.RealFontSize,f]);
};
b.RealFontSize.prototype={getValue:function(i,e){var h=b.RealFontSize.callBaseMethod(this,"getValue",[i,e]);
if(!h){return;
}if(/px$/i.test(h)){if(!/^[0-9]+px$/i.test(h)){h=Math.round(parseFloat(h))+"px";
}}else{if(i.getComputedStyle){var f=d.isTextNode(e.startContainer)?e.startContainer.parentNode:e.startContainer,g=i.getComputedStyle(f);
if(g&&g.fontSize&&/px$/i.test(g.fontSize)){h=Math.round(parseFloat(g.fontSize))+"px";
}}else{if(/^[1-7]$/.test(h)){h=d._fontSizesToPixels(h);
}else{if(/pt$/.test(h)){h=d._pointsToPixels(h);
}}}}return h;
}};
b.RealFontSize.registerClass("Telerik.Web.UI.Editor.RealFontSize",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,g){var b=Telerik.Web.UI;
var d=b.Editor;
var c=Telerik.Web.Browser;
var h=Telerik.Web.UI.Editor.Utils;
d.SelectAllCommand=function(i,k){var j=this.options=a.extend({window:(i&&i.get_contentWindow())||null,title:"Select All",canUnexecute:true},k||{});
d.SelectAllCommand.initializeBase(this,[j.title,j.window,j.canUnexecute,i]);
};
d.SelectAllCommand.prototype={onExecute:function(){var j=this.get_editor();
var k=e(j);
var i=j.get_contentArea();
f(j);
k.selectNodeContents(i);
k.select();
return true;
}};
function e(i){return Telerik.Web.UI.Editor.DomRange.toDomRange(i.getSelection().getRange(true));
}function f(j){var i=j.get_contentArea();
if(c.ie&&c.version<9){var l=i.firstChild;
var m=i.lastChild;
if(!h.isTextNode(l)){var k=j.get_document().createTextNode("\n");
i.insertBefore(k,i.firstChild);
}if(!h.isTextNode(m)){i.appendChild(j.whitespaceTracker.createTrackedNode());
}}}d.SelectAllCommand.registerClass("Telerik.Web.UI.Editor.SelectAllCommand",d.CommandBase);
})($telerik.$);
(function(a,b,d,c){b.StripCommand=function(f,i,h){var e=this;
var g=e.options=a.extend({title:"StripCommand"},h||{});
b.StripCommand.initializeBase(e,[f,i,g]);
};
b.StripCommand.prototype={isSameFormatNode:function(e){},removeNodeFormatting:function(e){},getState:function(){return b.CommandStates.On;
},shouldCollectNode:function(e){return true;
},getEditorRange:function(){var e=this;
return e.settings.selectAll?c:b.StripCommand.callBaseMethod(e,"getEditorRange");
},traverseFragments:function(h){var e=this;
if(e.settings.selectAll){var g=new b.FragmentContainer();
var f=e.getContentElement();
g.addAll(f.childNodes);
return[g];
}else{return b.StripCommand.callBaseMethod(e,"traverseFragments",[h]);
}},findFormattedAncestor:function(g){var e=this;
var f=g;
while(!d.isBlockElement(g)){if(e.isSameFormatNode(g)){f=g;
}g=g.parentNode;
}return f;
},removeFormat:function(f){var e=this;
while(f.length){e.removeFormat_fragment(f.shift());
}},removeFormat_extract:function(g,f,h){if(!d.isBlockElement(g)){var e=this;
e.extractFormatting(g,f,h);
e.removeSameFormatChildren(g);
e.removeNodeFormatting(g);
e.removeEmptyNode(g);
}},getSameFormatChildren:function(f){var e=this;
return a.makeArray(a(f).find("*").filter(function(h,g){return e.isSameFormatNode(g)&&!e.isMarker(g);
}));
},restoreRange:function(){var e=this;
if(e.settings.selectAll){var f=e.getContentElement();
a(f).find("."+e.getMarkersCssClass()).remove();
d.normalize(f);
}else{b.StripCommand.callBaseMethod(e,"restoreRange");
}},getContentElement:function(){var e=this;
return e.settings.contentElement||b.StripCommand.callBaseMethod(e,"getContentElement");
},_shouldCleanUpNode:function(f){var e=this;
return f&&!e.isMarker(f)&&(!d.isTextNode(f)||e.isComment(f));
},isComment:function(e){return e.nodeType==8;
}};
b.StripCommand.registerClass("Telerik.Web.UI.Editor.StripCommand",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,e,d){var c=function(){return true;
};
b.StripElementCommand=function(g,i,h){var f=this;
var j=i.tags||[];
var k=j[0]=="ALL"?"(?:[a-z]+:)?[a-z]+[1-6]?":j.join("|");
f.nodeNamesRegExp=new RegExp("^(?:"+k+")$","i");
i.exclude=i.exclude||[];
i.stripCondition=i.stripCondition||function(l){return false;
};
f.isLegacyIE=$telerik.isIE7||$telerik.isIE8;
b.StripElementCommand.initializeBase(f,[g,i,h]);
};
b.StripElementCommand.prototype={isSameFormatNode:function(g){var f=this;
return g&&(f.settings.stripCondition(g)||(f.isCommentToStrip(g)||f.isTagToStrip(g)));
},isCommentToStrip:function(g){var f=this;
return f._isStripAll()&&f.isComment(g);
},removeNodeFormatting:function(g){var f=this;
if(f.isCommentToStrip(g)){g.parentNode.removeChild(g);
}else{if(!e.isTextNode(g)&&!f.isMarker(g)){if(f.isLegacyIE){var h=e.getOuterHtml(g);
var j=h.indexOf("<");
if(/^\s+/.test(h)&&j>0){var i=h.substring(0,j);
g.parentNode.insertBefore(g.ownerDocument.createTextNode(i),g);
}}e.removeNode(g);
}}},getSameFormatChildren:function(g){var f=this;
return f._isStripAll()?e.getAllChildNodesBy(g,c):b.StripElementCommand.callBaseMethod(f,"getSameFormatChildren",[g]);
},_isNodeExcluded:function(f){return a.inArray(f.nodeName.toLowerCase(),this.settings.exclude)>=0;
},_isStripAll:function(){var f=this.settings;
return f.tags&&f.tags[0]=="ALL";
},isTagToStrip:function(g){var f=this;
return f.settings.tags&&(f.nodeNamesRegExp.test(g.nodeName)&&!e.isEditorContentArea(g)&&!f._isNodeExcluded(g));
}};
b.StripElementCommand.registerClass("Telerik.Web.UI.Editor.StripElementCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,g){var c=Telerik.Web.UI;
var b=c.Editor;
var f="style";
var d="class";
var e=" ";
b.StripStylesCommand=function(j,k,i){var h=this;
h.options=a.extend({title:"Strip CSS Command"},i||{});
b.StripStylesCommand.initializeBase(h,[j,k,h.options]);
};
b.StripStylesCommand.prototype={isSameFormatNode:function(i){var h=this;
return(i&&h._isStyledNode(i));
},removeNodeFormatting:function(j){var i=this;
var h=i._getStyleAttributes();
a(j).removeAttr(h);
},_isStyledNode:function(h){return(h&&(!!a(h).attr(f)||!!a(h).attr(d)));
},_getStyleAttributes:function(){return[d,f].join(e);
}};
b.StripStylesCommand.registerClass("Telerik.Web.UI.Editor.StripStylesCommand",b.StripCommand);
})($telerik.$);
(function(a,b,h,g){var c="\n";
var d=/[\n\r]/;
var f=/^(?:[a-z]+:[a-z]+)/i;
var e=function(){return true;
};
b.StripWordFormattingCommand=function(j,l,k){var i=this;
i.stylesToKeep=h.getCssPropertiesToKeep([l.clearValue]);
b.StripWordFormattingCommand.initializeBase(i,[j,l,k]);
};
b.StripWordFormattingCommand.prototype={isSameFormatNode:function(i){return true;
},removeNodeFormatting:function(k){var i=this;
var j=i.hasNamespace(k);
if(i.isComment(k)||((j||!h.isBlockElement(k))&&h.isNodeEmptyRecursive(k,true))){i.deleteNode(k);
}else{if(j){h.removeNode(k);
}else{if(i.isStripAllExceptNewLines()){i._stripAllExceptNewLines(k);
}else{if(!h.isTextNode(k)){if(i.isFormattedFont(k)){i.removeFontFormatting(k);
}h.clearElement(k,i.stylesToKeep);
if((h.isTag(k,"font")||h.isTag(k,"span"))&&!h.hasAttributes(k)){h.removeNode(k);
}}}}}},removeFormat:function(k){var i=this;
while(k.length){var j=k.shift();
i._isPlainText=h.every(j.nodes,function(l){return h.isTextNode(l)||h.isTag(l,"br")||i._isTabSpan(l);
});
i.removeFormat_fragment(j);
}},_isTabSpan:function(i){return h.isTag(i,"span")&&i.style["white-space"]=="pre"&&i.childNodes.length==1&&/^[\t]+$/.test(i.firstChild.nodeValue);
},_trimRegExp:/(^[\n\r\t]+)|([\n\r\t]+$)/g,_stripAllExceptNewLines:function(j){if(h.isTag(j,"br")){return;
}var i=this;
if(h.isBlockElement(j)){i._stripBlockElement(j);
}else{if(!h.isTextNode(j)){i.removeNode(j);
}else{if(i.hasNewLineCharacter(j)){i._insertNewLineNodes(j);
}else{if(d.test(j.nodeValue)){if(h.isTextNodeEmpty(j)&&!/\xA0/.test(j.nodeValue)){i.deleteNode(j);
}else{j.nodeValue=j.nodeValue.replace(i._trimRegExp," ");
}}}}}},_inlineBlocksDelimiter:" ",_stripBlockElement:function(i){var j=this;
var l=j._isInlineBlock(i);
var n=i.parentNode;
var k=i.ownerDocument;
if(l){if(a(i).next().length){i.appendChild(k.createTextNode(j._inlineBlocksDelimiter));
}}else{if(h.isList(i)&&j._isIndented(i)){j._removeIndenting(i);
}var o=j._getSibling(i,"previousSibling");
var m=j._getSibling(i,"nextSibling");
if(o){n.insertBefore(k.createElement("br"),i);
}if(m){n.insertBefore(k.createElement("br"),m);
}}j.removeNode(i);
},_isInlineBlock:function(i){return h.isTag(i,"td")||h.isTag(i,"th");
},_getSibling:function(k,j){var i=this;
var l=k[j];
while(l&&!i._isValuable(l)){l=l[j];
}return i._isValuable(l)&&!i.isMarker(l)&&!h.isTag(l,"br")?l:g;
},_isValuable:function(j){var i=this;
return j&&!(h.isTextNode(j)&&h.isTextNodeEmpty(j))&&!i.isComment(j);
},_indentingRegExp:/\n\s+$/,_isIndented:function(i){var j=i.previousSibling;
return h.isTextNode(j)&&!h.isTextNodeEmpty(j)&&this._indentingRegExp.test(j.nodeValue);
},_removeIndenting:function(i){var j=i.previousSibling;
j.nodeValue=j.nodeValue.replace(this._indentingRegExp,"");
},removeNode:function(j){var i=this;
if(h.isTag(j,"style")||h.isTag(j,"script")){j.parentNode.removeChild(j);
}else{if(i.settings.deleteWhitespaceNodes&&j.nodeType==1&&h.canHaveChildren(j)&&h.isNodeEmptyRecursive(j)&&!(h.isList(j)&&i._isValuable(j.firstChild))){i.deleteNode(j);
}else{h.removeNode(j);
}}},deleteNode:function(i){if(i.nodeType==1&&!h.isBlockElement(i)&&i.childNodes.length==1&&!d.test(i.innerHTML)){h.removeNode(i);
}else{if(!(this._isPlainText&&this._isTabSpan(i.parentNode))){i.parentNode.removeChild(i);
}}},findFormattedAncestor:function(k){var i=this;
var j;
while(k&&!h.isBlockElement(k)){if(i.hasMsWordAttribute(k)){j=k;
}k=k.parentNode;
}return j;
},getSameFormatChildren:function(i){return h.getAllChildNodesBy(i,e);
},hasMsWordAttribute:function(l){var j=h.msWordAttrRegExp;
var m=l.getAttribute?l.getAttribute("style"):g;
m=(typeof m=="object"&&l.style&&l.style.cssText)?l.style.cssText:m;
if(m&&typeof m=="string"&&j.test(m)){return true;
}var i=l.nodeType==1?h.getDefinedAttributes(l):{};
for(var k in i){if(k!="href"&&k!="src"&&(j.test(k)||j.test(i[k]))){return true;
}}return false;
},isFormattedFont:function(i){return this.settings.clearValue=="WORD_NO_FONTS"&&h.isTag(i,"font")&&(i.getAttribute("face")||i.getAttribute("color"));
},removeFontFormatting:function(i){a(i).removeAttr("face color");
},hasNewLineCharacter:function(i){return this._isPlainText&&i.nodeType&&i.nodeType==3&&!h.isTextNodeEmpty(i)&&i.nodeValue.indexOf(c)>=0;
},hasNamespace:function(i){return f.test(i.nodeName)||("scopeName" in i&&i.scopeName!="HTML");
},isStripAllExceptNewLines:function(){return this.settings.clearValue=="ALL_NO_BRAKES";
},shouldStripMargins:function(i){return this.settings.clearValue=="WORD_NO_MARGINS"&&(i.style.marginLeft||i.style.marginRight||i.style.marginTop||i.style.marginBottom);
},_shouldCleanUpNode:function(j){var i=this;
if(i.isMarker(j)){return false;
}return j&&b.StripWordFormattingCommand.callBaseMethod(i,"_shouldCleanUpNode",[j])||(i.isStripAllExceptNewLines()&&!h.isTag(j,"br")||i.hasNewLineCharacter(j));
},_insertNewLineNodes:function(l){var m=l.nodeValue;
m=m.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\r/ig,"");
var k=m.lastIndexOf(c);
var j=l.ownerDocument;
while(k>0){l.nodeValue=m.substring(k+1,m.length);
var n=j.createTextNode(m.substring(0,k));
var i=j.createElement("br");
l.parentNode.insertBefore(i,l);
l.parentNode.insertBefore(n,i);
m=n.nodeValue;
k=m.lastIndexOf(c);
l=n;
}}};
b.StripWordFormattingCommand.registerClass("Telerik.Web.UI.Editor.StripWordFormattingCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,c,j){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=c.Editor;
var g=document;
var h="touchmove";
var e="gesturestart";
var k=".reCancelZoom";
var i=h+k;
var f=e+k;
var d=$telerik.cancelRawEvent;
b.ToggleScreenMode=function(l){var m={window:l?l.get_contentWindow():j,title:"ToggleScreenMode",canUnexecute:j};
b.ToggleScreenMode.initializeBase(this,[m.title,m.window,m.canUnexecute,l]);
};
b.ToggleScreenMode.prototype={onExecute:function(){var l=this;
var m=l.getState();
if(m==b.CommandStates.On){l.leaveFullScreen();
}else{if(m==b.CommandStates.Off){l.enterFullScreen();
}}return true;
},enterFullScreen:function(){var m=this;
var n=m.get_editor();
var q=n.get_toolAdapter();
var o=n.get_element();
var p=o.style;
var l=g.body;
m._hide(n.get_headerContainer());
m._show(n.get_headerToolsContainer());
m._show(n.get_toolContainer());
n._initialStyles={width:p.width,height:p.height,bodyScrollTop:l.scrollTop,bodyScrollLeft:l.scrollLeft};
a(l.parentNode).addClass("rePreventScrolling");
a(o).addClass("reFullScreen");
m._setCss(o,{width:"",height:""});
l.scrollLeft=0;
l.scrollTop=0;
n.set_editable(true);
n._isFullScreen=true;
m._setDocumentScrollInterval();
n._documentScrollTop=a(o.ownerDocument).scrollTop();
m._disableZoom();
if(q&&q.showKeyboard){q.showKeyboard();
n.focusFirstText();
}},leaveFullScreen:function(){var m=this;
var n=m.get_editor();
var q=n.get_toolAdapter();
var o=n.get_element();
var l=g.body;
if(n.get_mode()===c.EditModes.Html){n.set_mode(c.EditModes.Design);
}m._clearDocumentScrollInterval();
m._show(n.get_headerContainer());
m._hide(n.get_headerToolsContainer());
m._hide(n.get_toolContainer());
if(n.findReplaceManager){n.findReplaceManager.hide();
}a(l.parentNode).removeClass("rePreventScrolling");
a(o).removeClass("reFullScreen");
if(q.isEditEnabled&&q.isEditEnabled()){n.fire("MobileEdit");
}if(q.hideKeyboardPermanent){q.hideKeyboardPermanent();
}var p=n._initialStyles;
if(p){m._setCss(o,{width:p.width,height:p.height});
l.scrollTop=p.bodyScrollTop;
l.scrollLeft=p.bodyScrollLeft;
}n.set_editable(false);
n._isFullScreen=false;
n._attachEnterFullScreenMobileHandler(true);
m._enableZoom();
},_disableZoom:function(){var l=this;
var m=a(l._getZoomElements());
m.on(i,"*",l._cancelMultiTouchHandler);
m.on(f,"*",d);
},_enableZoom:function(){var l=this;
var m=a(l._getZoomElements());
m.off(i,"*",l._cancelMultiTouchHandler);
m.off(f,"*",d);
},_getZoomElements:function(){var l=this.get_editor().get_document();
return g===l?[g]:[g,l];
},_cancelMultiTouchHandler:function(m){var l=m.originalEvent;
if(l.touches&&l.touches.length>1){return d(l);
}},getState:function(m,l){l=l||this.get_editor();
return l&&l._isFullScreen?b.CommandStates.On:b.CommandStates.Off;
},_show:function(l){this._setCss(l,{display:""});
},_hide:function(l){this._setCss(l,{display:"none"});
},_setCss:function(l,m){a(l).css(m);
},_setDocumentScrollInterval:function(){var m=this.get_editor();
var l=a(document).scrollTop();
m._documentScrollTopInterval=window.setInterval(function(){if(a(document).scrollTop()!=l){a(document).scrollTop(l);
}},15);
},_clearDocumentScrollInterval:function(){window.clearInterval(this.get_editor()._documentScrollTopInterval);
}};
b.ToggleScreenMode.registerClass("Telerik.Web.UI.Editor.ToggleScreenMode",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,g){var b=Telerik.Web.UI;
var c=b.Editor;
var h=c.Utils;
var e=h.isTag;
var f={tag:"a",altTags:[],isNotGreedy:true};
c.UnlinkCommand=function(i,j){c.UnlinkCommand.initializeBase(this,[i,f,j]);
};
c.UnlinkCommand.prototype={getStateByRange:function(l,j){var m=c.CommandStates;
if(!l){return m.Disabled;
}var i=j.get_contentArea();
var n=this.settings.tag;
var k=false;
if(l.isCollapsed()){k=h.findAncestorByTag(i,l.commonAncestorContainer,n)!=i;
}else{k=h.someInRange(l,d(i));
}return k?m.Off:m.Disabled;
},shouldRemoveFormatting:function(){return true;
},removeNodeFormatting:function(i){h.removeNode(i);
}};
function d(i){var k=f.tag;
var j=h.isTextNode;
return function(m){var l=j(m);
return e(m,k)||(l&&h.findAncestorByTag(i,m,k)!=i)||(!l&&m.getElementsByTagName(k).length>0);
};
}c.UnlinkCommand.registerClass("Telerik.Web.UI.Editor.UnlinkCommand",c.InlineCommand);
})($telerik.$);
(function(a,b,f){var e="__telerik_marker",g=b.Utils;
b.Consolidator=function(h){this.options=a.extend({nodeCompare:c},h||{});
};
b.Consolidator.prototype={consolidateMarkedEdges:function(i){var h=this;
var j=this._getMarkers(i);
if(j[0]){h.consolidateOverMarker(j[0]);
}if(j[1]){h.consolidateOverMarker(j[1]);
}},stichMarkedEdges:function(h){var i=this._getMarkers(h);
this.stichMarkers(i[0],i[1]);
},stichMarkers:function(i,h){if(!i||!h){return;
}this.stichCommonAncestor=g.findCommonAncestor(i,h);
this._stichMarkersRecurse(i,h);
},_stichMarkersRecurse:function(m,j){var h=this;
var i=h.stichCommonAncestor;
var l=h.options.nodeCompare;
var n=g.findAncestorUntil(i,m);
var k=g.findAncestorUntil(i,j);
if((n===m)||(k===j)||(n===k)){delete h.stichCommonAncestor;
return;
}if(l(n,k)){d(k,n);
h.stichCommonAncestor=n;
h._stichMarkersRecurse(m,j);
}},consolidateOverMarker:function(i){var h=this;
var k=h.options.nodeCompare;
var l=i.previousSibling,j=i.nextSibling;
if(k(l,j)){l.appendChild(i);
while(j.firstChild){l.appendChild(j.firstChild);
}j.parentNode.removeChild(j);
h.consolidateOverMarker(i);
}},normalizeTextEdge:function(i,l,h){var k=i.previousSibling,j=i.nextSibling;
if(g.isTextNode(k)&&g.isTextNode(j)&&k.nodeType===j.nodeType){l[h?"setStart":"setEnd"](k,k.nodeValue.length);
this.mergeTextToStart(k,j);
i.parentNode.removeChild(i);
return true;
}return false;
},normalize:function(h){g.normalize(h);
},mergeTextToStart:function(h,i){h.nodeValue+=i.nodeValue;
i.parentNode.removeChild(i);
return h;
},mergeTextNodes:function(i,h){h.nodeValue=i.nodeValue+h.nodeValue;
i.parentNode.removeChild(i);
return h;
},_getMarkers:function(h){return a("."+e,h);
}};
b.Consolidator.registerClass("Telerik.Web.UI.Editor.Consolidator");
function d(i,h){while(i.firstChild){h.appendChild(i.firstChild);
}if(i.parentNode){i.parentNode.removeChild(i);
}}function c(h,i){if(!h||!i||!h.parentNode||!i.parentNode||g.isTextNode(h)){return false;
}return b.NodeComparer.equalNodes(h,i);
}b.NodeComparer={equalNodes:function(h,i){return this.equalTag(h,i)&&this.equalStyle(h,i)&&this.equalAttributes(h,i);
},equalTag:function(h,i){return g.isTag(h,i.tagName);
},equalStyle:function(h,i){return h.style&&i.style&&h.style.cssText==i.style.cssText;
},equalAttributes:function(h,j,m){var i=this._collectAttributes(h,m),k=this._collectAttributes(j,m);
if(i.length!==k.length){return false;
}delete i.length;
delete i.style;
delete i.timestamp;
delete i.title;
for(var l in i){if(i[l]!==k[l]){return false;
}}return true;
},_collectAttributes:function(h,i){return i&&i.length>0?g.getAttributes(h,i):g.getDefinedAttributes(h);
}};
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,i){var d=Telerik.Web.BrowserFeatures;
var c=/<!--(.*?)-->/g;
var g="__telerik_htmlComment_marker";
var h="."+g;
var f="<span id='{0}' class='"+g+"'>&nbsp;</span>";
var e="__telerik_comment_marker";
b.HtmlCommentsStorage=function(){this.index=0;
this.comments={};
};
b.HtmlCommentsStorage.prototype={markComments:function(j){var k=this;
j=j.replace(c,function(n,l){var m=k.nextMarker();
k.storeComment(l);
return m;
});
return j;
},restoreComments:function(j){var l=this;
var k=a(j).find(h);
k.each(function(p,q){var r=q.parentNode;
var o=r.ownerDocument;
var n=l.getCommentContent(q.id);
var m=o.createComment(n);
r.insertBefore(m,q);
r.removeChild(q);
});
},shouldStoreComments:function(){return !d.readsHtmlComments;
},nextMarker:function(){this.index+=1;
var j=this.getId();
return String.format(f,j);
},storeComment:function(j){this.comments[this.getId()]=j;
},getCommentContent:function(j){return this.comments[j];
},getId:function(){return e+this.index;
}};
b.HtmlCommentsStorage.registerClass("Telerik.Web.UI.Editor.HtmlCommentsStorage");
d.addTest("readsHtmlComments",function(){var k=document.createElement("div");
k.innerHTML="<!--[if !IE]>--><!--<![endif]-->";
var j=(k.innerHTML.length>0);
k=i;
return j;
});
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,d){var e=b.Utils;
var c=e.isTag;
b.InnerListDeleteCleanUp=function(f){this.editor=f;
};
b.InnerListDeleteCleanUp.prototype={cleanUp:function(){var i=this.getRange();
if(!i||!i.isCollapsed()){return;
}var h=this.findListItemNode(i.startContainer);
if(!h){return;
}var f=h.parentNode;
if(this.isList(f.parentNode)){var g=f.previousSibling;
if(g){f.previousSibling.appendChild(f);
i.select();
}}},getRange:function(){var f=this.editor.getSelection().getRange(true);
return b.DomRange.toDomRange(f);
},findListItemNode:function(h){var g=h;
var f=this.editor.get_contentArea();
if(e.isTextNode(g)){g=e.findAncestorByTag(f,g,"li");
if(!c(g,"li")||g===f){return null;
}}return c(g,"li")&&g;
},isList:function(f){return c(f,"ul")||c(f,"ol");
}};
b.InnerListDeleteCleanUp.registerClass("Telerik.Web.UI.Editor.InnerListDeleteCleanUp");
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.NestedElementsFix=function(e,f){this.context=e?e:null;
this.selection=f?f:null;
};
b.NestedElementsFix.prototype={applyFix:function(e){var f=this;
f.blockElements=e||f.getBlockElements();
f._fixNestedParagraphs();
f._unwrapBlockElements();
},getBlockElements:function(){var g=this.context;
var e=a(g).find("table,ol,ul,h1,h2,h3,h4,h5,h6");
var f=this._getParagraphs(g);
e=e.add(f);
return a.makeArray(e);
},set_context:function(e){this.context=e;
},_fixNestedParagraphs:function(){var f=this.context;
var k=null;
if(d.isEditorContentArea(f)){k=f.getElementsByTagName("P");
}else{var l=this._getParentBlockElement(f);
if(d.isTag(l,"p")){k=[l];
}}if(!k){return;
}for(var g=k.length-1;
g>=0;
g--){var m=k[g],e=this._getParagraphs(m);
for(var h=e.length-1;
h>=0;
h--){this._unwrapElement(e[h],m);
}if(e.length&&d.isNodeEmptyRecursive(m)){this._removeBlockElement(m);
}}},_unwrapBlockElements:function(){var i=this,f=i.blockElements;
while(f.length){var e=f.pop(),h=i._getParentBlockElement(e.parentNode),g;
if(h&&/^P|H[1-6]$/.test(h.nodeName)){i._unwrapElement(e,h);
g=true;
}var j=i._getLastInvalidWrapper(e);
if(j){i._unwrapElement(e,j);
}if(i._shouldRemoveBlockElement(h,g)){i._removeBlockElement(h);
}}},_shouldRemoveBlockElement:function(e,f){if(!f||!e){return false;
}if(!/^li|td|th$/.test(e.nodeName)&&d.isNodeEmptyRecursive(e)&&!a(e).find("ol,ul,table").length){return true;
}return false;
},_getParagraphs:function(f){var e=a(f).find("p").filter(function(g){return !d.getElementParentByRegExpTagName(this,/th|td|table|li/i);
});
return e;
},_removeBlockElement:function(f){var e=this.blockElements,g=Array.indexOf(e,f);
if(g!=-1){e.splice(g,1);
}a(f).remove();
},_unwrapElement:function(f,i){var g=new b.DomTreeExtractor(i),h=g.extractAfter(f);
if(!this._isFragmentEmpty(h)){var e=i.cloneNode(true);
d.removeChildren(e);
a(e).insertAfter(i);
e.appendChild(h);
}a(f).insertAfter(i);
if(this.selection){this.selection._fireEvent("pasteBlockElement",f);
}},_isFragmentEmpty:function(g){for(var h=0;
h<g.childNodes.length;
h++){var f=g.childNodes[h];
var j=d.isTextNode(f);
var e=!j&&d.canHaveChildren(f);
if(j){if(!d.isTextNodeEmpty(f)){return false;
}}else{if(e){if(!d.isNodeEmptyRecursive(f)){return false;
}}else{return false;
}}}return true;
},_shouldUnwrapNode:function(e){if(d.isBlockElement(e)){return false;
}return !d.isTag(e,"ins")&&!d.isTag(e,"del");
},_getParentBlockElement:function(e){var f=d.getBlockParentUntil(e,d.isEditorContentArea);
if(d.isEditorContentArea(f)){return null;
}return f;
},_getLastInvalidWrapper:function(e){var f=e;
while(f&&this._shouldUnwrapNode(f.parentNode)){f=f.parentNode;
}return f==e?null:f;
}};
b.NestedElementsFix.registerClass("Telerik.Web.UI.Editor.NestedElementsFix",null);
b.DeleteFix=function(e){this.editor=e;
};
b.DeleteFix.prototype={applyFix:function(f){var h=this;
var g=h._getRange();
if(!g.collapsed||g.startOffset!=0){return;
}if($telerik.isFirefox){h.fixDeleteEmptyBlock(f,g);
}if($telerik.isIE){h.fixDeleteFirstListItem(f,g);
}if($telerik.isChrome||$telerik.isOpera){h.fixDeleteInBeginningOfListItem(f,g);
}},fixDeleteEmptyBlock:function(h,j){var k=this;
var g=k._getParentBlockElement(j.startContainer);
if(!g||d.isTag(g,"td")||d.isTag(g,"th")||!k._isEmpty(g)){return;
}var i=h.keyCode==8;
var f=k._getBlockSibling(g,i);
if(!f){return;
}j.selectNodeContents(f);
j.collapse(!i);
j.select();
a(g).remove();
h.preventDefault();
},fixDeleteFirstListItem:function(f,k){var l=k.startContainer;
if((d.isTextNode(l)||d.isTag(l,"li"))){var j=d.isBlockElement(l)?l:d.getBlockParent(l);
var i=d.isTag(j,"li")?j:c;
if(i&&!d.getPreviousElement(i)&&(l==i||d.isNodeAtStart(l,i))){var g=this.editor;
if(!i.childNodes.length){var m=i.ownerDocument.createTextNode("\u200b");
i.appendChild(m);
g.nodesTracker.trackNode(m);
d._setCursorInTextNode(k,m,0,0);
}var h=new b.InsertListCmd(g,{listType:i.parentNode.nodeName});
g.executeCommand(h,c,true);
$telerik.preventDefault(f);
}}},fixDeleteInBeginningOfListItem:function(g,o){var p=o.startContainer;
var j=p?p.innerHTML:"";
if(p&&p.nodeName=="LI"&&j&&!/<br>\s*$/.test(j)&&o.startOffset===0){var n=p.previousSibling;
if(n&&n.nodeName=="LI"){var l=n.lastChild;
var h=p.firstChild;
if(h&&h.nodeName=="BR"){a(h).remove();
}var f=p.childNodes;
for(var k=0,m=f.length;
k<m;
k++){a(f[k]).appendTo(n);
}a(p).remove();
o.selectNodeContents(l);
o.collapse();
o.select();
}$telerik.preventDefault(g);
}},_getRange:function(){return new b.DomRange(this.editor.getSelection().getRange(true));
},_getParentBlockElement:function(e){var f=d.isBlockElement(e)?e:d.getBlockParent(e);
return f&&!d.isEditorContentArea(f)?f:c;
},_getBlockSibling:function(f,g){var e=a(f)[g?"prev":"next"]().get(0);
return d.isBlockElement(e)?e:c;
},_isEmpty:function(h){var e=h.childNodes;
var f=e?e.length:0;
var g=h.firstChild;
if(f>1){return false;
}else{if(!g||(f==1&&d.isTag(g,"br"))){return true;
}else{if(f==1&&d.isTextNode(g)&&!d.isTextNodeEmpty(g)){return false;
}else{if(f==1&&d.canHaveChildren(g)){return this._isEmpty(g);
}}}}return false;
}};
b.DeleteFix.registerClass("Telerik.Web.UI.Editor.DeleteFix",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,n){var c=Telerik.Web.UI;
var b=c.Editor;
var o=b.Utils;
var i=window;
var m="ToggleEditMode";
var h="FONT";
var l="SPAN";
var d="ALL";
var g="CSS";
var e="ALL_NO_BRAKES";
var p="WORD";
var q="WORD_ALL";
var f=Telerik.Web.Browser;
var j=function(r){return o.isTag(r,"td")||o.isTag(r,"th");
};
var k=function(r){return r?r+"px":"";
};
Telerik.Web.UI.Editor.UpdateCommandsArray={InsertOrderedList:new b.InsertListCmd(null,{listType:"ol"}),InsertUnorderedList:new b.InsertListCmd(null,{listType:"ul"}),Unlink:new b.UnlinkCommand(),Bold:new b.BoldCommand(),Italic:new b.ItalicCommand(),Underline:new b.UnderlineCommand(),StrikeThrough:new b.StrikeThroughCommand(),Subscript:new b.SubscriptCommand(),Superscript:new b.SuperscriptCommand(),ForeColor:new b.ForeColorCommand(),BackColor:new b.BackColorCommand(),FontName:new b.FontName(null,{title:"FontName"}),RealFontSize:new b.RealFontSize(null,{title:"RealFontSize"}),FontSize:new b.BrowserCommand(null,null,"FontSize",null),Paste:new b.BrowserCommand(null,null,"Paste",null),Cut:new b.BrowserCommand(null,null,"Cut",null),Copy:new b.BrowserCommand(null,null,"Copy",null),JustifyLeft:new b.AlignCommand(null,{align:"left"}),JustifyRight:new b.AlignCommand(null,{align:"right"}),JustifyCenter:new b.AlignCommand(null,{align:"center"}),JustifyNone:new b.AlignCommand(null,{align:"none"}),JustifyFull:new b.AlignCommand(null,{align:"justify"}),Indent:new b.IndentCommand(null),Outdent:new b.OutdentCommand(null),AbsolutePosition:new b.BrowserCommand(null,null,"AbsolutePosition",null),FormatBlock:new b.FormatBlockCommand(null,null,null,null),FormatSets:new b.FormatSetsCommand(null,null,null,null),InsertRowAbove:new b.TableInsertRow(null,null,"above",null),InsertRowBelow:new b.TableInsertRow(null,null,"below",null),InsertColumnLeft:new b.TableInsertColumn(null,null,"left",null),InsertColumnRight:new b.TableInsertColumn(null,null,"right",null),DeleteRow:new b.TableDeleteRow(null,null,null),DeleteColumn:new b.TableDeleteColumn(null,null,null),DeleteCell:new b.TableDeleteCell(null,null,null),DeleteSelection:new b.DeleteSelectionCommand(),MergeColumns:new b.TableMergeColumns(null,null,null),MergeRows:new b.TableMergeRows(null,null,null),SplitCell:new b.TableSplitCell(null,null,"vertical",null),SplitCellHorizontal:new b.TableSplitCell(null,null,"horizontal",null),ApplyClass:new b.ClassNameCommand(null,null,null),FindAndReplace:new b.FindReplaceCommand(),TopLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"top",isSuitableNode:j}),TopCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"top",isSuitableNode:j}),TopRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"top",isSuitableNode:j}),MiddleLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"middle",isSuitableNode:j}),MiddleCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"middle",isSuitableNode:j}),MiddleRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"middle",isSuitableNode:j}),BottomLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"bottom",isSuitableNode:j}),BottomCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"bottom",isSuitableNode:j}),BottomRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"bottom",isSuitableNode:j}),NoCellAlign:new b.AlignCommand(null,{align:"none",valign:"none",isSuitableNode:j})};
Telerik.Web.UI.Editor.CommandList=new (function(){var s=this;
this.getCallbackFunction=function(B,C){return(B&&B._callbackFunction&&typeof(B._callbackFunction)=="function")?B._callbackFunction:C;
};
this.AjaxSpellCheck=function(C,E,B){if(E.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.replaceImmutableElements(E);
}function D(){if(!E.get_ajaxSpellCheck()){var L={editor:E};
var J=document.createElement("div");
var K=$create(Telerik.Web.UI.Editor.AjaxSpellCheck,L,null,null,J);
var M=K.get_element();
var N=$get(E.get_id()+"Top");
if(N){N.appendChild(M);
K.add_spellCheckEnd(Function.createDelegate(this,function(){if(E.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.restoreImmutableElements(E);
}E.repaint();
}));
}E.set_ajaxSpellCheck(K);
}var I=E.get_ajaxSpellCheck();
if(B&&B.value){I.set_language(B.value);
}I.spellCheck();
}function F(I){var J=I.get_responseData();
$telerik.evalScriptCode(J);
D();
}if(typeof(Telerik.Web.UI.Editor.AjaxSpellCheck)=="undefined"){var G=E.get_ajaxSpellCheckScriptReference();
var H=new Sys.Net.WebRequest();
H.set_url(G);
H.set_httpVerb("GET");
H.add_completed(F);
H.invoke();
}else{D();
}return false;
};
this.ModuleManager=function(C,D,B){var G=B.value;
var F=D.get_modulesManager();
if(!F){return false;
}var E=F.getModuleByName(G);
if(E){E.toggleVisibility();
D._sizer.moduleToggleVisibility(E.get_visible());
}return false;
};
this.ToggleScreenMode=function(C,D,B){D.toggleScreenMode();
return false;
};
this.InsertRowAbove=this.InsertRowBelow=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableInsertRow(D.getLocalizedString(C),null,C=="InsertRowAbove"?"above":"below",D));
};
this.InsertColumnLeft=this.InsertColumnRight=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableInsertColumn(D.getLocalizedString(C),null,C=="InsertColumnLeft"?"left":"right",D));
};
this.DeleteRow=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteRow(D.getLocalizedString(C),null,D));
};
this.DeleteColumn=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteColumn(D.getLocalizedString(C),null,D));
};
this.DeleteCell=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteCell(D.getLocalizedString(C),null,D));
};
this.MergeColumns=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableMergeColumns(D.getLocalizedString(C),null,D));
};
this.MergeRows=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableMergeRows(D.getLocalizedString(C),null,D));
};
this.SplitCell=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(D.getLocalizedString(C),null,"vertical",D));
};
this.SplitCellHorizontal=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(D.getLocalizedString(C),null,"horizontal",D));
};
this.DeleteTable=function(C,D,B){var E=B.value;
if(!E){E=D.getSelectedElement();
}if(E&&"TABLE"!=E.tagName){E=Telerik.Web.UI.Editor.Utils.getElementParentByTag(E,"TABLE");
}if(E){if(!D.get_enableTrackChanges()||D.get_enableTrackChangesOverride()){D.selectElement(E);
D.executeBrowserCommand("Delete");
}else{var F=D.getSelection();
Telerik.Web.UI.Editor.TrackChangesUtils.wrapElementInTrackChangeDelete(F.getParentElement(),D.get_author());
}}};
this.InsertFormForm=this.InsertFormButton=this.InsertFormCheckbox=this.InsertFormHidden=this.InsertFormImageButton=this.InsertFormPassword=this.InsertFormRadio=this.InsertFormReset=this.InsertFormSubmit=this.InsertFormTextarea=this.InsertFormText=function(C,D,B){var F=C.substring(10);
var E=new Telerik.Web.UI.EditorCommandEventArgs(C,B.get_tool(),F);
D.fire("InsertFormElement",E);
};
this.StripAll=this.StripCss=this.StripFont=this.StripSpan=this.StripWord=function(C,D,B){var F=C.substring(5);
var E=new Telerik.Web.UI.EditorCommandEventArgs(C,B.get_tool(),F.toUpperCase());
D.fire("FormatStripper",E);
};
this.FormatStripper=function(D,F,B){var C=B.value;
var G=F._filtersManager.getFilterByName("ConvertFontToSpanFilter");
if(F.get_mode()==Telerik.Web.UI.EditModes.Design&&C==l&&G&&G.get_enabled()){C=h;
}F.setFocus();
var I=true;
try{var J=new b.DomRange(F.getSelection().getRange(true),{preventCalculateEdges:true});
I=J._isBrowserRangeCollapsed();
}catch(E){}var H=new b.GenericCommand(F.getLocalizedString(D)+" "+C,F.get_contentWindow(),F);
var L;
if(C==q){L=new b.StripElementCommand(F,{tags:[h],selectAll:I,isNotGreedy:true});
L.onExecute();
C=p;
}var K={selectAll:I,tags:[C],clearValue:C,isNotGreedy:true,deleteWhitespaceNodes:C==e};
var M=C===g?"StripStylesCommand":C==h||C==l||C==d?"StripElementCommand":"StripWordFormattingCommand";
L=new b[M](F,K);
L.onExecute();
F.executeCommand(H);
};
this.InsertTable=function(C,D,B){var G=B.value;
if(G){var E=Telerik.Web.UI.Editor.Utils.createTable(G.rows,G.cols);
A(E,G);
var F=Telerik.Web.UI.Editor.Utils.getOuterHtml(E);
D.pasteHtml(F,C);
}};
this.InsertTableDialog=function(D,E,B){var C=b.CommandList.getCallbackFunction(B,function(G,F){E.fire("InsertTable",F);
});
E.showDialog("InsertTable",null,C);
return false;
};
this.MobileTableProperties=function(D,E,B){var G=b.CommandList._getParentTable(E);
if(!G){alert(E.getLocalizedString("tablewarning"));
return false;
}var F=function(I){return parseInt(I,10);
};
var H={width:F(G.style.width),height:F(G.style.height),padding:F(G.getAttribute("cellpadding")),spacing:F(G.getAttribute("cellspacing"))};
var C=b.CommandList.getCallbackFunction(B,function(J,I){var K=I.value;
G.style.width=k(K.width);
G.style.height=k(K.height);
A(G,K);
});
E.showDialog("MobileTableProperties",H,C);
return false;
};
this.TableBorder=function(E,F,C){var B=b.CommandList;
var D=B._getTableArgument(F,1,false,true);
if(E=="TableBorder"&&!D){alert(F.getLocalizedString("tablewarning"));
return false;
}var G=B._getParentTable(F);
return r(F,G,D,C);
};
this.CellBorder=function(E,F,C){var B=b.CommandList;
var D=B._getTableArgument(F,2,false,true);
var G=$telerik.isFirefox&&F.get_contentWindow().getSelection().rangeCount>1;
if(!D||G){alert(F.getLocalizedString("cellwarning"));
return false;
}return r(F,D.cellToModify,D,C);
};
this.ImageBorder=function(D,F,B){var E=F.getSelectedElement();
if(!E||!o.isTag(E,"img")){return false;
}var C=new Telerik.Web.UI.EditorCommandEventArgs(D,null,E);
return r(F,E,C,B);
};
function r(E,F,D,B){var G=F;
var C=b.CommandList.getCallbackFunction(B,function(I,H){var J=H.get_value(),K=J.borderWidth;
if(K+""==="0"||K=="0px"){K="";
}a(G).css({"border-width":K,"border-style":J.borderStyle,"border-color":J.borderColor});
});
D.value=G;
b.CommandList._getDialogArguments(D,G.tagName,E,B.get_commandName());
E.showDialog("Border",D,C);
return false;
}function w(C){var D=C.getSelectedElement();
var B=o.isBlockElement(D)?D:o.getBlockParent(D);
return o.isBlockElement(B)?B:null;
}function x(C,D,B){var E=(o.isTag(C,"TD")||o.isTag(C,"TH"))?C:o.getElementParentByTag(C,"TD")||o.getElementParentByTag(C,"TH");
if(E){o[D?"MoveToPreviousCell":"MoveToNextCell"](E,B);
return true;
}return false;
}function A(C,D){var B=function(E,F){if(F){C.setAttribute(E,F);
}else{C.removeAttribute(E);
}};
B("cellpadding",D.padding);
B("cellspacing",D.spacing);
}this.InsertShiftTab=function(C,D,E){var B=w(D);
if(!x(B,true,D)){D.bubbleKeyEventToBrowser();
}return false;
};
this.InsertTabMozilla=function(C,D,E){var B=w(D);
if(!x(B,false,D)){D.bubbleKeyEventToBrowser();
}return false;
};
this.InsertTab=function(C,D,E){var B=w(D);
if(o.isTag(B,"LI")||o.isList(B)){D.fire("Indent");
}else{if(!x(B,false,D)){D.pasteHtml(" &nbsp;&nbsp;&nbsp;&nbsp;",C);
}}return false;
};
this.SetToolFocus=function(C,D,E){var B=D.get_toolAdapter();
if(B){B.setFocus();
}return false;
};
this.Undo=this.Redo=function(C,D,B){var E=(!B||i.isNaN(B._value))?1:B._value;
if(C=="Redo"){D.redo(E);
}else{D.undo(E);
}};
this.PastePlainTextWithTable=function(D,F,B){if(F.get_lockFormatting&&!F.get_lockFormatting()){return;
}if($telerik.isIE){var G=!!B;
var H=F.createRestorePoint(),E=o.getClipboardAsHtml(F);
if(G&&!E){H.select();
alert(F.getLocalizedString("UseCtrlV"));
return;
}var C=o.cleanPastedContent(E,F.get_stripFormattingOptions(),F.get_localization()["askwordcleaning"],false,F);
H.select();
F.pasteHtml(C);
}};
this.CopyFromEditor=function(D){var F=D.createRestorePoint();
var G=false;
var C=Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(D);
var B=D.get_clipboardData();
if(B&&B.contentFromEditor&&B.contentHTML==C){G=true;
}else{var E={contentFromEditor:false,contentHTML:C};
D.set_clipboardData(E);
}F.select();
return G;
};
this.PastePlainText=function(D,E,C){var B=function(H){if(H){var I=H.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
I=o.replaceNewLineWithBr(I);
if(I){E.pasteHtml(I,D);
}}};
var F=function(){var H=b.CommandList.getCallbackFunction(C,function(J,I){B(I.get_content());
});
E.showDialog("CleanPasteTextContent",{},H);
return false;
};
if(E.isIE){var G=window.clipboardData.getData("Text");
if(G){B(G);
}else{return F();
}}else{return F();
}};
this.PasteFromWord=this.PasteFromWordNoFontsNoSizes=this.PasteAsHtml=function(D,F,C){var B=function(L,M){var J="";
var N=F.get_stripFormattingOptions();
if(D=="PasteFromWord"||D=="PasteFromWordNoFontsNoSizes"){if(N==c.StripFormattingOptions.None||(N&c.StripFormattingOptions.ConvertWordLists)){L=o.convertWordLists(L);
}var K=D=="PasteFromWord"?"WORD":"WORD_ALL";
J=o.stripFormatting(L,K);
}else{J=o.convertText2Html(L);
}if(M){M.select();
}if(J){F.pasteHtml(J,D);
}};
var G=function(K){var J=b.CommandList.getCallbackFunction(C,function(M,L){B(L.get_content(),K);
});
F.showDialog("CleanPasteHtmlContent",{dialogTitle:F.getLocalizedString(D)},J);
};
if(F.isIE){var I=F.createRestorePoint();
I.useOldRange=true;
var E="";
if(F.get_contentAreaMode()==c.EditorContentAreaMode.Div){var H=F.getSelection().getRange(true);
E=o.getClipboardAsHtml(F);
if(H.select){H.select();
}else{b.DomRange.toDomRange(H).select();
}}else{E=o.getClipboardAsHtml(F);
}if(E){B(E,I);
}else{G(I);
}}else{G();
}};
this.PasteMarkdown=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(I,F){var H=F.get_content();
var G=new Telerik.Web.UI.Editor.Markdown.Converter();
E.pasteHtml(G.makeHtml(H));
});
E.showDialog("PasteMarkdown",{dialogTitle:E.getLocalizedString(D),commandName:"PasteMarkdown"},B);
};
this.PasteHtml=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(H,F){var G=F.get_content();
G=E.applyFiltersForEmbedContent(G);
E.pasteHtml(G);
});
E.showDialog("PasteHtml",{dialogTitle:E.getLocalizedString(D),commandName:"PasteHtml"},B);
};
this.Copy=function(C,F,B){if(!B){return;
}var G=false;
var D=F.get_document();
try{G=D.queryCommandEnabled(C);
}catch(E){G=false;
}if(G){try{G=D.execCommand(C,false,null);
}catch(E){G=false;
}}if(!G){alert(F.getLocalizedString("UseCtrlC"));
}};
this.Paste=function(C,D,B){var E=!!B;
var F=$telerik.isIE&&(E||D.get_enableTrackChanges()||D.get_enableComments());
if(F){window.setTimeout(function(){b.CommandList.PastePlainTextWithTable("PastePlainTextWithTable",D,B);
},0);
}else{D._pendingCutPasteCommand=E?null:new b.GenericCommand(D.getLocalizedString(C),D.get_contentWindow(),D);
if(E){alert(D.getLocalizedString("UseCtrlV"));
}}};
this.Cut=function(C,E,B){if(E.getDomRange().isCollapsed()){return;
}var F=E.getLocalizedString(C);
var D=E.get_contentWindow();
if(B){var G=new b.GenericCommand(F,D,E);
if(b.CommandList._tryCutProgrammatically(E)){E.executeCommand(G);
}else{b.CommandList._alert(E.getLocalizedString("UseCtrlX"));
}}else{E._pendingCutPasteCommand=new b.GenericCommand(F,D,E);
}};
this._alert=function(B){window.alert(B);
};
this._tryCutProgrammatically=function(E){var C=E.get_document();
var B="Cut";
var F=false;
var G=false;
try{F=C.queryCommandEnabled(B);
}catch(D){F=false;
}if(F){try{G=C.execCommand(B,false,null);
}catch(D){G=false;
}}return G&&E.getDomRange().isCollapsed();
};
this.InsertParagraph=function(C,D,E){if($telerik.isIE||$telerik.isFirefox||$telerik.isSafari||$telerik.isOpera11){var B=new Telerik.Web.UI.Editor.InsertParagraphCommand(D);
D.executeCommand(B);
}else{D.executeBrowserCommand(C,true,"");
}return true;
};
this.InsertParagraphSafari=function(B,E,G){E.executeBrowserCommand("InsertParagraph",true,"");
if($telerik.isSafari){var F=E.getSelectedElement();
var C=F;
while(C){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(C)){C=null;
}else{if(C.tagName=="DIV"){break;
}else{C=C.parentNode;
}}}if(C){var I=C.previousSibling;
if(I){var K=I.tagName;
if(I.nodeType==3||K=="P"||K=="UL"||K=="OL"||(K.charAt(0)=="H"&&!isNaN(parseInt(K.charAt(1),10)))){var D=E.get_document();
var H=D.createElement("P");
H.innerHTML="<br>";
C.parentNode.insertBefore(H,C);
if(I.nodeType==3){C.innerHTML=C.innerHTML.replace(/^<br>(&nbsp;)*/,"");
Telerik.Web.UI.Editor.Utils.removeNode(C);
}else{C.parentNode.removeChild(C);
}var J=D.createRange();
J.selectNodeContents(H);
E.getSelection().selectRange(J);
}}}}return true;
};
this.FormatBlock=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.FormatBlockCommand(D.getLocalizedString(C),D.get_contentWindow(),B.value,D));
};
this.FormatSets=function(D,E,B){var C=new Telerik.Web.UI.Editor.FormatSetsCommand(E.getLocalizedString(D),E.get_contentWindow(),B.value,E);
C.set_selectedElement(E.getSelectedElement());
E.executeCommand(C);
};
this.FormatPainterApply=function(D,E,B){var I=function(J){return !o.isTextNode(J)&&!o.isBlockElement(J)&&o.canHaveChildren(J);
};
var H=new b.StripElementCommand(E,{stripCondition:I});
H.onExecute();
var G={formatting:E.get_currentFormatting()};
var F={title:E.getLocalizedString(D)};
var C=new b.FormatPainterCommand(E,G,F);
E.executeCommand(C);
z(E,1);
};
this.FormatPainterCopy=function(C,D,B){var E=u(D.getSelectedElement());
D.set_currentFormatting(E);
z(D,1);
};
this.FormatPainterClear=function(C,D,B){D.set_currentFormatting(n);
z(D,0);
};
this._formatPainterStyles=["color","font-family","font-size","font-style","font-variant","font-weight","text-decoration","background-color","background-image","background-position","background-repeat","background-attachment"];
function z(B,C){var D=B.get_toolAdapter().getToolByName("FormatPainter");
if(D){if(D.set_selectedIndex){D.set_selectedIndex(C);
}else{D._enableButtonSelection=true;
D.set_selectedButtonIndex(C);
a(D.get_element()).removeClass("FormatPainterApply FormatPainterCopy FormatPainterClear").addClass((C==1)?"FormatPainterApply":"FormatPainterCopy");
}}}function u(G){var D=[];
var E={elements:D};
G=o.isTextNode(G)?G.parentNode:G;
var C=G;
if(!o.isEditorContentArea(G)){D.push(v(G));
}if(!o.isBlockElement(G)){do{G=G.parentNode;
if(!o.isEditorContentArea(G)){D.push(v(G));
}}while(!o.isBlockElement(G));
}var B=E.computedStyles={};
var F=$telerik.getComputedStyle;
Array.forEach(b.CommandList._formatPainterStyles,function(H){B[H]=F(C,H);
});
return E;
}function v(C){var B={nodeName:C.nodeName};
B.style=C.getAttribute("style");
B["class"]=C.className;
if(o.isTag(C,"font")){B.size=C.getAttribute("size");
B.color=C.getAttribute("color");
B.face=C.getAttribute("face");
}return B;
}this.InsertOrderedList=this.InsertUnorderedList=function(C,D,B){var E=(C=="InsertOrderedList"?"ol":"ul");
D.setFocus();
D.executeCommand(new Telerik.Web.UI.Editor.InsertListCmd(D,{title:C,listType:E}));
return true;
};
this.Indent=function(D,E,B){var C=new Telerik.Web.UI.Editor.IndentCommand(E,{title:D});
E.executeCommand(C);
};
this.Outdent=function(D,E,B){var C=new Telerik.Web.UI.Editor.OutdentCommand(E,{title:D});
E.executeCommand(C);
};
function y(B){return b[B+"Command"]||b[B];
}function t(E,C,D){var B=y(C);
return new B(E,{title:C,commandValue:D});
}this.Bold=this.Italic=this.Underline=this.Subscript=this.Superscript=this.StrikeThrough=this.RealFontSize=this.FontName=this.BackColor=this.ForeColor=function(C,E,F){E.setActive();
E.setFocus();
var D=F?(F._value||F.value):null;
var B=t(E,C,D);
E.executeCommand(B);
return true;
};
this.DeleteSelection=function(C,D,E){D.setActive();
D.setFocus();
var B=new b.DeleteSelectionCommand(D);
return D.executeCommand(B);
};
this.SelectAll=function(C,D,E){D.setActive();
D.setFocus();
var B=new b.SelectAllCommand(D);
return D.executeCommand(B);
};
this.Unlink=function(C,D,E){var B=new b.UnlinkCommand(D,{title:"Unlink"});
return D.executeCommand(B);
};
this.AbsolutePosition=function(B,C,D){C.setActive();
C.executeBrowserCommand(B,true,null,null);
return true;
};
this.JustifyLeft=this.JustifyRight=this.JustifyCenter=this.JustifyNone=this.JustifyFull=function(C,D,E){D.setActive();
var F=D.getLocalizedString(C);
var B=new Telerik.Web.UI.Editor.AlignCommand(D,{title:F,align:C.replace("Justify","").replace("Full","justify").toLowerCase()});
D.executeCommand(B);
return true;
};
this.TopLeftCellAlign=this.TopCenterCellAlign=this.TopRightCellAlign=this.MiddleLeftCellAlign=this.MiddleCenterCellAlign=this.MiddleRightCellAlign=this.BottomLeftCellAlign=this.BottomCenterCellAlign=this.BottomRightCellAlign=function(C,D,F){var H=C.toLowerCase().replace("align","");
var G=H.match(/top|middle|bottom/)[0];
var E=H.match(/left|center|right/)[0];
var B=new b.AlignCommand(D,{align:E,valign:G,isSuitableNode:j});
D.executeCommand(B);
return true;
};
this.NoCellAlign=function(C,D,E){var B=new b.AlignCommand(D,{align:"none",valign:"none",isSuitableNode:j});
D.executeCommand(B);
return true;
};
this.FontSize=function(C,D,B){var E=new Telerik.Web.UI.Editor.ieFontCommandFix(D);
E.applyFix();
D.executeBrowserCommand(C,true,B.value);
E.cleanUp();
};
this.Zoom=function(C,D,B){var F=B.value;
var E=B.get_tool?B.get_tool():null;
if(F&&E&&E.updateValue){E.updateValue(F);
}D.zoomContent(F);
return false;
};
this.Print=function(C,D,B){if(D.isIE){D.get_document().execCommand(C,false,null);
}else{if(D.get_contentWindow().print){D.get_contentWindow().print();
}}return false;
};
this.InsertSnippet=function(C,D,B){D.pasteHtml(B.value,C);
};
this.InsertFormElement=function(C,D,B){var I=B.value;
I=I.toLowerCase();
var E=null;
switch(I){case"form":if(D.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){alert("Error! Form elements are only supported when the content area is set to Iframe!");
B.set_cancel(true);
return false;
}else{E=D.createElement("form","150px","150px");
E.innerHTML="&nbsp;";
}break;
case"textarea":E=D.createElement("textarea");
break;
case"select":E=D.createElement("select","100px","22px");
break;
case"checkbox":case"radio":E=D.createElement("input");
E.setAttribute("type",I);
break;
case"button":case"reset":case"submit":E=D.createElement("input","50px","22px");
E.setAttribute("type",I);
break;
case"hidden":case"password":case"text":E=D.createElement("input","100px","22px");
E.setAttribute("type",I);
break;
}if(E){var G=Telerik.Web.UI.Editor.Utils.getUniqueID();
E.setAttribute("id",G);
var F=Telerik.Web.UI.Editor.Utils.getOuterHtml(E);
D.pasteHtml(F,C);
var H=D.get_document().getElementById(G);
if(H){H.removeAttribute("id");
if(H.setActive){H.setActive();
}return false;
}}};
this.InsertGroupbox=this.InsertDate=this.InsertTime=this.InsertSymbol=this.InsertHorizontalRule=function(C,F,B){var I="";
switch(C){case"InsertSymbol":I=B.value;
break;
case"InsertHorizontalRule":I="<hr>";
break;
case"InsertDate":var D=new Date();
I="&nbsp;"+D.toLocaleDateString();
break;
case"InsertTime":var E=new Date();
I="&nbsp;"+E.toLocaleTimeString();
break;
default:var H=F.getLocalizedString("RadEditorGroupboxTitle","Title");
var G=F.getLocalizedString("RadEditorGroupboxContent","Content...");
I="<fieldset> <legend>"+H+"</legend>"+G+" </fieldset> ";
}F.pasteHtml(I,C);
};
this.ImageManager=function(E,F,D){var I=F.getSelectedElement();
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(P,J){var O=J.get_value(),K="",N;
for(var L=0;
L<O.length;
L++){K+=Telerik.Web.UI.Editor.Utils.getOuterHtml(O[L]);
}if(I&&I.nodeName=="IMG"){N=I.parentNode;
F._disposeElementResizableWidget();
var M=N&&N.nodeName=="A"&&N.childNodes.length==1;
F.selectElement(I);
if(M&&K.indexOf("<img")==0){N.innerHTML=K;
K=$telerik.getOuterHtml(N);
F.selectElement(N);
N.parentNode.removeChild(N);
}}F.pasteHtml(K,E);
});
var H=F.get_dialogOpener().get_additionalQueryString();
if(I&&I.tagName=="IMG"){var G=I.getAttribute("src",2);
F.get_dialogOpener().set_additionalQueryString(H+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(G));
}else{I=null;
}var B=new Telerik.Web.UI.EditorCommandEventArgs(E,null,I);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"IMG",F,E);
F.showDialog("ImageManager",B,C);
F.get_dialogOpener().set_additionalQueryString(H);
return false;
};
this.SilverlightManager=this.FlashManager=this.MediaManager=function(E,F,D){var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,J){var K=J.get_value();
if(!K){K=J.Result;
}K=F.applyFiltersForEmbedContent(K);
F.pasteHtml(K,E);
});
var B={};
var H=F.get_dialogOpener().get_additionalQueryString();
var I=F.getSelectedElement();
if(I){if($telerik.isIE&&I.object){var G="MediaManager"==E?I.object.FileName:I.object.Movie;
if(G){F.get_dialogOpener().set_additionalQueryString(H+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(G));
B.selectedItemUrl=G;
B.selectedObject=I;
}}}F.showDialog(E,B,C);
F.get_dialogOpener().set_additionalQueryString(H);
return false;
};
this.TemplateManager=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(H,F){var G=F.get_value();
if(!G){G=F.Result;
}E.pasteHtml(G,D);
});
E.showDialog("TemplateManager",{},B);
return false;
};
this.AboutDialog=function(B,C,D){C.showDialog("AboutDialog");
return false;
};
this.Help=function(B,C,D){C.showDialog("Help");
return false;
};
this.PageProperties=function(E,F,D){var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
var B={};
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"BODY",F,E);
F.showDialog("PageProperties",B,C);
return false;
};
this.ImageMapDialog=function(E,F,D){var B=Telerik.Web.UI.Editor.CommandList._getImageMapDialogArgument(F);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){Telerik.Web.UI.Editor.CommandList._setImageMapProperties(F,G,E);
return false;
});
F.showDialog("ImageMapDialog",B,C);
return false;
};
this._setImageMapProperties=function(E,B,C){if(!B){return;
}var M=E.getSelectedElement();
var F;
if(M&&M.tagName=="IMG"){F=M;
if(B.ImageSrc!=F.src){F.src=B.ImageSrc;
}}else{if(!B.ImageSrc){return;
}E.pasteHtml('<img src="'+B.ImageSrc+'" id = "__tmp__">',C);
F=E.get_document().getElementById("__tmp__");
F.removeAttribute("id");
if(document.all){var L=E.get_document().body.createTextRange();
L.collapse();
L.moveToElementText(F);
L.select();
}}var O=document.createElement("span");
O.innerHTML=B.MapHtml;
var N=O.getElementsByTagName("map");
if(N.length==0){return;
}var I=N[0].innerHTML;
O=null;
if(!I){var D=F.getAttribute("useMap",2);
if(D){var J=Telerik.Web.UI.Editor.CommandList._getImageMapByName(E,D);
if(J){J.parentNode.removeChild(J);
}}F.removeAttribute("useMap");
return;
}var H=null;
var P=F.getAttribute("useMap",2);
if(P){H=Telerik.Web.UI.Editor.CommandList._getImageMapByName(E,P);
}if(H==null){var G=new Date()-100;
var K="rade_img_map_"+G;
H=E.get_document().createElement("map");
H.id=K;
this._setNameAttribute(H,K);
H=E.get_contentArea().appendChild(H);
F.setAttribute("useMap","#"+K);
F.setAttribute("border","0");
}H.innerHTML=I;
};
this._setNameAttribute=function(B,C){B.removeAttribute("name");
B.removeAttribute("NAME");
B.name=null;
B.name=C;
B.NAME=C;
};
this._getImageMapDialogArgument=function(C){var B={};
B.editor=C;
var D=C.getSelectedElement();
if(D&&D.tagName=="IMG"){B.ImageSrc=D.getAttribute("src",2);
B.ImageWidth=(D.style.width)?D.style.width:D.width;
B.ImageHeight=(D.style.height)?D.style.height:D.height;
if(document.selection){C.selectElement(D);
}if(D.useMap){var F=D.getAttribute("useMap",2);
var E=Telerik.Web.UI.Editor.CommandList._getImageMapByName(C,F);
if(E!=null){B.ImageMapHTML='<map name = "'+F.substr(1)+'">'+E.innerHTML+"</map>";
}else{B.ImageMapHTML="";
}D.style.width=B.ImageWidth;
D.style.height=B.ImageHeight;
}}return B;
};
this._getImageMapByName=function(B,F){F=F.substr(1);
var C=B.get_document();
var E=C.getElementById(F);
if(E!=null){return E;
}var G=C.getElementsByTagName("map");
for(var D=0;
D<G.length;
D++){if(G[D].getAttribute("name")==F){return G[D];
}}return null;
};
this.get_ImportStyleSheetHTML=function(B,C,F){var E="";
if(F){var D=C.get_document().getElementById(F.id);
if(!D){E=Telerik.Web.UI.Editor.Utils.getOuterHtml(F);
}}return E;
};
this._replaceTable=function(H,C,B){var E=B.tableToModify;
var G=C.getSelection();
var F=b.DomRange.toDomRange(G.getRange(true));
if(E){if(H){H.parentNode.replaceChild(E,H);
}else{G.insertNode(E,F);
}}if(B.styleSheetToImport){b.CommandList._importStyleSheet(B.styleSheetToImport,E);
}if(B.styleSheetToRemove){b.CommandList._removeStyleSheet(C,B.styleSheetToRemove);
}var D=$telerik.$(E).find("td,th").last().get(0);
if(D){F.selectNodeContents(D);
F.collapse(false);
F.select();
}};
this._removeStyleSheet=function(B,D){var E=D?D.id:null;
var C=$telerik.$(B.get_contentArea());
if(!E||C.find("table."+E).get(0)){return;
}C.find("#"+E).remove();
};
this._importStyleSheet=function(D,E){var C=D.cloneNode(false);
var B=D.styleSheet?D.styleSheet.cssText:D.innerHTML;
$telerik.$(C).insertAfter(E);
if(C.styleSheet){C.styleSheet.cssText=B;
}else{C.appendChild(E.ownerDocument.createTextNode(B));
}};
this.TableWizard=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,null,true,false);
B._getDialogArguments(C,"TABLE",G,F);
var H=B._getParentTable(G);
var D=B.getCallbackFunction(E,function(J,I){B._replaceTable(H,G,I);
});
G.showDialog("TableWizard",C,D);
return false;
};
this.InsertFormSelect=function(E,F,D){var G=F.getSelectedElement();
var H;
if(G&&G.nodeName=="SELECT"){H=G;
}var B=Telerik.Web.UI.Editor.CommandList._getSelectArgument(H);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"SELECT",F,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,I){if(!$telerik.isIE&&H){var J=Telerik.Web.UI.Editor.DomRange.toDomRange(F.getSelection().getRange());
J.selectNode(H);
J.select();
F.pasteHtml(I.selectToInsert.outerHTML);
return;
}var K=I.selectToInsert;
F.pasteHtml(K.outerHTML);
});
F.showDialog("InsertSelectDialog",B,C);
return false;
};
this.InsertTableLight=this.SetTableProperties=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,1,false,true);
if(F=="SetTableProperties"&&!C){alert(G.getLocalizedString("tablewarning"));
return false;
}var H=B._getParentTable(G);
var D=B.getCallbackFunction(E,function(J,I){B._replaceTable(H,G,I);
});
if(G.get_document().selection&&G.get_document().selection.empty&&F!="InsertTableLight"){G.get_document().selection.empty();
}if(F=="SetTableProperties"){B._getDialogArguments(C,"TABLE",G,F);
G.showDialog("TableWizard",C,D);
}else{if(!C){C=new c.EditorCommandEventArgs("InsertTableLight",null,null);
}C._name=C._commandName="InsertTableLight";
C.editor=G;
G.showDialog("InsertTableLight",C,D);
}return false;
};
this.SetCellProperties=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,2,false,true);
var H=$telerik.isFirefox&&G.get_contentWindow().getSelection().rangeCount>1;
if(!C||H){alert(G.getLocalizedString("cellwarning"));
return false;
}B._getDialogArguments(C,"TABLE",G,F);
var I=B._getParentTable(G);
var D=B.getCallbackFunction(E,function(K,J){B._replaceTable(I,G,J);
});
G.showDialog("TableWizard",C,D);
return false;
};
this.FindAndReplace=function(F,G,E){var D=new b.FindReplaceCommand(G);
if(D.onExecute()){var H=D.isOn(G);
var J=function(K){if(K.get_name()==F){K.setOn(H);
}};
G.updateTools(G.get_toolAdapter(),J);
G.updateTools(G.get_headerToolsToolAdapter(),J);
var I=G.get_toolAdapter().get_mobileKeyboardAdapter();
if(I){I.hideKeyboardOverlay();
}return false;
}var B={};
B.editor=G;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(E,function(L,K){});
G.showDialog("FindAndReplace",B,C);
return false;
};
this.StyleBuilder=function(E,F,D){var K=null;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(P,L){var N=Telerik.Web.UI.Editor.Utils.getOuterHtml(L.get_value());
N=N.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if(K){var O="";
var Q=new RegExp("style=(\"|')(.+?)\\1","gi");
N.replace(Q,function(T,R,S){O=S;
});
if(O){var M=new Telerik.Web.UI.Editor.AttributeCommand(E+"set Style Attribute",F.get_contentWindow(),K,"style",O,F);
F.executeCommand(M);
}}else{F.pasteHtml(N,E);
}});
var I=F.getSelection();
var H=I.getParentElement();
if(!$telerik.isIE||!I.isControl()){var J=I.getText();
if(J||(H&&H.tagName=="BODY")){var G=F.createElement("span");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(G,J);
H=G;
}else{K=H;
F.selectElement(H,false);
}}if(!H){H=Telerik.Web.UI.Editor.Utils.getContentAreaFirstChild(F);
F.selectElement(H,false);
}var B=new Telerik.Web.UI.EditorCommandEventArgs("StyleBuilder",null,(H?H.cloneNode(true):null));
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"*",F,E);
B.fontNames=F.get_fontNames();
F.showDialog("StyleBuilder",B,C);
return false;
};
this.XhtmlValidator=function(E,F,D){var B=F;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
F.showDialog("XhtmlValidator",B,C);
return false;
};
this.InsertCustomLink=function(D,E,B){var F=B.value,G=$telerik.$(String.format("<a href='{1}' title='{3}' target='{2}'>{0}</a>",F.innerHTML,F.href,F.target,F.title))[0],H=Telerik.Web.UI.Editor.CommandList._getLinkArgument(E).get_value();
if(H.innerHTML.trim()){G.innerHTML=H.innerHTML;
}var C=new Telerik.Web.UI.Editor.InsertLinkCommand(D,E.get_contentWindow(),G,E);
E.executeCommand(C);
return true;
};
this._getDialogArguments=function(B,E,D,C){if(!D){B.Colors=[];
B.CssClasses=[];
B.CellCssClasses=[];
B.tableLayoutCssFile="";
B.editor=null;
return;
}B.Colors=D.get_colors();
if("TD"==E||"TH"==E||"TABLE"==E){B.CssClasses=D.getCssArray("TABLE");
B.CellCssClasses=D.getCssArray("TD");
B.tableLayoutCssFile=D.get_tableLayoutCssFile();
}else{if("A"==E||"BODY"==E||"IMG"==E){B.CssClasses=D.getCssArray(E);
}else{if("SELECT"==E){B.CssClasses=D.getCssArray(E);
}}}B.editor=D;
};
this.DocumentManager=this.SetLinkProperties=this.LinkManager=function(E,G,D){var F=E=="DocumentManager"?"DocumentManager":"LinkManager";
var B=Telerik.Web.UI.Editor.CommandList._getLinkArgument(G);
var H=(f.ie&&f.version<11)?G.getDomRange():null;
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"A",G,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,I){if(H){H.select();
}if(I=="remove"){G.fire("Unlink");
return false;
}else{var K=I.get_value()||I.Result||I.realLink;
var J=new Telerik.Web.UI.Editor.InsertLinkCommand(E,G.get_contentWindow(),K,G);
G.executeCommand(J);
}});
G.showDialog(F,B,C);
return false;
};
this.InsertLink=function(E,G,D){var F="InsertLink";
var B=Telerik.Web.UI.Editor.CommandList._getLinkArgument(G);
B._name=B._commandName="InsertLink";
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"A",G,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(K,H){var J=H.get_value();
var I=new Telerik.Web.UI.Editor.InsertLinkCommand(E,G.get_contentWindow(),J,G);
G.executeCommand(I);
});
G.showDialog(F,B,C);
return false;
};
this.OpenLink=function(C,D,B){var E=new b.InsertLinkCommand(C,D.get_contentWindow(),null,D);
var F=E.getCurrentFormattedAncestor();
if(F){window.open(F.href,"_blank");
}};
this.InsertImage=this.SetImageProperties=function(E,G,D){var F=G.getSelectedElement();
if(F&&F.nodeName!="IMG"){F=null;
}var B=new Telerik.Web.UI.EditorCommandEventArgs(E,null,F);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"IMG",G,E);
B.Element=F;
if(F){B.alt=F.getAttribute("alt");
B.title=F.getAttribute("title");
B.description=F.getAttribute("longdesc");
}var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(K,H){var J=H.get_value?H.get_value():H.Result;
if(!J){return;
}if(J.parentNode===n&&J.title!==n&&typeof(J.title)==="string"){if(!F){return false;
}var L=function(M){var N=J[M];
if(N){F.setAttribute(M,N);
}else{F.removeAttribute(M);
}};
L("alt");
L("title");
L("longdesc");
}else{if(F&&F.parentNode){var I=new Telerik.Web.UI.Editor.GenericCommand(G.getLocalizedString(E),G.get_contentWindow(),G);
F.parentNode.replaceChild(J,F);
G.selectElement(J);
G.executeCommand(I);
}else{G.pasteHtml(Telerik.Web.UI.Editor.Utils.getOuterHtml(J),E);
}}});
if(E=="SetImageProperties"){G.showDialog("ImageProperties",B,C);
}else{G.showDialog("InsertImage",B,C);
}return false;
};
this.ImageSizeMargins=function(D,F,B){var K=["width","height"];
var I=["marginTop","marginBottom","marginLeft","marginRight"];
var E=F.getSelectedElement();
if(!E||!o.isTag(E,"img")){return false;
}var J=function(M){return parseInt(M,10);
};
var L=E.style;
var G={};
Array.forEach(I,function(M){G[M]=J(L[M]);
});
var H=$telerik.getSize(E);
Array.forEach(K,function(M){G[M]=J(L[name])||H[M];
});
var C=b.CommandList.getCallbackFunction(B,function(N,M){var P=M.value;
var O=E.style;
Array.forEach(K,function(Q){if(G[Q]!=P[Q]){O[Q]=k(P[Q]);
}if(E.hasAttribute(Q)&&O[Q]){E.removeAttribute(Q);
}});
Array.forEach(I,function(Q){O[Q]=k(P[Q]);
});
});
F.showDialog("SizeMargins",G,C);
return false;
};
this.InsertExternalVideo=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(G,F){E.pasteHtml(F.get_value(),D);
});
E.showDialog("InsertExternalVideo",null,B);
};
this.FormatCodeBlock=function(E,F,D){var B=new Telerik.Web.UI.EditorCommandEventArgs("FormatCodeBlock",null,F.getSelectionHtml());
B.dirtyCode=F.getSelectionHtml();
if(F.get_document().selection){var G=F.get_document().selection.type.toLowerCase();
if(G=="control"||G=="none"){B.set_value("");
}}var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(I,H){F.pasteHtml(H.get_value?H.get_value():H.get_code(),E);
});
F.showDialog("FormatCodeBlock",B,C);
return false;
};
this._getDocumentAnchors=function(D){var C=D.getElementsByTagName("A");
var B=[];
for(var E=0;
E<C.length;
E++){if(C[E].name){B[B.length]=C[E];
}}return B;
};
this._getParentLink=function(B){return this._getExistingLink(B)||this._createNewLink(B);
};
this._getExistingLink=function(B){var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"A");
if(C){B.selectElement(C);
return C;
}return null;
};
this._createNewLink=function(C){var F=C.getSelectedElement();
var D="";
var G=(F&&F.tagName)?F.tagName:"";
if(G=="IMG"){D=Telerik.Web.UI.Editor.Utils.getOuterHtml(F);
}if(!D){D=C.getSelectionHtml();
}if($telerik.isIE){var H=F.tagName;
if(H=="FONT"||H=="SPAN"){D=D.replace(/^<(FONT|SPAN)[^>]*>/gi,"");
D=D.replace(/<\/(FONT|SPAN)>$/gi,"");
}}var E=C.get_document().createElement("a");
try{Telerik.Web.UI.Editor.Utils.setElementInnerHtml(E,D);
}catch(B){E.innerHTML=String.format("<span>{0}</span>",Telerik.Web.UI.Editor.Utils.stripFormatting(D,"ALL"));
}return E;
};
this._getLinkArgument=function(C,H){var D=b.CommandList._getExistingLink(C);
var G=D||b.CommandList._createNewLink(C);
var F=G.innerHTML;
var E=!F?false:F.match(/</);
if($telerik.isIE&&E){var I=F.trim().toLowerCase();
if(I.match(/<p[^>]*>(&nbsp;|\s*)<\/p>/)){G.innerHTML=" ";
E=false;
}}var B=new Telerik.Web.UI.EditorCommandEventArgs("LinkManager",null,G.cloneNode(true));
B.selectedTabIndex=H?H:0;
B.showText=!E;
B.documentAnchors=Telerik.Web.UI.Editor.CommandList._getDocumentAnchors(C.get_document());
B.realLink=B.get_value();
B.canUnlink=!!D;
return B;
};
this._getParentTable=function(B){B.setFocus();
var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TABLE");
return C;
};
this._getParentCell=function(B){B.setFocus();
var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TD");
if(!C){C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TH");
}return C;
};
this._getTableArgument=function(B,H,C,G){var F;
var E=null;
if(C){F=Telerik.Web.UI.Editor.Utils.createTable(2,2,B.get_document());
}else{F=Telerik.Web.UI.Editor.CommandList._getParentTable(B);
}if(!C&&!F){return null;
}if(G){E=Telerik.Web.UI.Editor.CommandList._getParentCell(B);
}var I=F.cloneNode(true);
var D=F;
return{selectedTabIndex:H?H:0,cellToModify:E,tableToModify:I,originalTable:D,tableDocument:I.ownerDocument||B.get_document()};
};
this._getSelectArgument=function(B){return{selectToModify:B};
};
this.EnterParagraphMozilla=function(C,D,B){var E=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",D.get_contentWindow(),false,D);
return E.enterBlockElement();
};
this.EnterMozilla=function(C,D,B){if(D.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var E=D.getSelectedElement();
if(E!=null&&E.tagName!="P"){D.bubbleKeyEventToBrowser();
return true;
}else{D.pasteHtml("<br />");
}};
this.EnterNewLine=function(D,E,B){var C=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",E.get_contentWindow(),false,E);
if($telerik.isSafari&&E&&E.get_newLineMode()!=Telerik.Web.UI.EditorNewLineModes.Br){C.set_canUnexecute(false);
}E.executeCommand(C);
};
this.Enter=function(C,D,B){if(D.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var K=D.getSelectedElement();
if("LI"==K.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(K,"LI")!=null){D.bubbleKeyEventToBrowser();
return false;
}if(D.get_enableTrackChanges()){if(K.getAttribute("Name")!=null){if(K.getAttribute("Name").indexOf("_wp")==0){D.bubbleKeyEventToBrowser();
return false;
}}}try{var G=D.getLocalizedString("Enter");
var F=new Telerik.Web.UI.Editor.GenericCommand(G,D.get_contentWindow(),D);
var J=D.getSelection();
var H=J.getRange();
if(H.pasteHTML){var L=K.tagName;
if(L.charAt(0)=="H"&&parseInt(L.charAt(1),10)>0){var I=H.duplicate();
I.moveToElementText(K);
D.bubbleKeyEventToBrowser();
return false;
}else{if(L.toLowerCase()=="textarea"){D.bubbleKeyEventToBrowser();
return false;
}}H.pasteHTML("<br>");
H.select();
H.moveEnd("character",1);
H.moveStart("character",1);
H.collapse(false);
}else{if(J.isControl()){if(H(0)){H.execCommand("Delete");
}}else{D.bubbleKeyEventToBrowser();
return false;
}}D.executeCommand(F);
}catch(E){alert(E.message);
}return false;
};
this.ShiftEnter=function(C,E,B){var I=E.getSelectedElement();
var D=E.get_document();
if(D.selection&&("LI"==I.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(I,"LI")!=null)){var G=E.getLocalizedString("Enter");
var F=new Telerik.Web.UI.Editor.GenericCommand(G,E.get_contentWindow(),E);
var H=D.selection.createRange();
H.pasteHTML("<br>");
H.select();
H.moveEnd("character",1);
H.moveStart("character",1);
H.collapse(false);
E.executeCommand(F);
return false;
}E.bubbleKeyEventToBrowser();
return false;
};
this.ShiftEnterSafari=function(C,E,B){var G=E.getSelectedElement();
if("LI"==G.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(G,"LI")!=null){var F=new Telerik.Web.UI.Editor.GenericCommand("Enter",E.get_contentWindow(),E);
E.pasteHtml("<br />","",null,null,false);
E.executeCommand(F);
}else{var D=Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading;
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=true;
E.executeCommand(new Telerik.Web.UI.Editor.EnterNewLineCommand(E.getLocalizedString(C),E.get_contentWindow(),false,E,Telerik.Web.UI.EditorNewLineModes.Br));
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=D;
}return false;
};
this.EnterSafari=function(C,D,B){var E=D.getSelectedElement();
if("LI"==E.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(E,"LI")!=null){D.bubbleKeyEventToBrowser();
return false;
}D.executeBrowserCommand("InsertLineBreak",true,"");
return false;
};
this.ToggleTableBorder=function(C,D,B){D.toggleEnhancedEdit();
return false;
};
this.ConvertToUpper=this.ConvertToLower=function(D,F,B){var S,I,E=F.get_document();
if($telerik.isIE&&E.selection){if(E.selection.type.toLowerCase()=="control"){return;
}var N=E.selection.createRange();
S=N.duplicate();
I=N.duplicate();
S.collapse();
I.collapse(false);
}var P=Telerik.Web.UI.Editor.CommandList._markEditorSelection(F);
var H=P.markedElements;
var L=P.newElements;
var J=new Telerik.Web.UI.Editor.GenericCommand(F.getLocalizedString(D),F.get_contentWindow(),F);
function C(U){var T=U.childNodes;
for(var V=0;
V<T.length;
V++){if(T[V].nodeType==3){T[V].nodeValue=("ConvertToLower"==D)?T[V].nodeValue.toLowerCase():T[V].nodeValue.toUpperCase();
}else{if(T[V].nodeType==1&&T[V].tagName.toUpperCase()!="FONT"){C(T[V]);
}}}}var K;
for(K=0;
K<H.length;
K++){C(H[K]);
}for(K=0;
K<L.length;
K++){var G=L[K];
if($telerik.isIE&&G.removeNode){G.removeNode(false);
}else{var O=document.createRange();
O.selectNodeContents(G);
G.parentNode.replaceChild(O.extractContents(),G);
}}if($telerik.isIE&&E.selection){var M=E.selection.createRange();
M.setEndPoint("StartToStart",S);
M.setEndPoint("EndToEnd",I);
M.select();
}else{var R=F.get_contentWindow().getSelection();
var Q=R.getRangeAt(0);
Q.collapse(true);
}F.executeCommand(J);
};
this.ApplyClass=function(F,H,B){var W=true;
var N=B.get_value();
var G=H.get_contentWindow();
var I=H.get_document();
var L=new Telerik.Web.UI.Editor.GenericCommand(H.getLocalizedString(F)+' ["'+N+'"]',H.get_contentWindow(),H);
var S=H.getSelectedElement();
var T=(S)?S.tagName:"";
var V=H.getSelection();
var U=V.getHtml();
var Q=b.DomRange.toDomRange(V.getRange(true));
var E=(!N&&!U)||U.match(/<(font|span)[^>]*><\/(font|span)>/ig)||T=="UL"||T=="IMG";
var O=(E)?S:Telerik.Web.UI.Editor.Utils.getFullySelectedElement(G);
var D=["body","p","div","th","td","li","h[1-6]","form","fieldset","dt","dd","blockquote","address","article","details","figcaption","footer","header","hgroup","section"];
var C=new RegExp("^(?:"+D.join("|")+")$","i");
var P=O&&O.nodeName.match(C)&&O!=Q.startContainer;
if(O&&!P&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(O)&&!Telerik.Web.UI.Editor.Utils.isTextNode(O)){Telerik.Web.UI.Editor.Utils.setElementClassName(O,N);
W=false;
}else{if(!N){I.execCommand("RemoveFormat",false,null);
W=false;
}}if(W){var R=Telerik.Web.UI.Editor.CommandList._markEditorSelection(H);
var K=R.markedElements;
if(K.length>0){for(var M=0;
M<K.length;
M++){var J=K[M];
if(J.className&&J.className!="Apple-style-span"){continue;
}else{J.className=N;
}}if(!$telerik.isIE){Telerik.Web.UI.Editor.Utils.addElementsToSelection(H.get_contentWindow(),K);
}}else{Telerik.Web.UI.Editor.CommandList._completeEditorSelection(H,"class='"+N+"'");
}}if(B.addToUndoRedo!=false){H.executeCommand(L);
}};
s.MobileEdit=function(C,D,B){if(D._renderMode==c.RenderMode.Mobile){var F=D.get_toolAdapter();
if(F.toggleEdit){var E=D.getToolState("FindAndReplace");
if(E===b.CommandStates.On){s.FindAndReplace("FindAndReplace",D);
}F.toggleEdit();
}}return false;
},s.ToggleEditMode=function(D,E,B){var C=b.CommandList;
C._switchBetweenHtmlAndDesignMode(E);
C._switchStateOfToggleEditModeTool(E);
};
s._switchBetweenHtmlAndDesignMode=function(D){var B=D.get_mode();
var C=c.EditModes;
if(B===C.Design){D.set_mode(C.Html);
}else{if(D.get_renderMode()===c.RenderMode.Mobile){D.get_textArea().blur();
}D.set_mode(C.Design);
}};
s._switchStateOfToggleEditModeTool=function(D){var C=c.EditModes;
var B=D.get_mode();
var F=D.get_toolAdapter();
var E=F.getToolByName(m);
if(E){E.setOn(B===C.Html);
}};
this._completeEditorSelection=function(C,F){if(!F){F="";
}var B=C.get_contentWindow();
var D=C.get_document();
var I=C.getSelection().getParentElement();
var J=I?I.tagName:"";
if($telerik.isIE&&!C.getSelectionHtml()&&(J=="FONT"||J=="SPAN")){D.execCommand("RemoveFormat",null,false);
}var E=C.getSelection();
E.pasteHtml("<font "+F+" id='radERealFont'>&#x200b;</font>");
var G=C.get_document().getElementById("radERealFont");
G.removeAttribute("id");
if($telerik.isIE){C.selectElement(G);
C.getSelection().collapse();
G.innerHTML="";
}else{if(B.getSelection){var H=B.getSelection();
var K=C.getSelection().getRange();
H.removeAllRanges();
if(!$telerik.isSafari){G.innerHTML="";
}K.selectNodeContents(G);
if(!$telerik.isSafari){K.collapse(false);
}H.addRange(K);
}}};
this._markEditorSelection=function(G){if(G.get_html()==""){return{markedElements:[],newElements:[],oldElements:[]};
}var F="AZBY";
var E="_cm";
var R=[];
var S=[];
var T=[];
var U=[];
var O=$telerik.isSafari2||$telerik.isSafari3;
var M=O?"span":"font";
var H=G.get_contentArea();
if(O){var W=new Telerik.Web.UI.Editor.OptimizeSpans();
W.getHtmlContent(H);
}var I=G.getSelection();
if(I.isControl()){var D=I.getParentElement();
var L=G.get_document().createElement(M);
L.appendChild(D.cloneNode(true));
D.parentNode.replaceChild(L,D);
return{markedElements:[L],newElements:[L]};
}function Q(){var X=G.get_contentArea().getElementsByTagName(M);
for(var Z=0;
Z<X.length;
Z++){var Y=X[Z];
if(X[Z].face){Y.setAttribute("_face",Y.face);
R.push(Y);
}else{if(O){Y.setAttribute("_face",Y.style.fontFamily);
R.push(Y);
}}Y.setAttribute(E,1);
}}function V(){for(var X=0;
X<R.length;
X++){if(O){R[X].style.fontFamily=R[X].getAttribute("_face");
}else{R[X].face=R[X].getAttribute("_face");
}R[X].removeAttribute("_face");
}R=[];
}Q();
if(!$telerik.isIE){H.ownerDocument.execCommand("UseCSS",false,true);
H.ownerDocument.execCommand("styleWithCSS",false,false);
}H.ownerDocument.execCommand("FontName",false,F);
var J=H.getElementsByTagName(M);
for(var N=0;
N<J.length;
N++){var K=J[N];
if(K.getAttribute("face")==F||K.style.fontFamily==F){K.removeAttribute("face");
if(K.style.fontFamily==F){K.style.fontFamily="";
if(K.className=="Apple-style-span"){K.className="";
}}S.push(K);
var C=K.getElementsByTagName(M);
for(var P=0;
P<C.length;
P++){var B=C[P];
if(B.getAttribute("face")!=F){S.push(B);
}}if(!K.getAttribute(E)){T.push(K);
}else{U.push(K);
}}K.removeAttribute(E);
}V();
if(!$telerik.isIE){H.ownerDocument.execCommand("UseCSS",false,false);
H.ownerDocument.execCommand("styleWithCSS",false,true);
}return{markedElements:S,newElements:T,oldElements:U};
};
this.CSDialog=function(E,F,D){var B=F;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
F.showDialog("CSDialog",B,C);
return false;
};
})();
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.CommandsManager=function(a){this._commands=[];
this._currentCommandIndex=-1;
};
Telerik.Web.UI.Editor.CommandsManager.prototype={get_commands:function(){return this._commands;
},execute:function(c,a){if(c&&c.execute){var b=c.execute();
if(false==a){return false;
}if(b&&c._canUnexecute){this._clearCommandsToRedo();
Array.add(this._commands,c);
this._currentCommandIndex=this._commands.length-1;
return true;
}}return false;
},undo:function(c){var d=this;
if(c>d._commands.length){c=d._commands.length;
}var a=0;
var b=null;
while(0<c&&0<=d._currentCommandIndex&&d._currentCommandIndex<d._commands.length){b=d._commands[d._currentCommandIndex--];
if(b){d._updateRestorePoints(b);
b.unexecute();
a++;
}c--;
}},redo:function(d){var e=this;
if(d>e._commands.length){d=e._commands.length;
}var a=0;
var b=null;
var c=e._currentCommandIndex+1;
while(0<d&&0<=c&&c<e._commands.length){b=e._commands[c];
if(b){e._updateRestorePoints(b);
b.execute();
e._currentCommandIndex=c;
a++;
}c++;
d--;
}},removeCommandAt:function(a){this._commands.splice(a,1);
if(this._currentCommandIndex>=a){this._currentCommandIndex--;
}},isUndoAvailable:function(){return(-1<this._currentCommandIndex);
},isRedoAvailable:function(){return(this._currentCommandIndex<this._commands.length-1);
},getCommandsToUndo:function(){if(this.isUndoAvailable()){return(this._commands.slice(0,this._currentCommandIndex+1)).reverse();
}else{return[];
}},getCommandsToRedo:function(){if(this.isRedoAvailable()){return this._commands.slice(this._currentCommandIndex+1);
}else{return[];
}},canRepeatLastCommand:function(){return((this._currentCommandIndex==this._commands.length-1)&&null!=this._commands[this._currentCommandIndex]&&("function"==typeof(this._commands[this._currentCommandIndex].clone)));
},repeatLastCommand:function(){if(this.canRepeatLastCommand()){var a=this._commands[this._currentCommandIndex].clone();
this.execute(a);
}},_clearCommandsToRedo:function(){if(this.isRedoAvailable()){this._commands.splice(this._currentCommandIndex+1,this._commands.length-this._currentCommandIndex);
}},_updateRestorePoints:function(a){var c=a.RestorePoint1,d=a.RestorePoint2,b=a.get_editor&&a.get_editor()?a.get_editor().get_contentArea():null;
if(!b){return;
}if(c){c.container=b;
}if(d){d.container=b;
}}};
Telerik.Web.UI.Editor.CommandsManager.registerClass("Telerik.Web.UI.Editor.CommandsManager",null);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,f){var c=Telerik.Web.UI;
var b=c.Editor;
var d="EditorEditType";
var e="EditorToolBarAnimationType";
a.registerEnum(c.Editor,"CommandStates",{Disabled:-1,Off:0,On:1});
a.registerEnum(c,"EditingOptions",{Typing:1,Tools:2,ContextMenus:4,Tab:8,Modules:16,EditModes:32,All:63});
a.registerEnum(c,"StripFormattingOptions",{None:0,NoneSupressCleanMessage:1,MSWord:2,MSWordNoFonts:4,MSWordRemoveAll:8,Css:16,Font:32,Span:64,AllExceptNewLines:128,ConvertWordLists:256,All:512,MSWordNoMargins:1024});
a.registerEnum(c,"EditorStripHtmlOptions",{None:0,Comments:1});
a.registerEnum(c,"EditorToolbarMode",{Default:1,Floating:2,PageTop:4,ShowOnFocus:8,RibbonBar:16,RibbonBarFloating:32,RibbonBarPageTop:64,RibbonBarShowOnFocus:128});
a.registerEnum(c,"EditorFilters",{None:0,RemoveScripts:1,MakeUrlsAbsolute:2,FixUlBoldItalic:4,FixEnclosingP:8,IECleanAnchors:16,MozEmStrong:32,ConvertFontToSpan:64,ConvertToXhtml:128,IndentHTMLContent:256,EncodeScripts:512,OptimizeSpans:1024,ConvertCharactersToEntities:2048,PdfExportFilter:4096,ConvertInlineStylesToAttributes:8192,ConvertTags:16384,StripCssExpressions:32768,StripDomEventAttributes:65536,DefaultFilters:53245});
a.registerEnum(c,"EditorNewLineModes",{Br:1,P:2,Div:4});
a.registerEnum(c,"EditorToolType",{Button:1,DropDown:2,SplitButton:4,Separator:8,ToolStrip:16,Custom:32});
a.registerEnum(c,"EditModes",{Design:1,Html:2,Preview:4,All:7});
a.registerEnum(c,"EditorContentAreaMode",{Iframe:1,Div:2});
c.Editor.formatSetBlockElements=["p","h1","h2","h3","h4","h5","h6","menu","pre","address"];
a.registerEnum(b,d,{Normal:1,Inline:2});
a.registerEnum(b,"Orientation",{Portrait:1,LandScape:2});
a.registerEnum(b,e,{None:0,Fade:2});
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorFilter=function(a){return a;
};
$telerik.findEditorFilter=$find;
(function(a,j){var c=Telerik.Web.UI,b=c.Editor,i="Telerik.Web.UI.Editor",d=".",h="MetaTagAttributesFilter",k=b.Utils;
function g(){var l=window.navigator.userAgent;
if(l.indexOf("Windows Phone")>-1&&l.indexOf("IEMobile")>-1&&l.indexOf("MSIE")===-1){return true;
}else{return false;
}}function f(l){return typeof(l)==="undefined";
}b.Filter=function(){b.Filter.initializeBase(this);
this.IsDom=false;
this.Enabled=false;
this.Name="RadEditor filter";
this.Description="RadEditor filter description";
};
b.Filter.prototype={getHtmlContent:function(l){return l;
},getDesignContent:function(l){return l;
},get_isDom:function(){return this.IsDom;
},set_isDom:function(l){this.IsDom=l;
},get_enabled:function(){return this.Enabled;
},set_enabled:function(l){this.Enabled=l;
},get_name:function(){return this.Name;
},set_name:function(l){this.Name=l;
},get_description:function(){return this.Description;
},set_description:function(l){this.Description=l;
}};
b.Filter.registerClass("Telerik.Web.UI.Editor.Filter",Sys.Component);
b.StripScriptsFilter=function(){b.StripScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripScriptsFilter";
this.Description="This filter strips all script tags from the content.";
};
b.StripScriptsFilter.prototype={getHtmlContent:function(l){return this._performStripping(l);
},getDesignContent:function(l){return this._performStripping(l);
},_performStripping:function(m){var l=m.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
l=l.replace(RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
return l;
}};
b.StripScriptsFilter.registerClass("Telerik.Web.UI.Editor.StripScriptsFilter",b.Filter);
b.EncodeScriptsFilter=function(){b.EncodeScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="EncodeScriptsFilter";
this.Description="This filter encodes all script tags from the content.";
};
b.EncodeScriptsFilter.prototype={getHtmlContent:function(l){var n=new RegExp("<!--RADEDITORSAVEDTAG_([\\s\\S]*?)-->","ig");
var p=new RegExp("RADEDITORSAVEDTAGENDING","ig");
var o=new RegExp("RADEDITORSAVEDTAGBEGINNING","ig");
var m=l.replace(n,"<$1>");
m=m.replace(p,"-->");
m=m.replace(o,"<!--");
return m;
},getDesignContent:function(m){var l=function(s,q,r,v,x){var w=x.substring(0,v).lastIndexOf("<!--");
var p=x.substring(0,v).lastIndexOf("-->");
if(w>p){w=x.substring(v,x.length).indexOf("<!--");
p=x.substring(v,x.length).indexOf("-->");
if((w==-1&&p>-1)||(p<w)){return s;
}}var z=new RegExp("-->","ig");
var y=new RegExp("<!--","ig");
var t=r.replace(z,"RADEDITORSAVEDTAGENDING");
t=t.replace(y,"RADEDITORSAVEDTAGBEGINNING");
var u="<!--RADEDITORSAVEDTAG_"+q+t+"-->";
return u;
};
var o=new RegExp("<(script|noscript)([\\s\\S]*?<\\/\\1)>","ig");
var n=m.replace(o,l);
return n;
}};
b.EncodeScriptsFilter.registerClass("Telerik.Web.UI.Editor.EncodeScriptsFilter",b.Filter);
b.RemoveExtraBrakes=function(){b.RemoveExtraBrakes.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="RemoveExtraBrakes";
this.Description="This filter strips all extra brakes inside some tags like p, h1, etc.";
};
b.RemoveExtraBrakes.prototype={getHtmlContent:function(l){return this._performStripping(l);
},_performStripping:function(l){var m=l;
if($telerik.isFirefox||$telerik.isOpera){m=m.replace(/<BR\s?\/?>\s*<SCRIPT/ig,"<script");
}m=m.replace(/<BR\s?\/?>\s*<\/(H1|H2|H3|H4|H5|H6|LI|P|DIV)/ig,function(p,o,q,n){if(!n.substr(0,q).match(/<BR\s?\/?>\s*$/gi)){p="</"+o;
}return p;
});
m=m.replace(/<(H1|H2|H3|H4|H5|H6|LI|P|DIV)([^>]*)?><BR\s?\/?>/ig,"<$1 $2>");
if($telerik.isSafari){m=m.replace(/<p><\/p>/ig,"<p><br /></p>");
}return m;
}};
b.RemoveExtraBrakes.registerClass("Telerik.Web.UI.Editor.RemoveExtraBrakes",b.Filter);
b.FixNestedLists=function(){b.FixNestedLists.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixNestedLists";
this.Description="This filter produces valid XHTML from nested lists";
};
b.FixNestedLists.prototype={_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},fixLists:function(m,p){var l=this._getElements(m,p);
for(var n=l.length-1;
n>=0;
n--){var o=l[n];
var r=o.previousSibling;
if(r&&r.nodeType==3){r=r.previousSibling;
}if(r&&"li"==o.previousSibling.nodeName.toLowerCase()){r.appendChild(o.cloneNode(true));
var q=o.parentNode;
q.removeChild(o);
q=null;
}}},getHtmlContent:function(l){this.fixLists(l,"OL");
this.fixLists(l,"UL");
return l;
}};
b.FixNestedLists.registerClass("Telerik.Web.UI.Editor.FixNestedLists",b.Filter);
b.FixUlBoldItalic=function(){b.FixUlBoldItalic.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixUlBoldItalic";
this.Description="This filter changes u, b, i tags to spans with CSS";
};
b.FixUlBoldItalic.prototype={_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_replaceElementWithSpan:function(m,v,s){var l=this._getElements(m,v);
var n=[];
for(var p=l.length-1;
p>=0;
p--){Array.add(n,l[p]);
}for(var o=0,q=n.length;
o<q;
o++){var r=m.ownerDocument.createElement("span");
r.style.cssText=s;
var t=n[o];
var u=t.innerHTML;
if($telerik.isIE&&u==" "){r.innerText=u;
}else{b.Utils.setElementInnerHtml(r,u);
}t.parentNode.replaceChild(r,t);
}},_replaceSpanWithElement:function(n,v,z){var y=this._getElements(n,"span");
var o=[];
for(var q=y.length-1;
q>=0;
q--){Array.add(o,y[q]);
}for(var p=0,t=o.length;
p<t;
p++){var m=[];
var x=o[p];
for(var r=0;
r<x.childNodes.length;
r++){Array.add(m,x.childNodes[r].cloneNode(true));
}var w=x.style.cssText.toLowerCase();
if(w==z||w==(z+";")){var u=n.ownerDocument.createElement(v);
for(var s=0;
s<m.length;
s++){u.appendChild(m[s]);
}x.parentNode.replaceChild(u,x);
}}},getHtmlContent:function(l){this._replaceElementWithSpan(l,"u","text-decoration:underline;");
this._replaceElementWithSpan(l,"strike","text-decoration: line-through;");
return l;
},getDesignContent:function(l){if(g()&&f(l)){return l;
}this._replaceSpanWithElement(l,"u","text-decoration: underline");
this._replaceSpanWithElement(l,"strike","text-decoration: line-through");
return l;
}};
b.FixUlBoldItalic.registerClass("Telerik.Web.UI.Editor.FixUlBoldItalic",b.Filter);
b.OptimizeSpans=function(){b.OptimizeSpans.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="OptimizeSpans";
this.Description="This filter changes removes unneeded span elements";
};
b.OptimizeSpans.prototype={_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_singleChild:function(o){if(o==null||o.parentNode==null){return false;
}var p=o.parentNode;
var l=0;
for(var m=0,n=p.childNodes.length;
m<n&&l<2;
m++){var q=p.childNodes[m];
if(q.nodeType==3&&String(q.nodeValue).trim()==""){continue;
}l++;
}return(l==1);
},_optimizeElement:function(s){var t=s.parentNode;
var q,r;
var l=["align","dir","lang","title","class","id"];
var m=true;
for(q=0,r=l.length;
q<r;
q++){m|=this._checkAttribute(s,t,l[q]);
}if(!m){return;
}for(q=0,r=l.length;
q<r;
q++){var n=l[q];
var o=s.getAttribute(n,2);
if(o){t.setAttribute(n,o);
}}var p=$telerik.isIE?s.style.cssText:s.getAttribute("style",2);
if(p){var u=$telerik.isIE?t.style.cssText:t.getAttribute("style",2);
u=u?u+";":"";
if($telerik.isIE){t.style.cssText=u+p;
}else{t.setAttribute("style",u+p);
}}b.Utils.removeNode(s);
},_checkAttribute:function(o,p,n){var l=o.getAttribute(n,2);
var m=p.getAttribute(n,2);
return(l==null||m==null||l==m);
},getHtmlContent:function(m){var r=this._getElements(m,"span");
if(r){var n,o=r.length;
var l=[];
for(n=0;
n<o;
n++){var p=r[n];
var s=p.tagName.toLowerCase();
if(p.parentNode.tagName.toLowerCase()==s){if(this._singleChild(p)){l[l.length]=p;
}else{var q=b.Utils.getOuterHtml(p).toLowerCase();
if(q.indexOf("<"+s+">")==0){l[l.length]=p;
}}}}o=l.length;
for(n=0;
n<o;
n++){this._optimizeElement(l[n]);
}}return m;
}};
b.OptimizeSpans.registerClass("Telerik.Web.UI.Editor.OptimizeSpans",b.Filter);
b.IEKeepCommentsFilter=function(){b.IEKeepCommentsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepCommentsFilter";
this.Description="This filter keeps the conditional comments in IE.";
};
b.IEKeepCommentsFilter.prototype={getHtmlContent:function(m){var l=new RegExp("<!--RADEDITORSAVEDCOMMENT","ig");
var n=m.replace(l,"<!--");
return n;
},getDesignContent:function(m){var l=new RegExp("<!--(\\[[^\\]]+\\][\\s\\S]*?)-->","ig");
var n=m.replace(l,"<!--RADEDITORSAVEDCOMMENT$1-->");
return n;
}};
b.IEKeepCommentsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepCommentsFilter",b.Filter);
b.IEKeepObjectParamsFilter=function(){b.IEKeepObjectParamsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepObjectParamsFilter";
this.Description="This filter keeps the params of object tags when going to html mode and back.";
this._paramRegex=new RegExp("<param([\\s\\S]+?)/?>","ig");
};
b.IEKeepObjectParamsFilter.prototype={getHtmlContent:function(l){var o=new RegExp("<rade_param","ig");
var n=this._paramRegex.test(l);
var p=o.test(l);
var m=l;
if(n&&p){m=m.replace(this._paramRegex,"");
}if(p){m=m.replace(o,"<param");
m=m.replace(/>\s*<\/rade_param>/gi,"/>");
m=m.replace(this._paramRegex,"<param$1/>");
}return m;
},getDesignContent:function(l){var m=l.replace(this._paramRegex,"<rade_param$1></rade_param><param$1/>");
return m;
}};
b.IEKeepObjectParamsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectParamsFilter",b.Filter);
b.IEKeepObjectDesignFilter=function(){b.IEKeepObjectDesignFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="IEKeepObjectDesignFilter";
this.Description="This filter keeps the browser from automatically changing object tags when going to html mode and back.";
};
b.IEKeepObjectDesignFilter.prototype={getHtmlContent:function(l){var o=l.getElementsByTagName("object");
for(var m=0,n=o.length;
m<n;
m++){var p=o[m];
var q=p.getAttribute("data",2);
var r=p.getAttribute("type",2);
if(q&&r&&r.toLowerCase().indexOf("silverlight")!=-1&&q.toLowerCase().indexOf("base64")!=-1){p.setAttribute("data","data:"+r+",");
}}return l;
}};
b.IEKeepObjectDesignFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectDesignFilter",b.Filter);
b.FixEnclosingP=function(){b.FixEnclosingP.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixEnclosingP";
this.Description="This filter removes a parent paragraph tag if the whole content is inside it.";
};
b.FixEnclosingP.prototype={getHtmlContent:function(n){if(!$telerik.isIE){return n;
}var o=b.Utils;
var l=o.isTag(n,"html")?n.getElementsByTagName("BODY")[0]:n;
var m=l?l.firstChild:null;
if(o.isTag(m,"p")&&l.childNodes.length==1&&!o.hasAttributes(m)){b.Utils.removeNode(m);
}return n;
}};
b.FixEnclosingP.registerClass("Telerik.Web.UI.Editor.FixEnclosingP",b.Filter);
b.IEFixEmptyParagraphs=function(){b.IEFixEmptyParagraphs.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEFixEmptyParagraphs";
this.Description="This filter inserts a non-braking space in empty paragraph tags so they are rendered correctly in IE.";
};
b.IEFixEmptyParagraphs.prototype={getHtmlContent:function(l){var n=new RegExp("(<p[^>]*>)(<\\/p>)","ig");
var m=l.replace(n,"$1&nbsp;$2");
return m;
}};
b.IEFixEmptyParagraphs.registerClass("Telerik.Web.UI.Editor.IEFixEmptyParagraphs",b.Filter);
b.IECleanAnchorsFilter=function(){b.IECleanAnchorsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IECleanAnchorsFilter";
this.Description="This filter removse the current page href from all anchor (#) links .";
};
b.IECleanAnchorsFilter.prototype={getHtmlContent:function(m){var l=b.Utils.escapeRegExSpecialChars(document.location.href);
var o=new RegExp("(<A[^<>]*?(href)\\s*=\\s*['\"])("+l+")(\\#[^'\"]*?['\"][^>]*?>)","ig");
var n=m.replace(o,"$1$4");
return n;
}};
b.IECleanAnchorsFilter.registerClass("Telerik.Web.UI.Editor.IECleanAnchorsFilter",b.Filter);
b.MozEmStrongFilter=function(){b.MozEmStrongFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozEmStrongFilter";
this.Description="[Obsolete] This filter changes b,strong and i,em in Mozilla browsers.";
};
b.MozEmStrongFilter.prototype={getHtmlContent:function(l){var m=l.replace(new RegExp("<b(\\s([^>])*?)?>","ig"),"<strong$1>");
m=m.replace(new RegExp("</b(\\s([^>])*?)?>","ig"),"</strong$1>");
m=m.replace(new RegExp("<i(\\s([^>])*?)?>","ig"),"<em$1>");
m=m.replace(new RegExp("</i(\\s([^>])*?)?>","ig"),"</em$1>");
return m;
},getDesignContent:function(l){var m=l.replace(new RegExp("<strong(\\s([^>])*?)?>","ig"),"<b$1>");
m=m.replace(new RegExp("</strong(\\s([^>])*?)?>","ig"),"</b$1>");
m=m.replace(new RegExp("<em(\\s([^>])*?)?>","ig"),"<i$1>");
m=m.replace(new RegExp("</em(\\s([^>])*?)?>","ig"),"</i$1>");
return m;
}};
b.MozEmStrongFilter.registerClass("Telerik.Web.UI.Editor.MozEmStrongFilter",b.Filter);
b.ConvertTagsFilter=function(){b.ConvertTagsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="ConvertTagsFilter";
this.Description="This filter converts one type of tags to another type.";
};
b.ConvertTagsFilter.prototype={tags:[{source:"b",target:"strong"},{source:"i",target:"em"},{source:"strike",target:"del"}],getHtmlContent:function(l){return this.convertTags(l);
},getDesignContent:function(l){return this.convertTags(l);
},convertTags:function(l){var n=l,o=this.tags;
for(var m=0;
m<o.length;
m++){n=this._replaceTag(n,o[m]);
}return n;
},_replaceTag:function(l,m){return l.replace(new RegExp("<"+m.source+"(\\s([^>])*?)?>","ig"),"<"+m.target+"$1>").replace(new RegExp("</"+m.source+"(\\s([^>])*?)?>","ig"),"</"+m.target+"$1>");
}};
b.ConvertTagsFilter.registerClass("Telerik.Web.UI.Editor.ConvertTagsFilter",b.Filter);
b.MozillaKeepStylesString=function(){b.MozillaKeepStylesString.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozillaKeepStylesString";
this.Description="This filter remembers the positions of link tags in the html content (part 1).";
this.markerCounter=0;
};
b.MozillaKeepStylesString.prototype={getDesignContent:function(m){var p=this;
var l=function(u,r,s,w,x){var q=x.indexOf("</head>",w);
if(q!=-1&&x.indexOf("<body",q)!=-1){return u;
}else{p.markerCounter++;
var t="RadEditorStyleKeeper"+p.markerCounter;
var v="<div id='"+t+"' style='display:none;'>&nbsp;</div><"+r+" reoriginalpositionmarker='"+t+"'"+s;
return v;
}};
var n=new RegExp("<(link|style)([^>]*>)","gi");
var o=m.replace(n,l);
return o;
},getHtmlContent:function(l){var m=new RegExp("<(link|style) reoriginalpositionmarker='RadEditorStyleKeeper[^']+'([^>]*>)","gi");
var o=l.replace(m,"<$1$2");
var n=new RegExp("<div id='RadEditorStyleKeeper[^']+' style='display:none;'>&nbsp;</div>","gi");
o=o.replace(n,"");
return o;
}};
b.MozillaKeepStylesString.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesString",b.Filter);
b.MozillaKeepStylesDom=function(){b.MozillaKeepStylesDom.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepStylesDom";
this.Description="This filter remembers the positions of link tags in the html content(part 2).";
this._divs=[];
};
b.MozillaKeepStylesDom.prototype={getHtmlContent:function(l){var r=l.getElementsByTagName("HEAD")[0];
var p=true;
if(!r){r=l.ownerDocument.getElementsByTagName("HEAD")[0];
p=false;
}if(!r){return l;
}this._restoreElements(r,l,"STYLE");
this._restoreElements(r,l,"LINK");
var o=l.getElementsByTagName("DIV");
if(o){for(var q=o.length-1;
q>=0;
q--){var m=o[q];
if(m.id.indexOf("RadEditorStyleKeeper")==0){var n=m.parentNode;
n.removeChild(m);
}}}o=null;
if(p){this._removeElements(r,"STYLE");
this._removeElements(r,"LINK");
}this._removeMarkerAttributes(l,"STYLE");
this._removeMarkerAttributes(l,"LINK");
return l;
},_restoreElements:function(o,l,p){var m;
m=o.getElementsByTagName(p);
this._divs=l.getElementsByTagName("DIV");
var n=0;
while(m.length>0&&n<m.length){this._restoreStyle(m[n++]);
}},_restoreStyle:function(n){var p=n.getAttribute("reoriginalpositionmarker");
if(p){var o=0;
var l=null;
while(o<this._divs.length&&!l){if(this._divs[o].id==p){l=this._divs[o];
}o++;
}if(l){var q=n.cloneNode(true);
q.removeAttribute("reoriginalpositionmarker");
var m=l.parentNode;
m.replaceChild(q,l);
return true;
}}return false;
},_removeElements:function(m,q){var p=m.getElementsByTagName(q);
if(p){for(var l=p.length-1;
l>=0;
l--){var n=p[l];
if(null!=n.getAttribute("reoriginalpositionmarker")){var o=n.parentNode;
o.removeChild(n);
}}p=null;
}},_removeMarkerAttributes:function(l,o){var n=l.getElementsByTagName(o);
if(n){for(var m=n.length-1;
m>=0;
m--){n[m].removeAttribute("reoriginalpositionmarker");
}}n=null;
}};
b.MozillaKeepStylesDom.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesDom",b.Filter);
b.MozillaRemoveLastBrFilter=function(l){b.MozillaRemoveLastBrFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaRemoveLastBr";
this.Description="Remove the last Br element, which Firefox automatically adds.";
};
b.MozillaRemoveLastBrFilter.prototype={getHtmlContent:function(l){this._removeLastBr(l);
return l;
},_removeLastBr:function(m){if(!m||$telerik.isIE){return;
}var l=(m.tagName=="HTML")?m.getElementsByTagName("BODY")[0]:m;
this._removeLasBrInNode(l);
if($telerik.isFirefox){this._removeLasBrInTD(l);
}},_removeLasBrInTD:function(l){var m=Function.createDelegate(this,this._removeLasBrInNode);
$telerik.$("td",l).each(function(n,o){m(o);
});
},_removeLasBrInNode:function(m){var l=(m.lastChild)?m.lastChild:null;
if(l&&l.tagName&&"BR"==l.tagName){b.Utils.removeNode(l);
}},getDesignContent:function(m){if(!m||$telerik.isIE){return;
}var l=(m.tagName=="HTML")?m.getElementsByTagName("BODY")[0]:m;
$telerik.$(l).append("<br />");
return m;
}};
b.MozillaRemoveLastBrFilter.registerClass("Telerik.Web.UI.Editor.MozillaRemoveLastBrFilter",b.Filter);
b.MozillaKeepFlash=function(l){b.MozillaKeepFlash.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepFlash";
this.Description="This filter replaces the flash/media objects with static images in design mode.";
this._flashImageSrc=l?l:"FlashManager.gif";
};
b.MozillaKeepFlash.prototype={_saveFlashObject:function(l){var n=l.ownerDocument.createElement("img");
n.setAttribute("isflash","true");
n.setAttribute("src",this._flashImageSrc);
n.setAttribute("alt","");
var q=l.getAttribute("width",2);
if(q){n.setAttribute("width",q);
}var m=l.getAttribute("height",2);
if(m){n.setAttribute("height",m);
}var o=$telerik.getOuterHtml(l);
o=o.replace(/\n/gi,"<flashcr />").replace(/\r/gi,"<flashlf />");
n.setAttribute("originalCode",b.Utils.encodePostbackContent(o));
var p=l.parentNode;
p.insertBefore(n,l);
p.removeChild(l);
l=null;
},_restoreFlashObject:function(l){var p=b.Utils.decodePostbackContent(l.getAttribute("originalCode"));
p=p.replace(/<flashcr\s*\/\>/gi,"\n").replace(/<flashlf\s*\/\>/gi,"\r");
var o=l.ownerDocument.createElement("div");
o.innerHTML=p;
var n=o.firstChild;
var r=l.getAttribute("width",2);
if(r){n.setAttribute("width",r);
}var m=l.getAttribute("height",2);
if(m){n.setAttribute("height",m);
}var q=l.parentNode;
q.insertBefore(n,l);
q.removeChild(l);
l=null;
},getDesignContent:function(m){var o,n;
var l=m.getElementsByTagName("object");
for(o=0;
o<l.length;
o++){n=l[o];
this._saveFlashObject(n);
o--;
}l=m.getElementsByTagName("embed");
for(o=0;
o<l.length;
o++){n=l[o];
this._saveFlashObject(n);
o--;
}return m;
},getHtmlContent:function(m){var l=m.getElementsByTagName("img");
for(var o=0;
o<l.length;
o++){var n=l[o];
var p=n.getAttribute("isflash",2);
if(p!=null){this._restoreFlashObject(n);
o--;
}}return m;
}};
b.MozillaKeepFlash.registerClass("Telerik.Web.UI.Editor.MozillaKeepFlash",b.Filter);
b.StripJunkFilter=function(){b.StripJunkFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripJunkFilter";
this.Description="This filter strips extra content, added by the Safari/Firefox browsers.";
};
b.StripJunkFilter.prototype={getHtmlContent:function(l){var m=l;
if($telerik.isSafari){m=m.replace(new RegExp(' class="khtml-block-placeholder"',"ig"),"");
m=m.replace(new RegExp(' class="Apple-style-span"',"ig"),"");
m=m.replace(new RegExp(' class="webkit-block-placeholder"',"ig"),"");
}if($telerik.isFirefox){m=m.replace(new RegExp('\\s?<br type="_moz" \\/>',"ig")," ");
m=m.replace(new RegExp(' _moz_[a-z_]*="[^"]*"',"ig"),"");
m=m.replace(new RegExp(' type="_moz"',"ig"),"");
}return m;
}};
b.StripJunkFilter.registerClass("Telerik.Web.UI.Editor.StripJunkFilter",b.Filter);
b.ConvertFontToSpanFilter=function(){b.ConvertFontToSpanFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertFontToSpanFilter";
this.Description="This filter changes deprecated font tags to compliant span tags.";
this._fontSizesPx=b.Utils._fontSizesPx;
this._fontSizesRevPx=[];
for(var l=0;
l<this._fontSizesPx.length;
l++){this._fontSizesRevPx[parseInt(this._fontSizesPx[l],10)]=l;
}};
b.ConvertFontToSpanFilter.prototype={getHtmlContent:function(l){var m=l.ownerDocument;
var u=m.createElement("span");
var t,p,r;
var q=l.getElementsByTagName("FONT");
while(q.length>0){p=q[0];
r=p.parentNode;
t=u.cloneNode(false);
$telerik.mergeElementAttributes(p,t,false);
if(p.style.cssText&&p.style.cssText!=""){t.style.cssText=p.style.cssText;
}if(p.className){t.className=p.className;
}if(p.face){t.style.fontFamily=p.face;
if($telerik.isFirefox){this._fixFontFamilyValues(t,p);
}if(t.getAttribute("face")!=null){t.removeAttribute("face");
}}var s=0;
if(p.style.fontSize){t.style.fontSize=p.style.fontSize;
}else{if(!isNaN(s=parseInt(p.size,10))&&p.size!="+0"){try{if(s<0){s=s+4;
}t.style.fontSize=this._fontSizesPx[s-1];
}catch(n){t.style.fontSize=this._fontSizesPx[3];
}if(t.getAttribute("size")!=null){t.removeAttribute("size");
}}}var o=p.getAttribute("color");
if(o){t.style.color=o;
if(t.getAttribute("color")!=null){t.removeAttribute("color");
}}if($telerik.isIE&&p.innerHTML==" "){t.innerText=p.innerHTML;
}else{b.Utils.setElementInnerHtml(t,p.innerHTML);
}r.replaceChild(t,p);
q=l.getElementsByTagName("FONT");
}return l;
},getDesignContent:function(m){if($telerik.isSafari2||$telerik.isSafari3){return m;
}if(g()&&f(m)){return m;
}var n=m.ownerDocument;
var p=n.createElement("font");
var s,o,r;
var t=m.getElementsByTagName("SPAN");
while(t.length>0){s=t[0];
r=s.parentNode;
o=p.cloneNode(false);
$telerik.mergeElementAttributes(s,o,false);
if(s.style.cssText&&s.style.cssText!=""){o.style.cssText=s.style.cssText;
}if(s.className){o.className=s.className;
}if(s.style.fontFamily){o.face=s.style.fontFamily;
if($telerik.isFirefox){var q=this._getFontFamilyValue(s.attributes.style.nodeValue);
o.face=q?q:o.face;
}this._removeElementStyleAttribute(o,"fontFamily");
}if(s.style.fontSize){var l=null;
if(-1!=s.style.fontSize.indexOf("px")){l=this._fontSizesRevPx[parseInt(s.style.fontSize,10)];
}if(typeof(l)!="undefined"&&null!=l){o.size=l+1;
this._removeElementStyleAttribute(o,"fontSize");
}}if(s.style.color){o.color=b.Utils._rgbToHex(s.style.color);
this._removeElementStyleAttribute(o,"color");
}if($telerik.isIE&&s.innerHTML==" "){o.innerText=s.innerHTML;
}else{b.Utils.setElementInnerHtml(o,s.innerHTML);
}r.replaceChild(o,s);
t=m.getElementsByTagName("SPAN");
}return m;
},_removeElementStyleAttribute:function(l,m){if(l.style&&l.style[m]){if(l.style.removeAttribute){l.style.removeAttribute(m);
}else{if(l.style.removeProperty){m=m.replace(/([A-Z])/g,"-$1").toLowerCase();
l.style.removeProperty(m);
}}if(l.style[m]){l.style[m]=null;
}if(!l.style.cssText){l.removeAttribute("style");
}}},_getFontFamilyValue:function(n){var l;
var m=n.match(/(font-family:\s*)([^;]+);/i);
if(m){l=m[2];
}return l;
},_fixFontFamilyValues:function(m,l){var n=m.attributes.style.nodeValue;
n=n.replace(m.style.fontFamily,l.face.replace(/\s+/g," "));
m.attributes.style.nodeValue=n;
}};
b.ConvertFontToSpanFilter.registerClass("Telerik.Web.UI.Editor.ConvertFontToSpanFilter",b.Filter);
b.ConvertInlineStylesToAttributesFilter=function(){b.ConvertInlineStylesToAttributesFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertInlineStylesToAttributesFilter";
this.Description="This filter converts XHTML compliant inline style attributes to Email compliant element attributes.";
};
b.ConvertInlineStylesToAttributesFilter.prototype={getHtmlContent:function(l){var m=$telerik.$.proxy;
$telerik.$("body",l).each(m(function(o,n){this.convertCSSProperty(n,"bgColor","backgroundColor");
this.convertCSSProperty(n,"background","backgroundImage");
},this));
$telerik.$("table,td",l).each(m(function(o,n){this.convertCSSProperty(n,"bgColor","backgroundColor");
this.convertCSSProperty(n,"background","backgroundImage");
this.convertCSSProperty(n,"width","width");
this.convertCSSProperty(n,"height","height");
},this));
$telerik.$("img",l).each(m(function(o,n){b.Utils.convertImgCssAlignProperty(n);
if($telerik.isIE){n.style.styleFloat="";
}else{n.style.cssFloat="";
}n.style.verticalAlign="";
this.convertCSSProperty(n,"width","width");
this.convertCSSProperty(n,"height","height");
},this));
return l;
},getDesignContent:function(m){var l=new b.CleanAttributesFilter();
m=l.getHtmlContent(m);
m=l.getDesignContent(m);
return m;
},convertCSSProperty:function(m,n,l){b.Utils.convertCSSProperty(m,n,l);
}};
b.ConvertInlineStylesToAttributesFilter.registerClass("Telerik.Web.UI.Editor.ConvertInlineStylesToAttributesFilter",b.Filter);
b.AttributesFilterBase=function(l){b.AttributesFilterBase.initializeBase(this);
this.settings=l;
};
b.AttributesFilterBase.prototype={getHtmlContent:function(m){var n=this.convertAttribute,o=this.settings,l=$telerik.$(m);
Array.forEach(o,function(p){l.find(p.tags.join(",")).each(function(r,q){Array.forEach(p.attributes,function(s){if(typeof(s.method)==="function"){s.method(q);
q.removeAttribute(s.attr);
}else{n(q,s.attr,s.style);
}});
});
});
return m;
},getDesignContent:function(l){return this.getHtmlContent(l);
},convertAttribute:function(m,n,l){b.Utils.convertAttribute(m,n,l);
m.removeAttribute(n);
},convertCSSToAttribute:function(m,n,l){b.Utils.convertCSSProperty(m,n,l);
}};
b.AttributesFilterBase.registerClass("Telerik.Web.UI.Editor.AttributesFilterBase",b.Filter);
b.CleanAttributesFilter=function(){var l=[{tags:["body","table"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"}]},{tags:["p","h1","h2","h3","h4","h5","h6","div","ul","li"],attributes:[{attr:"align",style:"textAlign"}]},{tags:["td"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"},{attr:"borderColor",style:"borderColor"},{attr:"width",style:"width"},{attr:"height",style:"height"},{attr:"noWrap",style:"whiteSpace"}]},{tags:["img"],attributes:[{method:k.convertImgAlignAttribute,attr:"align"},{method:k.convertBorderAttribute,attr:"border"},{attr:"hspace",style:["marginLeft","marginRight"]},{attr:"vspace",style:["marginTop","marginBottom"]}]},{tags:["ul","ol"],attributes:[{method:k.convertTypeAttribute,attr:"type"}]}];
b.CleanAttributesFilter.initializeBase(this,[l]);
this.IsDom=true;
this.Enabled=true;
this.Name="CleanAttributesFilter";
this.Description="This filter fixes deprecated attributes to make the content XHTML compliant.";
};
b.CleanAttributesFilter.registerClass("Telerik.Web.UI.Editor.CleanAttributesFilter",b.AttributesFilterBase);
b.StripDomEventAttributesFilter=function(){var l=[],m=["onabort","onactivate","onafterprint","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforepaste","onbeforeprint","onbeforeunload","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncuechange","oncut","ondblclick","ondeactivate","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","ongotpointercapture","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmscontentzoom","onmsgesturechange","onmsgesturedoubletap","onmsgestureend","onmsgesturehold","onmsgesturestart","onmsgesturetap","onmsgotpointercapture","onmsinertiastart","onmslostpointercapture","onmsmanipulationstatechanged","onmspointercancel","onmspointerdown","onmspointerenter","onmspointerleave","onmspointermove","onmspointerout","onmspointerover","onmspointerup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onpopstate","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onselectstart","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onunload","onvolumechange","onwaiting"];
Array.forEach(m,function(o){l.push({attr:o});
});
var n=[{tags:["*"],attributes:l}];
b.StripDomEventAttributesFilter.initializeBase(this,[n]);
this.IsDom=true;
this.Enabled=true;
this.Name="StripDomEventAttributesFilter";
this.Description="This filter removes all common event attributes.";
};
b.StripDomEventAttributesFilter.registerClass("Telerik.Web.UI.Editor.StripDomEventAttributesFilter",b.AttributesFilterBase);
var e=/(\n?\s*[a-zA-Z-]+: ?expression(\())/i;
b.StripCssExpressionsFilter=function(){b.StripCssExpressionsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripCssExpressionsFilter";
this.Description="Removes all declarations of CSS expression within style attributes";
};
b.StripCssExpressionsFilter.prototype={getHtmlContent:function(l){return this.getDesignContent(l);
},getDesignContent:function(l){l=this.sanitizeTags(l);
l=this.sanitizeStyleTags(l);
return l;
},sanitizeTags:function(l){var n=/<[\w:]+(?=\s)(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>/gi,m=this;
return l.replace(n,function(p,o){return m.sanitizeContent(p,e);
});
},sanitizeStyleTags:function(l){var n=/(<style(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>)((?:.|\n)*?)(<\/style>)/gi,m=this;
return l.replace(n,function(r,t,o,s,p){var q=m.sanitizeContent(o,e);
return t+q+s;
});
},sanitizeContent:function(l,r){var p=l.match(r);
while(p){var o=p[1],m=p.index+p[0].indexOf(o),s=m+o.length-1,q=0;
do{var n=l.charAt(s);
if(n=='"'||n=="'"||n=="/"){l=this.stripStringPair(n,l,s);
n=l.charAt(s);
}l=this.removeChar(l,s);
if(n=="("){q++;
}else{if(n==")"){q--;
}}}while(q>0&&l.length>s);
l=this.removeRange(l,m,s);
if(l[m]==";"){l=this.removeChar(l,m);
}p=l.match(r);
}return l;
},stripStringPair:function(m,l,o){var n=new RegExp(m+"(?:\\\\\\\\|\\\\"+m+"|[^"+m+"])+"+m);
return l.substring(0,o)+l.substring(o).replace(n,"");
},removeRange:function(l,m,n){return l.substring(0,m)+l.substring(n);
},removeChar:function(m,l){return this.strRemove(m,l,1);
},strRemove:function(n,l,m){return this.removeRange(n,l,l+m);
},strInsert:function(m,l,n){return m.substring(0,l)+n+m.substring(l);
}};
b.StripCssExpressionsFilter.registerClass("Telerik.Web.UI.Editor.StripCssExpressionsFilter",b.Filter);
b.ConvertToXhtmlFilter=function(){b.ConvertToXhtmlFilter.initializeBase(this);
this._uniqueIds={};
this.Name="ConvertToXhtmlFilter";
this.Description="This filter converts the HTML from the editor content area to valid XHTML";
this.Enabled=true;
this.IsDom=true;
};
b.ConvertToXhtmlFilter.prototype={getHtmlContent:function(l){if(!l){return"";
}var n=this;
n._setContentToEmptyWrappers(l);
n._removeMSWordParagraphs(l);
n._fixNestedBlockElements(l);
n._markExistingParagraphs(l);
var q=new Telerik.Web.StringBuilder();
var m=k.isEditorContentArea(l)?l.childNodes:[l];
for(var p=0;
p<m.length;
p++){n._appendNodeXhtml(m[p],q);
}var o=q.toString();
o=n._removeAdditionalParagraphs(o);
return o;
},_setContentToEmptyWrappers:function(l){$telerik.$("p,div",l).each(function(n,m){if(m.innerHTML==""||(m.nodeName=="DIV"&&m.childNodes.length==1&&m.firstChild.nodeName=="BR")){$telerik.$(m).html("&nbsp;");
}});
},_removeMSWordParagraphs:function(l){var n=$telerik.$("P",l);
for(var m=0;
m<n.length;
m++){if(/^\r?\n?\s*(<O:P|<\?xml:)/i.test(b.Utils.getOuterHtml(n[m]).trim())){b.Utils.removeNode(n[m]);
}}},_fixNestedBlockElements:function(l){var m=new b.NestedElementsFix(l);
m.applyFix();
},_markExistingParagraphs:function(l){if(!l||!$telerik.isIE){return;
}$telerik.$("P",l).attr("_rdEditor_exists","1").each(function(m){b.Utils.removeNonXhtmlCompliantParents(this);
});
},_removeAdditionalParagraphs:function(l){l=l.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,function(m){return(!m.match(/_rdEditor_exists/ig))?"":m;
});
l=l.replace(/(<p[^>]*) _rdEditor_exists=['"]1['"]([^>]*>)/ig,"$1$2");
return l;
},_convertAttribute:function(l){return String(l).replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"'");
},_getAttributeValue:function(m,n,o){var l=m.nodeName;
var q=m.nodeValue;
if(l!="style"){if(($telerik.isIE8&&l=="complete"&&q=="complete")||($telerik.isIE8&&l=="shape"&&n.nodeName.toLowerCase()=="a"&&n[l]!=n.getAttribute(l))||($telerik.isIE8&&l.toLowerCase()=="althtml"&&n.nodeName.toLowerCase()=="object")){return;
}if($telerik.isIE&&(l=="type"||l=="value"||l=="selected")){if(!q){return;
}}else{if(!m.specified){if($telerik.isIE&&q==""&&typeof(n[l])=="string"&&n[l]!=""){q=n[l];
}else{return;
}}}if(!q){return;
}if(!isNaN(q)){q=n.getAttribute(l);
}if($telerik.isIE&&(l=="href"||l=="src")){q=n.getAttribute(l,2);
}o.append(" "+(m.expando?l:l.toLowerCase())+'="'+this._convertAttribute(q)+'"');
}else{var p=this._getElementCssText(n);
if(p){p=this._convertRgbToHex(p);
p=this._stripBorderRepetition(p);
p=this._cssPropertiesToLowerCase(p);
p=this._convertAttribute(p);
p=p.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if($telerik.isSafari){p=p.replace(/(background-image:\surl)\((.+?)\)/ig,"$1('$2')");
p=p.replace(/(background-repeat:\sno-repeat)(?:\sno-repeat)+/ig,"$1");
}o.append(' style="'+p+'"');
}}},_cssPropertiesToLowerCase:function(l){return l.replace(/([^:;]*):/ig,function(n,m){return m.toLowerCase()+":";
});
},_convertRgbToHex:function(l){if($telerik.isFirefox||$telerik.isSafari||$telerik.isIE9Mode){l=l.replace(/rgb *\( *\d+ *, *\d+ *, *\d+ *\)/gi,function(n,o,m){return b.Utils._rgbToHex(n);
});
}return l;
},_replaceBorderRepetition:function(o,n,m){var l=o.match(n);
if(l&&l.length==4){var p=l[0].substring(l[0].indexOf(":"));
if(p==l[1].substring(l[1].indexOf(":"))&&p==l[2].substring(l[2].indexOf(":"))&&p==l[3].substring(l[3].indexOf(":"))){o=o.replace(n,"").replace(/^\s+|\s+$/g,"");
o+=m+p;
}}return o;
},_combineBorderStyles:function(p){var o=new RegExp(/border-(width|style|color):([^;]*);/gi);
var n=p.match(o);
if(n&&n.length==3){var l="border:";
var q=[];
q[0]=n[0].substring(n[0].indexOf(":")+1).trim();
q[1]=n[1].substring(n[1].indexOf(":")+1).trim();
q[2]=n[2].substring(n[2].indexOf(":")+1).trim();
if(q[0].match(/\s/)||q[1].match(/\s/)||q[2].match(/\s/)){return p;
}var m=function(r){for(var s=0;
s<3;
s++){if(n[s].indexOf(r)==0){l+=q[s]+" ";
break;
}}};
m("border-width");
m("border-style");
m("border-color");
l=l.replace(/;/g,"").replace(/currentcolor/gi,"").replace(/initial/gi,"").replace(/\s[\s]+/g," ").replace(/^\s+|\s+$/g,"");
l+=";";
p=p.replace(o,"");
p=l+p;
}return p;
},_stripBorderRepetition:function(m){if(!m){return;
}if(!m.match(/; *$/)){m+=";";
}var l=new RegExp(/border(?:-(top|bottom|left|right))-width:([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border-width");
l=new RegExp(/border(?:-(top|bottom|left|right))-style:([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border-style");
l=new RegExp(/border(?:-(top|bottom|left|right))-color:([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border-color");
l=new RegExp(/border-(top|bottom|left|right):([^;]*);/gi);
m=this._replaceBorderRepetition(m,l,"border");
m=this._combineBorderStyles(m);
return m.replace(/^\s+|\s+$/g,"");
},_canHaveChildren:function(l){switch(l.tagName.toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},_appendElementNode:function(w,A){if(w.tagName.charAt(0)=="/"){if($telerik.isIE6&&w.nodeName=="/ABBR"){A.append("</abbr>");
}return;
}if(w.nodeName=="!"){A.append(w.text);
return;
}var v=w.nodeName;
if(w.scopeName){if(w.scopeName=="HTML"){v=v.toLowerCase();
}else{v=w.scopeName+":"+v;
}}else{v=v.toLowerCase();
}if($telerik.isFirefox&&v=="br"&&w.parentNode.nodeName.toLowerCase()=="pre"){if(w.getAttribute("_moz_dirty")==""){A.append("\r\n");
return;
}}if(v){A.append("<"+v);
}if("img"==v){if($telerik.isIE6||$telerik.isIE7){var z=document.createElement("img");
z.mergeAttributes(w);
if(z.width){A.append(' width="'+w.getAttribute("width",2)+'"');
}if(z.height){A.append(' height="'+w.getAttribute("height",2)+'"');
}}if(!w.getAttribute("alt",2)){A.append(' alt=""');
}}if($telerik.isIE&&("area"==v||"a"==v)){if(w.shape&&v=="area"&&!document.documentMode){A.append(' shape="'+w.shape.toLowerCase()+'"');
}if(w.coords&&v=="area"&&!document.documentMode){A.append(' coords="'+w.getAttribute("coords")+'"');
}var o=w.getAttribute("href",2);
if(o){o=o.replace("about:blank","");
o=o.replace("about:","");
o=o.replace(/&amp;/gi,"&").replace(/&/gi,"&amp;");
o=o.replace(/[\s\u00a0]/gi,"%20");
A.append(' href="'+o+'"');
w.removeAttribute("href",0);
}}if($telerik.isIE8&&"option"==v&&w.selected){A.append(' selected="selected"');
}var u;
try{var x=this._getNodeAttributes(w);
u=x.length;
for(var r=0;
r<u;
r++){var m=x[r];
if(!this._isJqueryAttribute(m.nodeName)){this._getAttributeValue(m,w,A);
}}}catch(q){if($telerik.isIE&&q.message.indexOf("Not enough storage is available to complete this operation")!=-1){var n=w.outerHTML.replace(/^\s+/gi,"");
n=n.replace(/^([^\s]+)([^>]+?)>[\s\S]+$/gi,"$2");
A.append(n);
}}var y;
switch(v){case"script":A.append(">"+w.text+"</"+v+">");
break;
case"textarea":A.append(">"+w.value+"</"+v+">");
break;
case"iframe":var s=w.innerHTML;
if($telerik.isIE){s=s.replace(/\soriginalAttribute="[^"]+"/gi,"");
s=s.replace(/\soriginalPath="[^"]+"/gi,"");
}if($telerik.isFirefox){s=s.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"');
}A.append(">"+s+"</iframe>");
break;
case"object":A.append(">");
y="";
if(w.altHtml){y=w.altHtml;
}else{y=w.innerHTML;
}if($telerik.isIE){y=y.replace(/\soriginalAttribute="[^"]+"/gi,"");
y=y.replace(/\soriginalPath="[^"]+"/gi,"");
}A.append(y);
A.append("</object>");
break;
case"title":case"style":case"comment":case"noscript":y=w.innerHTML;
if($telerik.isIE&&y.length==0){y=w.ownerDocument.title;
}A.append(">"+y+"</"+v+">");
break;
default:if(!($telerik.isIE9Mode&&!this._canHaveChildren(w))&&(w.hasChildNodes()||(true==w.canHaveChildren||(w.canHaveChildren==null&&this._canHaveChildren(w))))){if(v){A.append(">");
}var p=w.childNodes;
u=p.length;
for(var t=0;
t<u;
t++){if(p[t].nodeName!="O:P"){this._appendNodeXhtml(p[t],A);
}}if(v){A.append("</"+v+">");
}}else{if($telerik.isIE6&&v=="abbr"){A.append(">");
}else{if(v){A.append(" />");
}}}break;
}},_jqueryAttrRegExp:[/^sizzle-[0-9]{10,}$/i,/^jQuery[0-9]{10,}$/i],_isJqueryAttribute:function(l){return b.Utils.some(this._jqueryAttrRegExp,function(m){return m.test(l);
});
},_appendTextNode:function(l,n){var o=String(l.nodeValue);
var m=l.parentNode.nodeName.toLowerCase();
if(!$telerik.isIE&&(m=="style"||m=="script")){n.append(o);
}else{o=o.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
o=o.replace(/[\u00a0]/g,"&nbsp;");
n.append(o);
}},_appendCDataNode:function(l,m){m.append("<![CDATA[\n"+l.nodeValue+"\n]]>");
},_appendCommentNode:function(n,o){var l="";
try{l=n.nodeValue;
}catch(m){}if(!l&&n.text){l=n.text;
}else{l="<!--"+l+"-->";
}o.append(l);
},_appendNodeXhtml:function(l,m){if(l.uniqueID){if(this._uniqueIds[l.uniqueID]){return;
}else{this._uniqueIds[l.uniqueID]=true;
}}switch(l.nodeType){case 1:this._appendElementNode(l,m);
break;
case 3:this._appendTextNode(l,m);
break;
case 4:this._appendCDataNode(l,m);
break;
case 8:this._appendCommentNode(l,m);
break;
}},_getElementCssText:function(o){var l=o.style.cssText;
if(!l){return"";
}if(!$telerik.isFirefox){return l;
}var s=/(font-family:\s*)([^;]+);/i;
var t;
var p=o.attributes.style;
if(p&&p.nodeValue){t=p.nodeValue;
}if(t&&s.test(t)&&s.test(l)){var n=l.match(s),m;
if(n){m=n[2];
}var r=t.match(s),q;
if(r){q=r[2];
}if(q&&m&&q!==m){q=q.replace(/[\s]+/g," ");
l=l.replace(m,q);
}}return l;
},_getNodeAttributes:function(l){var m=l.attributes;
if(!m){return m;
}if($telerik.isFirefox){this.reverseNodeAttributes(l);
}return l.attributes;
},reverseNodeAttributes:function(m){var n=[];
var l;
for(l=0;
l<m.attributes.length;
l++){n.push({attrName:m.attributes[l].nodeName,attrValue:m.attributes[l].nodeValue});
}for(l=0;
l<n.length;
l++){m.removeAttribute(n[l].attrName);
}for(l=n.length-1;
l>=0;
l--){m.setAttribute(n[l].attrName,n[l].attrValue);
}}};
b.ConvertToXhtmlFilter.registerClass("Telerik.Web.UI.Editor.ConvertToXhtmlFilter",b.Filter);
b.IndentHTMLContentFilter=function(){b.IndentHTMLContentFilter.initializeBase(this);
this.Name="IndentHTMLContentFilter";
this.Description="This filter indents the HTML content so it is more readable when you view the code";
this.Enabled=true;
this.IsDom=false;
this._indentPattern="    ";
this._protectedData=null;
var l="P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DL|DT|DD|TITLE|META|LINK|BASE|SCRIPT|LINK|TD|TH|AREA|OPTION";
var m="HTML|HEAD|BODY|STYLE|FORM|TABLE|TBODY|THEAD|TR";
var n=m+"|DL|UL|OL";
this._ignoreTags=new RegExp("(<PRE[^>]*>|<!--|<SCRIPT[^>]*>)([\\s\\S]*?)(<\\/PRE>|-->|<\\/SCRIPT>)","gi");
this._tagsNLBefore=new RegExp("<("+l+")[^>]*>","gi");
this._tagsNLAfter=new RegExp("<\\/("+l+")[^>]*>","gi");
this._tagsNLNoCloseAfter=new RegExp("<(BR|HR)[^>]*\\/?>","gi");
this._tagsNLBeforeAndAfter=new RegExp("<\\/?("+m+")[^>]*>","gi");
this._tagsIncIndent=new RegExp("^<("+n+")[\\s\\/>]","i");
this._tagsDecIndent=new RegExp("^<\\/("+n+")[\\s\\>]","i");
this._shrinkNL=new RegExp("\\s*\\n+\\s*","gi");
};
b.IndentHTMLContentFilter.prototype={getHtmlContent:function(n){var r=n.trim();
if(r.match(/^\s*<body/i)){r=r.substring(r.indexOf(">")+1,r.length-7);
}this._protectedData=[];
var v=this;
var l=function(B,y,z,A,C,x){Array.add(v._protectedData,z);
return y+"RADEDITORFORMATTED_"+v._protectedData.length+A;
};
r=r.replace(this._ignoreTags,l);
var w="$&";
if($telerik.isSafari2){w="$0";
}r=r.replace(this._tagsNLBefore,"\n"+w);
r=r.replace(this._tagsNLAfter,w+"\n");
r=r.replace(this._tagsNLNoCloseAfter,w+"\n");
r=r.replace(this._tagsNLBeforeAndAfter,"\n"+w+"\n");
var m=r.split(this._shrinkNL);
var u=new Telerik.Web.StringBuilder();
var p="";
var o;
for(o=0;
o<m.length;
o++){var q=m[o];
if(q.length==0){continue;
}if(this._tagsDecIndent.test(q)){if(p.length>this._indentPattern.length){p=p.substring(this._indentPattern.length);
}else{p="";
}}u.append(p);
u.append(q);
u.append("\n");
if(this._tagsIncIndent.test(q)){p+=this._indentPattern;
}}r=u.toString();
for(o=0;
o<this._protectedData.length;
o++){var t=new RegExp("RADEDITORFORMATTED_"+(o+1));
var s=this._protectedData[o].replace(/\$/gi,"$$$$");
r=r.replace(t,s);
}return r;
}};
b.IndentHTMLContentFilter.registerClass("Telerik.Web.UI.Editor.IndentHTMLContentFilter",b.Filter);
b.MakeUrlsAbsolute=function(){b.MakeUrlsAbsolute.initializeBase(this);
this.Name="MakeUrlsAbsolute";
this.Description="This filter makes all src and href attributes in the editor content have absolute URLs";
this.Enabled=true;
this.IsDom=true;
};
b.MakeUrlsAbsolute.prototype={getHtmlContent:function(o){this._updateElements(o,"A","href");
this._updateElements(o,"AREA","href");
this._updateElements(o,"IMG","src");
this._updateElements(o,"EMBED","src");
var m=new b.IECleanAnchorsFilter();
if(o.tagName=="HTML"){var p=(typeof(o.ownerDocument)!="undefined")?o.ownerDocument:o.document;
var l=m.getHtmlContent(p.body.innerHTML);
if(p.body.innerHTML!==l){$telerik(p.body).html(l);
}}else{var n=m.getHtmlContent(o.innerHTML);
if($telerik.isIE&&n.match(/^\s*<(script|style|!--RADEDITORSAVEDTAG_script)/i)){o.innerHTML="&nbsp;"+m.getHtmlContent(o.innerHTML);
o.removeChild(o.firstChild);
}else{if(o.innerHTML!==n){try{b.Utils.setElementInnerHtml(o,n);
}catch(q){}}}}return o;
},_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_updateElements:function(n,s,l){var t=n.ownerDocument.createElement("div");
var o=this._getElements(n,s);
if(o){for(var q=0;
q<o.length;
q++){var m=o[q].getAttribute(l,2);
if("href"==l&&m&&!/^https?\:\/\//i.test(m)){t.innerHTML='<a href="'+m.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi,"%20")+'">test</a>';
var r;
if($telerik.isIE){r=o[q].innerHTML;
}try{o[q].setAttribute("href",t.childNodes[0].href);
}catch(p){}if($telerik.isIE){if((r.indexOf("www.")==0&&o[q].innerHTML.match("[a-z]+://"))||(r.indexOf("mailto:")==-1&&o[q].innerHTML.match("mailto:"))){o[q].innerHTML=r;
}}}else{if("src"==l&&m){t.innerHTML='<img src="'+m.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi,"%20")+'" />';
try{o[q].setAttribute("src",t.childNodes[0].src);
}catch(p){}}}}}t.innerHTML="";
t=null;
}};
b.MakeUrlsAbsolute.registerClass("Telerik.Web.UI.Editor.MakeUrlsAbsolute",b.Filter);
b.StripPathsFilter=function(l){b.StripPathsFilter.initializeBase(this);
this.Name="StripPathsFilter";
this.Description="This filter strips a specific part from URLs (href, src attributes)";
this.Enabled=true;
this.IsDom=true;
this._pathsToStrip=l;
};
b.StripPathsFilter.prototype={getHtmlContent:function(l){this._updateElements(l,"A","href");
this._updateElements(l,"AREA","href");
this._updateElements(l,"IMG","src");
this._updateElements(l,"EMBED","src");
return l;
},_getElements:function(m,n){var l=m.getElementsByTagName(n);
if(!l){l=m.ownerDocument.getElementsByTagName(n);
}return l;
},_updateElements:function(o,v,m){var q=this._getElements(o,v);
if(q){for(var s=0;
s<q.length;
s++){var p=q[s];
var n=$telerik.isIE?p.getAttribute(m,2):p[m];
if(n){var l=n.length;
for(var r=0,t=this._pathsToStrip.length;
r<t;
r++){var u=this._pathsToStrip[r];
if(u&&n.toLowerCase().indexOf(u.toLowerCase())==0){n=n.substring(u.length);
}}if(l>n.length){p.setAttribute(m,n);
}}}}}};
b.StripPathsFilter.registerClass("Telerik.Web.UI.Editor.StripPathsFilter",b.Filter);
b.ConvertCharactersToEntities=function(){b.ConvertCharactersToEntities.initializeBase(this);
this.set_isDom(false);
this.set_enabled(true);
this.set_name("ConvertCharactersToEntities");
this.set_description("This filter converts reserved characters to their html entity names.");
this.entities=b.Utils.getEntitiesCollection();
};
b.ConvertCharactersToEntities.ampersandReplacerInEntities="_reEditor_TELERIK_Entities";
b.ConvertCharactersToEntities.ampersandCharacterReplacer="_reEditor_TELERIK_Character";
b.ConvertCharactersToEntities.ampersandEntityReplacer="_reEditor_TELERIK_Entity";
b.ConvertCharactersToEntities.prototype={getHtmlContent:function(l){if(l==""){return l;
}var p=this.parseHtml(l);
var r="";
var q=this.createRegEx();
var m=this.entities;
for(var n=0;
n<p.length;
n++){var o=p[n].content;
if(p[n].isTagOrComment){r+=o;
continue;
}o=o.replace(new RegExp("&amp;","gm"),b.ConvertCharactersToEntities.ampersandEntityReplacer);
o=this.reverseEntitiesToCharacters(o);
o=o.replace(new RegExp("&","gm"),b.ConvertCharactersToEntities.ampersandCharacterReplacer);
o=o.replace(q,function(u,v,t){for(var s in m){if(m[s]==u){return b.ConvertCharactersToEntities.ampersandReplacerInEntities+s+";";
}}return u;
});
r+=o;
}r=this.restoreMarkedSymbols(r);
return r;
},parseHtml:function(m){var v=/<\/?\w+(:\w+)*(?:\s+\w+(?:\-\w+)*(:\w+)*(?:\s*=\s*(?:"(?:\s|.)*?"|'(?:\s|.)*?'|[^'">\s]+)?)*)*\s*\/?>/gmi;
var l=this.getComments(m);
var n=this.breakContent(l,m);
if(n.length==0){n.push({isComment:false,content:m});
}var u=[];
for(var r=0;
r<n.length;
r++){var o=n[r].content;
if(o==""){continue;
}if(n[r].isComment){u.push(this.newElement(o,true));
continue;
}var t=[];
var s=v.exec(o);
while(s){t.push(s);
s=v.exec(o);
}var w=0;
for(var q=0;
q<t.length;
q++){if(w<t[q].index){var x=o.substring(w,t[q].index);
u.push(this.newElement(x,false));
}u.push(this.newElement(t[q][0],true));
w=t[q].index+t[q][0].length;
}if(o.length>w){var p=o.substring(w,o.length);
u.push(this.newElement(p,false));
}}return u;
},breakContent:function(l,m){var q="-->";
var n=[];
for(var r=0;
r<l.length;
r++){var p=m.substring(l[r].startIndex,l[r].endIndex+q.length);
if(r==0){if(l[r].startIndex==0){n.push({isComment:true,content:p});
}else{var o=m.substring(0,l[r].startIndex);
n.push({isComment:false,content:o});
n.push({isComment:true,content:p});
}}else{var t=l[r-1].endIndex+q.length;
var u=m.substring(t,l[r].startIndex);
n.push({isComment:false,content:u});
n.push({isComment:true,content:p});
}if(r==l.length-1){var s=m.substring(l[r].endIndex+q.length,m.length);
n.push({isComment:false,content:s});
}}return n;
},getComments:function(o){var t=/(<!--)|(-->)/gm;
var u="<!--";
var p="-->";
var m=[];
var n=[];
var s=t.exec(o);
while(s){var l=s[0];
var q=s.index;
var r=n.length>0?n[n.length-1]:j;
if(l==u){if(!r||r.commentStart==false){n.push({commentStart:true,index:q});
}}else{if(l==p){if(n.length!=0&&r.commentStart){m.push({startIndex:r.index,endIndex:q});
n.splice(n.length-1,1);
}}}s=t.exec(o);
}return m;
},restoreMarkedSymbols:function(m){var l=m.replace(new RegExp(b.ConvertCharactersToEntities.ampersandCharacterReplacer,"gm"),"&amp;");
l=l.replace(new RegExp(b.ConvertCharactersToEntities.ampersandReplacerInEntities,"gm"),"&");
l=l.replace(new RegExp(b.ConvertCharactersToEntities.ampersandEntityReplacer,"gm"),"&amp;");
return l;
},createRegEx:function(){var n="[";
var l=this.entities;
for(var m in l){n+=l[m];
}n+="]";
return new RegExp(n,"g");
},newElement:function(l,m){return{content:l,isTagOrComment:m};
},reverseEntitiesToCharacters:function(n){var l=this.entities;
for(var m in l){n=n.replace(new RegExp("&"+m+";","gm"),l[m]);
}return n;
}};
b.ConvertCharactersToEntities.registerClass("Telerik.Web.UI.Editor.ConvertCharactersToEntities",b.Filter);
b.PdfExportFilter=function(){b.PdfExportFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("PdfExportFilter");
this.set_description("This filter fixes some pdf export issues.");
};
b.PdfExportFilter.prototype={getHtmlContent:function(l){this.set_document(l.ownerDocument);
this.filterContent(l);
this.set_document(null);
return l;
},filterContent:function(l){var p=l.getElementsByTagName("TABLE");
for(var m=0,n=p.length;
m<n;
m++){var o=p[m];
this._forceWidthToTable(o);
this._forceColGroupToTable(o);
}},set_document:function(l){this._document=l;
},_forceWidthToTable:function(l){var m=l.getAttribute("width");
l.style.width=m||l.style.width||0;
l.removeAttribute("width");
},_forceColGroupToTable:function(p){var m=p.getElementsByTagName("colgroup");
if(m.length==0){var o=this._document.createElement("colgroup");
var l=this._getTableColCount(p);
for(var n=0;
n<l;
n++){o.appendChild(this._document.createElement("col"));
}p.insertBefore(o,p.firstChild);
}},_getTableColCount:function(q){var m=0;
if(q){if(q.rows.length>0){var l=q.rows[0].cells;
for(var o=0,p=l.length;
o<p;
o++){var n=l[o].getAttribute("colSpan")||1;
m+=parseInt(n,10);
}}}return m;
}};
b.PdfExportFilter.registerClass("Telerik.Web.UI.Editor.PdfExportFilter",b.Filter);
b.FixParagraphsWithSingleBrFilter=function(){b.FixParagraphsWithSingleBrFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("FixParagraphsWithSingleBrFilter");
this.set_description("This filter converts single BR elements to &nbsp; enetity in paragraphs");
this._parentElementsSelector="p";
this._brRegExp=/^\s*<br[^>]*>\s*$/ig;
this._nbspRegExp=/^\s*&nbsp;\s*$/ig;
};
b.FixParagraphsWithSingleBrFilter.prototype={getHtmlContent:function(l){return this._applyRegExpToContent(l,this._brRegExp,"&nbsp;");
},getDesignContent:function(l){return this._applyRegExpToContent(l,this._nbspRegExp,"<br />");
},_applyRegExpToContent:function(l,m,n){$telerik.$(this._parentElementsSelector,l).each(function(p,o){if(o.innerHTML.match(m)){$telerik.$(o).html(n);
}});
return l;
}};
b.FixParagraphsWithSingleBrFilter.registerClass("Telerik.Web.UI.Editor.FixParagraphsWithSingleBrFilter",b.Filter);
b.CleanResizableHandles=function(){b.CleanResizableHandles.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("CleanResizableHandles");
this.set_description("Removes the elements of the Resizable's handles");
};
b.CleanResizableHandles.prototype={getHtmlContent:function(l){$telerik.$(".rrHandle[rel='rrWidget']",l).remove();
return l;
}};
b.CleanResizableHandles.registerClass("Telerik.Web.UI.Editor.CleanResizableHandles",b.Filter);
b.StripCommentsFilter=function(){b.StripCommentsFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("StripCommentsFilter");
this.set_description("This filter strips comments is strip option is set in the get_html method.");
};
b.StripCommentsFilter.prototype={getHtmlContent:function(l){$telerik.$('span[class^="reComment"], font[class^="reComment"]',l).each(function(){b.Utils.removeNode(this);
});
return l;
}};
b.StripCommentsFilter.registerClass("Telerik.Web.UI.Editor.StripCommentsFilter",b.Filter);
b.MetaTagAttributesFilter=function(){var l=this;
b.MetaTagAttributesFilter.initializeBase(l);
l.set_isDom(false);
l.set_enabled(true);
l.set_name(h);
l.set_description("Removes meta tag attributes such as http-equiv='refresh'");
};
b.MetaTagAttributesFilter.prototype={getDesignContent:function(l){var n=/(<meta[^>]*?)(http-equiv\s*=\s*[\'\"]refresh[\'\"])([^>]*?>)/gi,m="";
m=l.replace(n,"$1$3");
return m;
}};
b.MetaTagAttributesFilter.registerClass(i+d+h,b.Filter);
$telerik.toEditorFiltersManager=function(l){return l;
};
$telerik.findEditorFiltersManager=$find;
b.FiltersManager=function(){b.FiltersManager.initializeBase(this);
this._filters=[];
this._enableXhtmlFilter=true;
this._convertToXhtmlFilter=new b.ConvertToXhtmlFilter();
};
b.FiltersManager.prototype={clear:function(){Array.clear(this._filters);
},get_enableXhtmlFilter:function(){return this._enableXhtmlFilter;
},set_enableXhtmlFilter:function(l){this._enableXhtmlFilter=l;
},add:function(l){Array.add(this._filters,l);
},addAt:function(l,m){Array.insert(this._filters,m,l);
},remove:function(l){Array.remove(this._filters,l);
},removeFilterByName:function(n){for(var m=0;
m<this._filters.length;
m++){var l=this._filters[m];
if(l&&n==l.get_name()){this.removeAt(m);
}}},removeAt:function(l){Array.removeAt(this._filters,l);
},getFilterAt:function(l){return this._filters[l];
},getFilterByName:function(n){for(var m=0;
m<this._filters.length;
m++){var l=this._filters[m];
if(l&&n==l.get_name()){return l;
}}},getDesignContent:function(m){var l=m;
for(var p=0;
p<this._filters.length;
p++){var o=this._filters[p];
if((!o.get_isDom())&&(false!=o.get_enabled())&&o.getDesignContent){try{l=o.getDesignContent(l);
}catch(n){alert("Error while executing filter "+o.get_name()+" - "+n.toString());
}}}return l;
},getDesignContentDom:function(l){for(var o=0;
o<this._filters.length;
o++){var n=this._filters[o];
if((n.get_isDom())&&(false!=n.get_enabled())&&n.getDesignContent){try{l=n.getDesignContent(l);
}catch(m){alert("Error while executing filter "+n.get_name()+" - "+m.toString());
}}}return l;
},getHtmlContent:function(m){var p,o;
for(p=0;
p<this._filters.length;
p++){o=this._filters[p];
if((o.get_isDom())&&(false!=o.get_enabled())&&o.getHtmlContent){try{m=o.getHtmlContent(m);
}catch(n){alert("Error while executing filter "+o.get_name()+" - "+n.toString());
}}}var l;
if(this.get_enableXhtmlFilter()){try{l=this._convertToXhtmlFilter.getHtmlContent(m);
}catch(n){alert("Error while executing filter XHTML - "+n.toString());
}}else{l=k.isEditorContentArea(m)?m.innerHTML:k.getOuterHtml(m);
}for(p=0;
p<this._filters.length;
p++){o=this._filters[p];
if((!o.get_isDom())&&(false!=o.get_enabled())&&o.getHtmlContent){try{l=o.getHtmlContent(l);
}catch(n){alert("Error while executing filter "+o.get_name()+" - "+n.toString());
}}}return l;
}};
b.FiltersManager.registerClass("Telerik.Web.UI.Editor.FiltersManager",Sys.Component);
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var c=b.Editor;
c.EditorFindReplaceEngine=function(e){c.EditorFindReplaceEngine.initializeBase(this);
};
c.EditorFindReplaceEngine.prototype={initialize:function(){c.EditorFindReplaceEngine.callBaseMethod(this,"initialize");
},find:function(g,e){var h=this.get_wholeWord();
var f=this.get_caseSensitive();
return this.replaceEngine(g,null,e,"find",h,f,true);
},findPrevious:function(e){return this.find(e,true);
},findNext:function(e){return this.find(e);
},replace:function(g,h,e){var i=this.get_wholeWord();
var f=this.get_caseSensitive();
return this.replaceEngine(g,h,e,"replace",i,f,true);
},replaceAll:function(g,h,e){var i=this.get_wholeWord();
var f=this.get_caseSensitive();
return this.replaceEngine(g,h,e,"replaceAll",i,f,true);
},dispose:function(){c.EditorFindReplaceEngine.callBaseMethod(this,"dispose");
},_replace:function(g,l){var h=l;
if(h){h=h.replace(/&/gi,"&amp;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;");
}var k=this.getSelection().getText();
if(k){if($telerik.isIE&&(!$telerik.isIE10Mode||$telerik.isIE10)){try{var i=new c.GenericCommand("EditorFindReplaceEngine",g.get_contentWindow(),g);
this.getRange(g.get_document()).duplicate().pasteHTML(h);
g.executeCommand(i);
}catch(f){var j=this.getSelection().getRange();
j.text=h;
j.select();
}}else{g.pasteHtml(h,"EditorFindReplaceEngine");
}return true;
}else{return false;
}},isSelectionInContentArea:function(f,g){var k=c.Utils,j=c.DomRange.toDomRange(g||this.getSelection().getRange()),i=f.get_mode()==Telerik.Web.UI.EditModes.Html,h=f.get_textArea(),e=i?h.parentNode:f.get_contentArea();
return k.isAncestorOrSelf(e,j.commonAncestorContainer);
},getSelection:function(){var e=this.getContentWindow();
return new c.Selection(e);
},getContentWindow:function(){var e=this.get_editor();
var h=this.isHtmlMode();
var f=e.get_textArea();
var g=f.ownerDocument;
return h?(g.defaultView||g.parentWindow):e.get_contentWindow();
},_moveCursorToStart:function(){var e=this.get_editor();
if(e.get_mode()==Telerik.Web.UI.EditModes.Html){var f=e.get_textArea();
f.select();
if(f.selectionStart!==d){f.selectionStart=f.selectionEnd=0;
}}else{e.get_document().execCommand("SelectAll",false,null);
}this.getSelection().collapse(true);
},replaceEngine:function(y,n,e,q,z,g,A){if(null==y||""==y){return;
}var j=this.get_editor();
var h=this.getContentWindow();
if(h.document.body.innerHTML==""){return"NotFound";
}if($telerik.isIE){j.setActive();
}var i=h.document;
var t=this.getRange(i);
if(($telerik.isIE&&!t.findText)||(!$telerik.isIE&&!h.find)){return"NotSupported";
}var k=0;
if(z){k=k+2;
}if(g){k=k+4;
}if(q=="replaceAll"){var s;
var m=j.get_mode()==Telerik.Web.UI.EditModes.Html;
this._moveCursorToStart();
var p=0;
if($telerik.isIE){var v=this.getSearchableRangeIE(i,e);
while(v.findText(y,e?-1:1,k)&&this.isSelectionInContentArea(j,v)){p++;
v.scrollIntoView();
this.selectRange(v);
s=this._replace(j,n);
v=this.getSearchableRangeIE(i,e);
this.selectRange(v);
if(!s){break;
}}}else{while(h.find(y,g,e,false,z,false,false)&&(m||this.isSelectionInContentArea(j))){p++;
s=this._replace(j,n);
if(!s){break;
}}}if(p>0){return{replaceCount:p,message:"AllReplaced"};
}else{return"NotFound";
}}if(q=="replace"){this._replace(j,n);
}var l=false;
var x=(A&&!this._wrapping);
var w=this;
var r=function(){w._wrapping=true;
w.selectContentEdge(i,!e);
return w.replaceEngine(y,n,e,q,z,g,A);
};
if(!h.find&&$telerik.isIE){var f=e?-1:1;
var u=this.getSearchableRangeIE(i,e);
if((l=u.findText(y,f,k))){this._wrapping=false;
u.scrollIntoView();
this.selectRange(u);
}else{if(x){return r();
}}}else{this.getSelection().collapse(e);
var o=this.getRange(i);
if((l=h.find(y,g,e,A,z,false,false))||x){if(!l){return r();
}else{if(!this.isSelectionInContentArea(j)){if(this._wrapping){l=this._wrapping=false;
this.selectContentEdge(i,!e);
}else{if(A){return r();
}else{this.selectRange(o);
j.setFocus();
}}}}this._wrapping=false;
}}if(!l){return"NotFound";
}},selectContentEdge:function(f,k){var g=this.get_editor();
var h=this.isHtmlMode();
var e=h?g.get_textArea():g.get_contentArea();
var i;
if(h){e.select();
if(e.selectionStart!==d){e.selectionStart=e.selectionEnd=(k?0:e.value.length);
}else{i=this.getRange(f);
i.collapse(k);
}}else{var j=c.DomRange.toDomRange;
i=j(this.getRange(f));
i.selectNodeContents(e);
i.collapse(k);
i.select();
}},selectRange:function(e){c.DomRange.toDomRange(e).select();
},getRange:function(f){var h=this.getSelection().getRange(),e=f.body;
if(e.createTextRange&&!f.selection){var j=c.DomRange.toDomRange;
var i=j(e.createTextRange());
var g=j(h);
i.setStart(g.startContainer,g.startOffset);
i.setEnd(g.endContainer,g.endOffset);
i.select();
h=i.getBrowserRange();
}return h;
},getSearchableRangeIE:function(f,e){var g=this.getRange(f);
g.collapse(e);
return g;
},isHtmlMode:function(){return this.get_editor().get_mode()==Telerik.Web.UI.EditModes.Html;
}};
a.registerControlProperties(c.EditorFindReplaceEngine,{wholeWord:false,caseSensitive:false,editor:null});
c.EditorFindReplaceEngine.registerClass("Telerik.Web.UI.Editor.EditorFindReplaceEngine",Sys.Component);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=function(h,g){var f=h?h.commonAncestorContainer:undefined;
return f&&(g===f||a.contains(g,f));
};
var d=function(f){return f.nodeType==1||f.nodeType==3;
};
b.RestorePoint=function(g,f){var h=this;
h.Window=g;
h.Document=g.document;
h.container=(f)?f:h.Document.body;
h.rangeHolder=new b.RangeHolder();
h.update();
h.Update=h.update;
h.Restore=h.restore;
h.Select=h.select;
};
b.RestorePoint.prototype={update:function(){var j=this;
var k=j.Window;
var h=b.DomRange.rangeFromWindow(k);
var f=j.container;
if(!c(h,f)||!d(h.commonAncestorContainer)){return;
}var i=j.rangeHolder;
i.markRangeEdges(h);
j.HtmlText=f.innerHTML;
var g=a(f).find(i.get_markerSelector());
i.selectWithinMarkers(g);
},restore:function(f){this.select(f);
},select:function(f){var i=this;
e.setElementInnerHtml(i.container,i.HtmlText);
var h=i.rangeHolder;
var g=a(i.container).find(h.get_markerSelector());
if(f&&g.length>1){g.first().remove();
g=g.last();
}h.selectWithinMarkers(g);
i.fireRestoredEvent();
},fireRestoredEvent:function(){this.trigger("restored",Sys.EventArgs.Empty);
}};
b.RestorePoint.registerClass("Telerik.Web.UI.Editor.RestorePoint",null);
b.SelectionBookmark=function(g,f){this.Window=g;
this.NodePath=this._findNodePath(this.Window.document.documentElement,f);
};
b.SelectionBookmark.prototype={select:function(){var g=this._findNode(this.Window.document.documentElement,this.NodePath);
try{e.selectElement(this.Window,g);
}catch(f){}return g;
},_findNodePath:function(j,h){var g,k;
for(var f=0;
f<j.childNodes.length;
f++){g=j.childNodes[f];
k=this._findNodePath(g,h);
if(""!=k){return""+f+","+k;
}if(g==h){return""+f;
}}return"";
},_findNode:function(j,h){var f=h.split(",");
for(var g=0;
g<f.length;
g++){j=j.childNodes[f[g]];
}return j;
}};
b.SelectionBookmark.registerClass("Telerik.Web.UI.Editor.SelectionBookmark",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorSelection=function(a){return a;
};
$telerik.findEditorSelection=$find;
(function(a,b,d){var c=["img","table"];
b.Selection=function(e){this._window=e;
this.isSafari=$telerik.isSafari;
this.isOpera=$telerik.isOpera;
this.GetRange=this.getRange;
this.GetParentElement=this.getParentElement;
this.IsControl=this.isControl;
this.GetText=this.getText;
this.GetHtmlText=this.getHtml;
this.PasteHtml=this.pasteHtml;
this.Collapse=this.collapse;
};
b.Selection.prototype={selectElement:function(e){return d.selectElement(this._window,e);
},pasteHtml:function(k,f){var p=this,j=p._window.document,o=b.DomRange.toDomRange(p.getRange(true)),g=new b.HtmlCommentsStorage(),q=g.shouldStoreComments();
if(q){k=g.markComments(k);
}var i=j.createElement("div");
i.innerHTML=k;
if(q){g.restoreComments(i);
}var m=new b.NestedElementsFix(i,p);
var e=m.getBlockElements();
var h=j.createElement("span");
p.insertNode(h,o);
p._fireEvent("pasteDom",i,h);
var n=h.parentNode;
while(i.firstChild){n.insertBefore(i.firstChild,h);
}var l=p._getPreviousSibling(h);
n.removeChild(h);
m.set_context(n);
m.applyFix(e);
p._setCursor(l,o);
},insertNode:function(g,f){var i=f||b.DomRange.toDomRange(this.getRange(true));
var e=i.commonAncestorContainer;
if(d.isTextNode(e)&&!e.length&&e.nextSibling){e=e.nextSibling;
}if(d.isTextNode(e)&&/^[\u200b]+$/.test(e.nodeValue)){var h=e.parentNode;
h.insertBefore(g,e);
h.removeChild(e);
}else{i.insertNode(g);
}if(d.isBlockElement(e)&&!a.contains(e,g)){e.appendChild(g);
}if(d.isTextNode(g.previousSibling)&&!g.previousSibling.length){a(g.previousSibling).remove();
}if(d.isTextNode(g.nextSibling)&&!g.nextSibling.length){a(g.nextSibling).remove();
}},_fireEvent:function(h,g,f){if(!this.trigger){return;
}var e=a.extendEventArgs(new Sys.EventArgs(),{eventName:h,element:g,cursor:f});
this.trigger(h,e);
},_getPreviousSibling:function(e){var f=e.previousSibling;
while(f){if(!this._isEmptyTextNode(f)){return f;
}f=f.previousSibling;
}return e.previousSibling;
},_setCursor:function(e,f){if(e){if(d.isTextNode(e)&&!d.isTextNodeEmpty(e)){d._setCursorInTextNode(f,e,e.length,e.length);
}else{if(d.isTag(e,"table")){this._ensureBrAfterTable(e);
this._setCursorInTheFirstTableCell(e,f);
}else{if(d.isTag(e,"img")){this.selectElement(e);
}else{this._setCursorAfterNode(e,f);
}}}}},_setCursorAfterNode:function(f,g){var e=this._getNextNode(f);
if(e){if(d.isTextNode(e)){d._setCursorInTextNode(g,e,0,0);
return;
}else{if(!d.canHaveChildren(e)){g.setStartBefore(e);
}else{g.selectNodeContents(e);
}}}else{g.setStartAfter(f);
}g.collapse(true);
g.select();
},_ensureBrAfterTable:function(e){if(!e.nextSibling){e.parentNode.appendChild(this._window.document.createElement("BR"));
}},_setCursorInTheFirstTableCell:function(g,f){var e=a("td:first",g)[0];
if(e){f.selectNodeContents(e);
if(e.innerHTML!="&nbsp;"){f.collapse(true);
}f.select();
}},_getNextNode:function(f){var g=f;
var e=g.nextSibling;
while(e&&this._isEmptyTextNode(e)){e=e.nextSibling;
}if(e){return e;
}while(!g.nextSibling){g=g.parentNode;
if(d.isEditorContentArea(g)){return null;
}}return f!=g?this._getNextNode(g):null;
},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},selectRange:function(h){if(!h){return;
}var g=this._window;
if(h.select){h.select();
}else{if(g.getSelection){var i=g.getSelection();
if(i.removeAllRanges){i.removeAllRanges();
i.addRange(h);
}else{var e=h.baseNode;
if(null==e){e=g.document.body;
}var f=h.extentNode;
if(null==f){f=g.document.body;
}i.setBaseAndExtent(e,h.startOffset,f,h.endOffset);
}}}},getBrowserSelection:function(){if(!this._window){return null;
}if(this._window.document.selection&&!window.opera){return this._window.document.selection;
}else{if(this._window.getSelection){return this._window.getSelection();
}}return null;
},getRange:function(g){var k=this._window;
if(!k){return null;
}var e=k.document,f=!!e.selection,j=k.getSelection&&(!f||g);
if(j){var i=k.getSelection();
if(!i||i.rangeCount<1){return null;
}var h=null;
if(i.getRangeAt){h=i.getRangeAt(0);
}else{h=e.createRange();
h.setStart(i.anchorNode,i.anchorOffset);
h.setEnd(i.focusNode,i.focusOffset);
}return h;
}else{if(f){return e.selection.createRange();
}}},getParentElement:function(){var h=this.getRange();
if(!h){return null;
}if(h.commonAncestorContainer){var m=this._window.getSelection();
var j=h.startContainer?h.startContainer:m.baseNode,f=h.endContainer?h.endContainer:m.extentNode,k=h.startOffset!=null?h.startOffset:m.baseOffset,g=h.endOffset!=null?h.endOffset:m.extentOffset;
var e=m.anchorNode.childNodes[m.anchorOffset],i=this._getSingleControlSelectionNode(m);
if(e&&(this._isControlTag(e)||(j==f&&(g-k)==1))){return e;
}else{if(i){return i;
}else{if($telerik.isSafari){if(j&&j===f&&j.nodeName=="TR"){return j;
}var l=(m.anchorNode&&m.anchorNode.parentNode)?m.anchorNode.parentNode.tagName:"";
if(l=="TH"||l=="TD"){return m.anchorNode.parentNode;
}else{if(l=="TR"){return m.anchorNode;
}}}if(!h.commonAncestorContainer.tagName){if(this._window.document==h.commonAncestorContainer&&m.baseNode){return m.baseNode.parentNode;
}return h.commonAncestorContainer.parentNode;
}else{return h.commonAncestorContainer;
}}}}else{if(h.length){return h.item(0);
}else{if(h.parentElement){return h.parentElement();
}else{return null;
}}}},isControl:function(){if(this._window.document.selection){return(this._window.document.selection.type=="Control");
}else{var f=this._window.getSelection();
if(f.toString()!=""){return false;
}var e=f.focusNode;
if(!e||e.nodeType==1){var g=this.getParentElement();
return !!(g&&g.tagName=="IMG");
}return(e.tagName=="IMG");
}},createRangeInIE:function(){return this._window.document.selection.createRange();
},getText:function(){if(this._window.document.selection){var e=this.createRangeInIE();
if(e.length){return"";
}else{if(null!=e.text){return e.text;
}}}else{if(this._window.getSelection){return this._window.getSelection().toString();
}else{return"";
}}},getHtml:function(){var i=this._window.document.selection;
var h=null;
if(i&&!window.opera){if(i.type=="None"){return"";
}h=this.createRangeInIE();
if(h.length){return h.item(0).outerHTML;
}else{if(h.htmlText){return h.htmlText;
}else{return"";
}}}else{if(this._window.getSelection){i=this._window.getSelection();
if(null==i){return"";
}if(i.getRangeAt&&typeof(i.rangeCount)!="undefined"&&i.rangeCount==0){return"";
}if(i.getRangeAt){h=i.getRangeAt(0);
var g=this._window.document.createElement("div");
var e=h.cloneContents();
if(e){g.appendChild(e);
var f=g.innerHTML;
f=d._replaceWhitespaceBetweenTags(f," ");
return f;
}else{return"";
}}else{return i;
}}else{return"";
}}},moveToElementText:function(e){if(!e){return false;
}var g;
if(this.isSafari){g=this._window.document.createRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}else{if($telerik.isIE){g=this.getRange();
var f=$telerik.getLocation(e);
g.moveToPoint(f.x,f.y);
g.select();
}else{g=this.getRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}}},collapse:function(g){g=(g==true);
if(this._window.document.selection){var e=this.createRangeInIE();
if(e.collapse){e.collapse(g);
e.select();
}}else{if(this._window.getSelection){var f=this._window.getSelection();
if(!f.isCollapsed){if(g){f.collapseToStart();
}else{f.collapseToEnd();
}}}}},_getSingleControlSelectionNode:function(k){var m=k.anchorNode,g=k.focusNode,l=k.anchorNode.childNodes,f=k.focusNode.childNodes,n=k.anchorOffset,h=k.focusOffset,e=l[n-(l.length==n?1:0)],i=f[h-(f.length==h?1:0)];
if(this._isSingleControlNode(m,i)){return m;
}else{if(this._isSingleControlNode(g,e)){return g;
}}var j=this._surroundsSingleControlNode(k);
if(j){return j;
}},_isSingleControlNode:function(e,g){if(e===g){return true;
}var h=c;
for(var f=0;
f<h.length;
f++){if(this._isSingleTagSelection(e,h[f],g)){return true;
}}return false;
},_isSingleTagSelection:function(e,g,f){return d.isTag(e,g)&&f&&f.previousSibling===e;
},_isControlTag:function(f){var g=c;
for(var e=0;
e<g.length;
e++){if(d.isTag(f,g[e])){return true;
}}return false;
},_surroundsSingleControlNode:function(j){var e=new b.FragmentContainer(),i=b.DomRange.toDomRange(this.getRange(true)),g=new b.RangeIterator(i),f=this._isControlTag;
g.iterate(function(k){e.addNode(k);
});
var h=e.nodes;
if(e.any(f)){switch(h.length){case 1:return h[0];
case 2:case 3:if(d.isTextNode(h[0])&&i.startOffset===h[0].length&&(!h[2]||d.isTextNode(h[2]))){return h[1];
}break;
default:return false;
}}}};
b.Selection.registerClass("Telerik.Web.UI.Editor.Selection",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI._localization=function(){this._controls={};
};
Telerik.Web.UI._localization.prototype={merge:function(a,b,e){if(typeof(this._controls[a])=="undefined"){this._controls[a]={};
}if(typeof(this._controls[a][b])=="undefined"){this._controls[a][b]={};
}var c=this._controls[a][b];
for(var d in e){if(typeof(e[d])=="string"){c[d]=e[d];
}}return c;
}};
Telerik.Web.UI._localization.registerClass("Telerik.Web.UI._localization");
Telerik.Web.UI.Localization=new Telerik.Web.UI._localization();
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.Markdown={};
if(typeof window.exports==="object"&&typeof require==="function"){Telerik.Web.UI.Editor.Markdown=window.exports;
}(function(){function b(e){return e;
}function c(e){return false;
}function a(){}a.prototype={chain:function(f,e){var g=this[f];
if(!g){throw new Error("unknown hook "+f);
}if(g===b){this[f]=e;
}else{this[f]=function(h){return e(g(h));
};
}},set:function(f,e){if(!this[f]){throw new Error("unknown hook "+f);
}this[f]=e;
},addNoop:function(e){this[e]=b;
},addFalse:function(e){this[e]=c;
}};
Telerik.Web.UI.Editor.Markdown.HookCollection=a;
function d(){}d.prototype={set:function(e,f){this["s_"+e]=f;
},get:function(e){return this["s_"+e];
}};
Telerik.Web.UI.Editor.Markdown.Converter=function(){var M=this.hooks=new a();
M.addNoop("plainLinkText");
M.addNoop("preConversion");
M.addNoop("postConversion");
var J;
var I;
var G;
var H;
this.makeHtml=function(P){if(J){throw new Error("Recursive call to converter.makeHtml");
}J=new d();
I=new d();
G=[];
H=0;
P=M.preConversion(P);
P=P.replace(/~/g,"~T");
P=P.replace(/\$/g,"~D");
P=P.replace(/\r\n/g,"\n");
P=P.replace(/\r/g,"\n");
P="\n\n"+P+"\n\n";
P=e(P);
P=P.replace(/^[ \t]+$/mg,"");
P=t(P);
P=A(P);
P=y(P);
P=B(P);
P=P.replace(/~D/g,"$$");
P=P.replace(/~T/g,"~");
P=M.postConversion(P);
G=I=J=null;
return P;
};
function A(P){P=P.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(V,Q,R,S,T,U){Q=Q.toLowerCase();
J.set(Q,o(R));
if(T){return S;
}else{if(U){I.set(Q,U.replace(/"/g,"&quot;"));
}}return"";
});
return P;
}function t(P){P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,L);
P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,L);
P=P.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,L);
return P;
}function L(R,Q){var P=Q;
P=P.replace(/^\n+/,"");
P=P.replace(/\n+$/g,"");
P="\n\n~K"+(G.push(P)-1)+"K\n\n";
return P;
}function y(R,P){R=k(R);
var Q="<hr />\n";
R=R.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,Q);
R=n(R);
R=i(R);
R=h(R);
R=t(R);
R=s(R,P);
return R;
}function z(P){P=j(P);
P=r(P);
P=p(P);
P=l(P);
P=f(P);
P=g(P);
P=P.replace(/~P/g,"://");
P=o(P);
P=m(P);
P=P.replace(/  +\n/g," <br>\n");
return P;
}function r(Q){var P=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;
Q=Q.replace(P,function(S){var R=S.replace(/(.)<\/?code>(?=.)/g,"$1`");
R=E(R,S.charAt(1)=="!"?"\\`*_/":"\\`*_");
return R;
});
return Q;
}function f(P){P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,N);
P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,N);
P=P.replace(/(\[([^\[\]]+)\])()()()()()/g,N);
return P;
}function N(ac,R,S,T,U,V,W,X){if(X==undefined){X="";
}var ab=R;
var Q=S.replace(/:\/\//g,"~P");
var P=T.toLowerCase();
var aa=U;
var Z=X;
if(aa==""){if(P==""){P=Q.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+P;
if(J.get(P)!=undefined){aa=J.get(P);
if(I.get(P)!=undefined){Z=I.get(P);
}}else{if(ab.search(/\(\s*\)$/m)>-1){aa="";
}else{return ab;
}}}aa=D(aa);
aa=E(aa,"*_");
var Y='<a href="'+aa+'"';
if(Z!=""){Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
}Y+=">"+Q+"</a>";
return Y;
}function l(P){P=P.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,O);
P=P.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,O);
return P;
}function C(P){return P.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");
}function O(ac,R,S,T,U,V,W,X){var ab=R;
var P=S;
var Q=T.toLowerCase();
var aa=U;
var Z=X;
if(!Z){Z="";
}if(aa==""){if(Q==""){Q=P.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+Q;
if(J.get(Q)!=undefined){aa=J.get(Q);
if(I.get(Q)!=undefined){Z=I.get(Q);
}}else{return ab;
}}P=E(C(P),"*_[]()");
aa=E(aa,"*_");
var Y='<img src="'+aa+'" alt="'+P+'"';
Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
Y+=" />";
return Y;
}function k(P){P=P.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(R,Q){return"<h1>"+z(Q)+"</h1>\n\n";
});
P=P.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(R,Q){return"<h2>"+z(Q)+"</h2>\n\n";
});
P=P.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(T,R,S){var Q=R.length;
return"<h"+Q+">"+z(S)+"</h"+Q+">\n\n";
});
return P;
}function n(P){P+="~0";
var Q=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
if(H){P=P.replace(Q,function(W,T,U){var R=T;
var S=(U.search(/[*+-]/g)>-1)?"ul":"ol";
var V=x(R,S);
V=V.replace(/\s+$/,"");
V="<"+S+">"+V+"</"+S+">\n";
return V;
});
}else{Q=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;
P=P.replace(Q,function(Y,T,U,V){var X=T;
var R=U;
var S=(V.search(/[*+-]/g)>-1)?"ul":"ol";
var W=x(R,S);
W=X+"<"+S+">\n"+W+"</"+S+">\n";
return W;
});
}P=P.replace(/~0/,"");
return P;
}var u={ol:"\\d+[.]",ul:"[*+-]"};
function x(Q,R){H++;
Q=Q.replace(/\n{2,}$/,"\n");
Q+="~0";
var S=u[R];
var T=new RegExp("(^[ \\t]*)("+S+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+S+")[ \\t]+))","gm");
var P=false;
Q=Q.replace(T,function(aa,X,Y,Z){var W=Z;
var V=/\n\n$/.test(W);
var U=V||W.search(/\n{2,}/)>-1;
if(U||P){W=y(v(W),true);
}else{W=n(v(W));
W=W.replace(/\n$/,"");
W=z(W);
}P=V;
return"<li>"+W+"</li>\n";
});
Q=Q.replace(/~0/g,"");
H--;
return Q;
}function i(P){P+="~0";
P=P.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(U,R,S){var Q=R;
var T=S;
Q=q(v(Q));
Q=e(Q);
Q=Q.replace(/^\n+/g,"");
Q=Q.replace(/\n+$/g,"");
Q="<pre><code>"+Q+"\n</code></pre>";
return"\n\n"+Q+"\n\n"+T;
});
P=P.replace(/~0/,"");
return P;
}function K(P){P=P.replace(/(^\n+|\n+$)/g,"");
return"\n\n~K"+(G.push(P)-1)+"K\n\n";
}function j(P){P=P.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(V,R,S,T,U){var Q=T;
Q=Q.replace(/^([ \t]*)/g,"");
Q=Q.replace(/[ \t]*$/g,"");
Q=q(Q);
Q=Q.replace(/:\/\//g,"~P");
return R+"<code>"+Q+"</code>";
});
return P;
}function q(P){P=P.replace(/&/g,"&amp;");
P=P.replace(/</g,"&lt;");
P=P.replace(/>/g,"&gt;");
P=E(P,"*_{}[]\\",false);
return P;
}function m(P){P=P.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");
P=P.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");
return P;
}function h(P){P=P.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(S,R){var Q=R;
Q=Q.replace(/^[ \t]*>[ \t]?/gm,"~0");
Q=Q.replace(/~0/g,"");
Q=Q.replace(/^[ \t]+$/gm,"");
Q=y(Q);
Q=Q.replace(/(^|\n)/g,"$1  ");
Q=Q.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(V,T){var U=T;
U=U.replace(/^  /mg,"~0");
U=U.replace(/~0/g,"");
return U;
});
return K("<blockquote>\n"+Q+"\n</blockquote>");
});
return P;
}function s(X,P){X=X.replace(/^\n+/g,"");
X=X.replace(/\n+$/g,"");
var S=X.split(/\n{2,}/g);
var T=[];
var V=/~K(\d+)K/;
var Q=S.length;
var U;
for(U=0;
U<Q;
U++){var W=S[U];
if(V.test(W)){T.push(W);
}else{if(/\S/.test(W)){W=z(W);
W=W.replace(/^([ \t]*)/g,"<p>");
W+="</p>";
T.push(W);
}}}if(!P){Q=T.length;
for(U=0;
U<Q;
U++){var R=true;
while(R){R=false;
T[U]=T[U].replace(/~K(\d+)K/g,function(Z,Y){R=true;
return G[Y];
});
}}}return T.join("\n\n");
}function o(P){P=P.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");
P=P.replace(/<(?![a-z\/?\$!])/gi,"&lt;");
return P;
}function p(P){P=P.replace(/\\(\\)/g,F);
P=P.replace(/\\([`*_{}\[\]()>#+-.!])/g,F);
return P;
}function g(Q){Q=Q.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");
var P=function(S,R){return'<a href="'+R+'">'+M.plainLinkText(R)+"</a>";
};
Q=Q.replace(/<((https?|ftp):[^'">\s]+)>/gi,P);
return Q;
}function B(P){P=P.replace(/~E(\d+)E/g,function(S,R){var Q=parseInt(R,10);
return String.fromCharCode(Q);
});
return P;
}function v(P){P=P.replace(/^(\t|[ ]{1,4})/gm,"~0");
P=P.replace(/~0/g,"");
return P;
}function e(R){if(!/\t/.test(R)){return R;
}var Q=["    ","   ","  "," "],P=0,S;
return R.replace(/[\n\t]/g,function(T,U){if(T==="\n"){P=U+1;
return T;
}S=(U-P)%4;
P=U+1;
return Q[S];
});
}var w=/(?:["'*()[\]:]|~D)/g;
function D(Q){if(!Q){return"";
}var P=Q.length;
return Q.replace(w,function(R,S){if(R=="~D"){return"%24";
}if(R==":"){if(S==P-1||/[0-9\/]/.test(Q.charAt(S+1))){return":";
}}return"%"+R.charCodeAt(0).toString(16);
});
}function E(T,Q,P){var S="(["+Q.replace(/([\[\]\\])/g,"\\$1")+"])";
if(P){S="\\\\"+S;
}var R=new RegExp(S,"g");
T=T.replace(R,F);
return T;
}function F(R,Q){var P=Q.charCodeAt(0);
return"~E"+P+"E";
}};
})();
Type.registerNamespace("Telerik.Web.UI");
$telerik.toEditor=function(a){return a;
};
$telerik.findEditor=$find;
(function(a,C){var g=window.document;
var x=a.proxy;
var c=Telerik.Web.UI;
var b=c.Editor;
var k=b.EditorEditType;
var j=c.EditorContentAreaMode;
var D=b.Utils;
var r=D.isTag;
var l=c.EventType;
var m="focus";
var p="reInlineEditor";
var q="reInlineEditorSelected";
var n="reFullScreen";
var o="inlineEditCompleted";
var h=".Editor";
var i=".Editor-img";
var f=".reContent";
var u="(orientation: portrait)";
var v="rePortrait";
var t="reLandScape";
var s=b.Orientation;
var B="matchMedia" in window;
var w=Telerik.Web.Platform;
var e=Telerik.Web.Browser;
var A=c.RenderMode;
var d=Sys.UI.DomElement.addCssClass;
var z=Sys.UI.DomElement.removeCssClass;
var y=/[\u200b]/g;
c.RadEditor=function(F){var E=this;
c.RadEditor.initializeBase(this,[F]);
this._bottomResizer=null;
this._tableElement=null;
this._contentAreaElement=null;
this._contentHiddenTextarea=null;
this._doctypeString=null;
this._originalHeight=null;
this._accessKeyTextbox=null;
this._contentAreaWrapper=null;
this._mode=c.EditModes.Design;
this._divContentAreaInitialized=false;
this._accEditor=null;
this._shortCutManager=new c.ShortCutManager();
this._filtersManager=new c.Editor.FiltersManager();
this._commandsManager=new c.Editor.CommandsManager();
E._modulesManager=null;
this._resizeExtender=null;
this._localization={};
this._contentAreaEventHandlers={};
this._contentAreaExternalEventHandlers={};
this._elementsResizableWidget=null;
this._onToolClickDelegate=null;
this._onWindowResizeDelegate=null;
this._saveContentDelegate=null;
E._onHiddenTextAreaFocusDelegate=null;
this.isIE=$telerik.isIE;
this.isFirefox=$telerik.isFirefox;
this.isOpera=$telerik.isOpera;
this.isIE7=$telerik.isIE7;
this._spellCheckService=null;
this._originalScrollTop=null;
this._cursorPosition=null;
this._isCursorMoving=null;
E._animationSettings={};
};
c.RadEditor.createNew=function(F){var E=new c.RadEditor(g.createElement("div"));
if(!F){E.get_contentAreaElement();
}else{E._contentAreaElement=F;
}E._contentHiddenTextarea=g.createElement("input");
E._initContentAreaHtml("",true);
E.set_editable(true);
E._ieHookToClientArea();
E._addDefaultShortCuts();
E.removeShortCut("ToggleScreenMode");
E.removeShortCut("LinkManager");
E.removeShortCut("ImageManager");
E.removeShortCut("SetToolFocus");
return E;
};
c.RadEditor.prototype={_initializeModulesManager:function(){var E=this;
if(typeof(b.ModulesManager)==="function"&&!E._isInInlineEditMode()){E._modulesManager=new b.ModulesManager(E);
}},_isInInlineEditMode:function(){var E=this;
return(E.get_editType()===k.Inline);
},get_ajaxSpellCheck:function(){return this._ajaxSpellCheck;
},set_ajaxSpellCheck:function(E){this._ajaxSpellCheck=E;
this.raiseEvent("spellCheckLoaded");
},get_spellCheckService:function(){if(!this._spellCheckService){this._spellCheckService=$create(c.SpellCheckService,this.get_spellCheckJSON(),null,null);
this._spellCheckService.add_complete(Function.createDelegate(this,this._responseReceived));
}return this._spellCheckService;
},startSpellCheck:function(){this.get_spellCheckService().spellCheck(this.get_html());
},addCustomWord:function(E){this.get_spellCheckService().addCustomWord(E);
},_responseReceived:function(F,E){},raiseEvent:function(F,E){if(F!="selectionChange"||this.get_mode()==c.EditModes.Design){c.RadEditor.callBaseMethod(this,"raiseEvent",[F,E]);
}},_initializeToolProvider:function(){var F=this,N=F.get_toolProviderID(),K=N?$find(N):null;
if(!K){return;
}var J=K.get_dialogOpener();
F.set_dialogOpener(J);
var E=K.get_contextMenusJSON();
if(E&&E.concat){F.set_contextMenusJSON(E.concat([]));
}var I=K.get_modulesJSON();
if(I&&I.concat){F.set_modulesJSON(I.concat([]));
}var M=F.get_toolContainer();
M.innerHTML="";
F.set_toolJSON([]);
var G=K.get_toolHTML();
M.innerHTML=G;
var H=K.get_toolJSON().concat([]);
F.set_toolJSON(H);
if(K.get_spellCheckJSON){F.set_spellCheckJSON(K.get_spellCheckJSON());
}if(K.get_ajaxSpellCheckScriptReference){var L=K.get_ajaxSpellCheckScriptReference();
if(L){F.set_ajaxSpellCheckScriptReference(L);
}}F.set_links(K.get_links());
F.set_colors(K.get_colors());
F.set_fontNames(K.get_fontNames());
F.set_fontSizes(K.get_fontSizes());
F.set_symbols(K.get_symbols());
F.set_realFontSizes(K.get_realFontSizes());
F.set_snippets(K.get_snippets());
F.set_cssClasses(K.get_cssClasses());
F.set_cssFiles(K.get_cssFiles());
F.set_languages(K.get_languages());
F.set_paragraphs(K.get_paragraphs());
F.set_formatSets(K.get_formatSets());
F.set_enableUndoRedo(K.get_enableUndoRedo());
},get_toolHTML:function(){var E=this.get_toolContainer().cloneNode(true);
return E.innerHTML;
},get_toolContainer:function(){return this._view.toolBarContainer();
},get_headerToolsContainer:function(){return this._view.headerToolbarContainer();
},get_headerContainer:function(){return this._view.headerContainer();
},get_mainTable:function(){return $get(this.get_id()+"Wrapper");
},_ieHookToClientArea:function(){var E=this;
window.setTimeout(function(){if($telerik.isIE){var G=E.get_contentArea();
if(!G){return;
}try{var J=c.Editor.Utils.storeBrowserPosition();
var F=g.activeElement;
if(F&&F.nodeName===E.get_contentAreaElement()){var I=g.body.createTextRange();
if(J&&J.y>0){I.moveToElementText(E.get_contentAreaElement());
}else{I.moveStart("textedit",I.text.length);
}I.collapse(true);
I.select();
if(J&&J.y>0){c.Editor.Utils.restoreBrowserPosition();
}}}catch(H){}}},0);
},_isEditorRightToLeft:function(){var E=this._isRightToLeft;
if(E==null){var F=this.get_element();
if(F){E=this._isRightToLeft=$telerik.isRightToLeft(F);
}}return E;
},initialize:function(){var E=this;
var H;
E._cleanZeroWidthSpace=true;
c.RadEditor.callBaseMethod(this,"initialize");
this.raiseEvent("init",Sys.EventArgs.Empty);
E._initializeModulesManager();
this._view=Telerik.Web.UI.Editor.ViewFactory.getView(this);
this._sizer=Telerik.Web.UI.Editor.UI.SizerFactory.getSizer(this);
this._initializeToolProvider();
if(this._renderMode==c.RenderMode.Classic){H=this.get_mainTable();
this._originalHeight=H.style.height;
}this._initializeLocalization();
this._addFilters();
this._addDefaultShortCuts();
this._createUI();
var G=this.isVisible();
if(this._renderMode==c.RenderMode.Classic){H=$get(this.get_id()+"_BottomTable");
if(H){H.style.display="";
}}this._createTools();
var F=$get(this.get_id()+"ContentHiddenTextarea");
if(F){this._contentHiddenTextarea=F;
}if(this.get_enableAriaSupport()){this._applyAriaSupport();
}this._initContentAreaHtml(this.get_contentHiddenTextareaValue(),true);
if(!this.get_enableUndoRedo()){this.get_contentWindow()._radEditorEnableUndoRedo=false;
}this._registerClientValidation();
this._registerPostBackHandlers();
this.whitespaceTracker=new c.Editor.EmptyWhitespaceCharTracker(this);
this.whitespaceTracker.startTracking();
this.nodesTracker=new c.Editor.NodesTracker(this);
this.nodesTracker.startTracking();
if(!this._isEditModeEnabled(c.EditModes.Design)){if(this._isEditModeEnabled(c.EditModes.Html)){this.set_mode(c.EditModes.Html);
}else{this.set_mode(c.EditModes.Preview);
}}this._ieHookToClientArea();
this._fixIEVisibilityProblems(true);
this._fixMozillaDOMProblems(true);
if(this._modulesManager){this._modulesManager.initialize();
}this.set_initialContent();
this._applyAccessKey();
if(this.get_isInAccessibleMode()){this._accEditor=new c.AccessibleRadEditorBase(this);
}if(this.get_enableTrackChanges()||this.get_enableComments()){this._trackChangesLoad();
}if(!$telerik.isIE&&!$telerik.isFirefox){this._initializeResizableWidget();
}this._initRightToLeft();
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
if(E._shouldAutoResizeHeight()){this._sizer.makeAutoResizeHeight(G);
if($telerik.isFirefox){this.add_submit(Function.createDelegate(this._sizer,this._sizer.onSubmitSetEditorHeight));
}if(G){this._postponeResizeIframeHeight();
}this.add_selectionChange(Function.createDelegate(this,this._resizeContentArea));
}else{this._sizer.setContentElementHeight();
}this._makeResizeable(this.get_enableResize());
this.add_commandExecuting(Function.createDelegate(this,this._commandExecutingHandler));
this.add_commandExecuted(Function.createDelegate(this,this._commandExecutedHandler));
this._initializeImmutableElements();
this._initCleanUpModules();
E._initMobileEnterFullScreen();
E._initFindReplace();
E._addOrientationListener();
E._setOrientationDecoration();
this.raiseEvent("load",Sys.EventArgs.Empty);
this._editorFinishedLoad=true;
if(!$telerik.isIE&&!$telerik.isFirefox){if(!this.isVisible()){this.raiseEvent("firstShow");
}}},_shouldAutoResizeHeight:function(){var E=this;
return E.get_autoResizeHeight()||E._isInInlineEditMode();
},_addInlineEditModeStyles:function(){this._addInlineEditorStyle(p);
},_addInlineEditorSelectedStyles:function(){this._addInlineEditorStyle(q);
},_addInlineEditorStyle:function(E){var F=this;
var G=F.get_element();
a(G).addClass(E);
},_removeInlineEditorSelectedStyles:function(){var E=this;
var F=E.get_element();
a(F).removeClass(q);
},_postponeResizeIframeHeight:function(){setTimeout(Function.createDelegate(this,function(){this._resizeContentArea();
}),300);
},_commandExecutingHandler:function(F,E){if(!F.get_enableImmutableElements()){return;
}var G=F.getSelectedElement();
if(G&&c.Editor.Utils.isImmutableNode(G)){return E.set_cancel(true);
}},_commandExecutedHandler:function(F,E){if(!F.get_enableImmutableElements()){return;
}if(/^(?:Un|Re)do$/.test(E.get_commandName())){c.Editor.Utils.restoreImmutableElements(F);
c.Editor.Utils.revertOriginalImmutables(F);
}},_initializeImmutableElements:function(){var E=this;
if(!E.get_enableImmutableElements()){return;
}c.Editor.Utils.getImmutableElements(this).each(function(F,G){E.setNodeImmutability(G);
});
},setNodeImmutability:function(G){if(!this.get_enableImmutableElements()){return;
}G.setAttribute("contentEditable",false);
$telerik.addCssClasses(G,["reUnselectable"]);
a(G).find("*").addBack().attr("unselectable","on");
var F=this._immutableElements;
if(!F){F=this._immutableElements={};
}var E=new Date().getTime();
if(F[E.toString()]&&F[E.toString()]!=G){while(F[E.toString()]){E++;
}}E=E.toString();
G.setAttribute(c.Editor.Utils.immutableElementId,E);
F[E]=G;
},removeNodeImmutability:function(F){var E=F.getAttribute(c.Editor.Utils.immutableElementId);
F.removeAttribute("contentEditable");
this._cleanUnselectableAttributes(F);
F.removeAttribute(c.Editor.Utils.immutableElementId);
if(!E||!this._immutableElements||!this._immutableElements[E]){return;
}delete this._immutableElements[E];
},_cleanUnselectableAttributes:function(E){$telerik.removeCssClasses(E,["reUnselectable"]);
if(!E.className){E.removeAttribute("class");
}a(E).find("*").addBack().removeAttr("unselectable");
},_initializeResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
}this.selectionChangeProxy=a.proxy(this._elementResizingSelectionChangeHandler,this);
this.add_selectionChange(this.selectionChangeProxy);
this.add_modeChange(a.proxy(function(F,E){if(F.get_mode()==2&&this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
this.add_submit(a.proxy(function(){if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
},_elementResizingSelectionChangeHandler:function(){var F=this._getElementForResizing(this.getSelectedElement());
if(F&&!c.Editor.Utils.isImmutableNode(F)){if(this._elementsResizableWidget&&this._elementsResizableWidget._element!=F){this._disposeElementResizableWidget();
}if(!this._elementsResizableWidget){this._elementsResizableWidget=this._getResizable(F);
var E=new Telerik.Web.UI.Editor.GenericCommand("Resize "+F.tagName.toLowerCase(),this.get_contentWindow(),this);
var G=this;
this._elementsResizableWidget.add_resizeStart(function(H){G.get_contentArea().removeAttribute("contenteditable");
});
this._elementsResizableWidget.add_resizeEnd(function(H){G.get_contentArea().setAttribute("contenteditable","true");
G.executeCommand(E);
G._cleanHandlesFromRestorePiont(E);
G._reInitResizable(H);
});
this._markHandlesForContentFilter();
}}else{if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}}},_getCleanResizableHandlesFilter:function(){var E=this.get_filtersManager()?this.get_filtersManager().getFilterByName("CleanResizableHandles"):null;
if(!E){E=new Telerik.Web.UI.Editor.CleanResizableHandles();
}return E;
},_cleanHandlesFromRestorePiont:function(E){if(!E.RestorePoint2){return;
}var F=g.createElement("div");
F.innerHTML=E.RestorePoint2.HtmlText;
E.RestorePoint2.HtmlText=this._getCleanResizableHandlesFilter().getHtmlContent(F).innerHTML;
},_getResizable:function(E){var F={liveResize:true,useTinyHandles:true,ownerDocument:this.get_document()};
if($telerik.isTouchDevice){F.handleSize=16;
}return new Telerik.Web.UI.Widgets.Resizable(E,F);
},_disposeElementResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
this._elementsResizableWidget=null;
}if(this._selectionOrgBorder){this._selectionOrgBorder=null;
}},_reInitResizable:function(E){E.dispose();
this._elementsResizableWidget=null;
this._elementResizingSelectionChangeHandler();
},_getElementForResizing:function(G){var F=null,E=G;
if(G&&G.tagName&&G.tagName.toLowerCase()=="img"){return G;
}while(E&&E!=this.get_contentAreaElement()&&E!=$get(this.get_id()+"Center")){if(E.tagName&&E.tagName.toLowerCase()=="table"){F=E;
break;
}E=E.parentNode;
}return F;
},_markHandlesForContentFilter:function(){var F=this._elementsResizableWidget._handlesCollection;
for(var E in F){F[E]._element.setAttribute("rel","rrWidget");
}},_initRightToLeft:function(){if(this._isEditorRightToLeft()){var G=this.get_element();
var H=this.get_contentAreaElement();
Sys.UI.DomElement.addCssClass(G,"reRtl");
var F=H.contentDocument||H.contentWindow?H.contentWindow.document:null;
if(F){this._setElementStyleProperty(F.body,"direction","rtl");
this._setElementStyleProperty(F.body,"textAlign","right");
}}var E=this.get_dialogOpener();
E.set_additionalQueryString(E.get_additionalQueryString()+"&isRtl="+!!this._isEditorRightToLeft());
},_enableFormElementsSelecting:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._formElementsSelection=new Telerik.Web.UI.Editor.FormElementsSelection(this);
this._formElementsSelection.enableFormElementsSelecting();
},_enableTextFieldsTyping:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._textFieldsTyping=new Telerik.Web.UI.Editor.TextFieldsTyping(this);
this._textFieldsTyping.enableTextFieldsTyping();
},dispose:function(){var F=this;
if(this._emptyMessageContainer){$clearHandlers(this._emptyMessageContainer);
this._emptyMessageContainer=null;
}if(this.get_isInAccessibleMode()){this._accEditor=null;
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"&&this._saveContentDelegate){var I=Sys.WebForms.PageRequestManager.getInstance();
if(I){I.remove_initializeRequest(this._saveContentDelegate);
}I=null;
}if(this._contentHiddenTextarea&&this._contentHiddenTextarea.form&&this._saveContentDelegate){$telerik.removeExternalHandler(this._contentHiddenTextarea.form,"submit",this._saveContentDelegate);
}if(this.whitespaceTracker){this.whitespaceTracker.dispose();
}if(this.nodesTracker){this.nodesTracker.dispose();
}var E=this.get_contentAreaElement();
if(E){if(this._formElementsSelection){this._formElementsSelection.disableFormElementsSelecting();
}if(this._textFieldsTyping){this._textFieldsTyping.disableTextFieldsTyping();
}$clearHandlers(E);
try{E.parentNode.removeChild(E);
}catch(G){}E=null;
}try{this._disposeEvents();
}catch(G){}this._fixMozillaDOMProblems(false);
this._fixIEVisibilityProblems(false);
this._makeResizeable(false);
F._onHiddenTextAreaFocusDelegate=null;
this._onToolClickDelegate=null;
this._registerWindowResizeHandler(false);
if(this._isFullScreen){this._enableBodyScroll();
}this.set_dialogOpener(null);
this._saveContentDelegate=null;
this._registerModeChangeHandler(false);
F._attachEnterFullScreenMobileHandler(false);
F._enterFullScreenMobileDelegate=null;
if(this._insertLink){this._insertLink.dispose();
this._insertLink=null;
}if(this._insertImage){this._insertImage.dispose();
this._insertImage=null;
}if(this._accessKeyTextbox){$clearHandlers(this._accessKeyTextbox);
this._accessKeyTextbox.removeAttribute("accessKey");
this._accessKeyTextbox=null;
}if(this._immutableElements){for(var H in this._immutableElements){delete this._immutableElements[H];
}}if(this._view){this._view.dispose();
}this._removeOrientationListener();
c.RadEditor.callBaseMethod(this,"dispose");
},_applyAccessKey:function(){var E=this.get_element().getAttribute("accessKey");
if(E){this.get_element().removeAttribute("accessKey");
var F=g.createElement("input");
F.setAttribute("name",this.get_id()+"EditorAccessKey");
F.setAttribute("type","text");
F.setAttribute("id",this.get_id()+"EditorAccessKey");
F.setAttribute("accessKey",E);
this._accessKeyTextbox=F;
$addHandlers(this._accessKeyTextbox,{focus:this.setFocus},this);
var G=g.createElement("div");
G.style.width="0px";
G.style.height="0px";
G.style.overflow="hidden";
G.appendChild(this._accessKeyTextbox);
this.get_element().appendChild(G);
}},_resizeContentArea:function(){this._sizer.resizeIframeHeight();
},_makeResizeable:function(E){if(this._renderMode==c.RenderMode.Classic){this._removeCurrentResizeExtender();
if(!E){return;
}if(!this._tableElement){return;
}if(!this._bottomResizer){this._bottomResizer=this._view.resizerHandle();
}if(this._bottomResizer){if(this.isIE){this._bottomResizer.style.styleFloat="right";
}if(this.isOpera&&g.compatMode=="CSS1Compat"){this._bottomResizer.parentNode.removeChild(this._bottomResizer);
this._bottomResizer=null;
}}else{return;
}var F={se:this._bottomResizer};
this._resizeExtender=new c.ResizeExtender(this,this.get_element(),F,this._tableElement);
}else{if(this._renderMode==c.RenderMode.Lite){if(this._resizableWidget){this._resizableWidget.dispose();
}if(!E){return;
}this._initialConstraints=this._calcInitialConstraints();
var G={liveResize:true,enableFrameOverlay:true,handles:[{direction:"SE",element:this._view.resizerHandle()}],constraints:this._initialConstraints};
this._resizableWidget=new Telerik.Web.UI.Widgets.Resizable(this.get_element(),G);
this._resizableWidget.add_resizing(a.proxy(this._onResizable,this));
this._resizableWidget.add_resizeEnd(a.proxy(this._onResizableEnd,this));
}}},_calcInitialConstraints:function(){var F=30;
var G=Math.max(a(this._view.zone("Left")).outerHeight(),a(this._view.zone("Right")).outerHeight());
var E=a(this._view.modulesContainer()).outerHeight()+a(this._view.modesRowContainer()).outerHeight()+a(this._view.toolBarContainer()).outerHeight();
return{minWidth:Math.ceil(a(this._element).innerWidth()),minHeight:Math.ceil(Math.max(G,E)+F)};
},_setSizingConstraints:function(){var G=this,H=G.get_element(),E=a(H),I=G._resizableWidget;
if(I){var F=this._initialConstraints||{minWidth:E.outerWidth(),minHeight:E.outerHeight()};
I.set_constraints(F);
}},_removeCurrentResizeExtender:function(){if(this._resizeExtender){this._resizeExtender.dispose();
this._resizeExtender=null;
}},_getInvisibleParent:function(){return $telerik.getInvisibleParent(this.get_element());
},isVisible:function(){return(this._getInvisibleParent()==null);
},_fixIEVisibilityProblems:function(F){if(typeof(this.get_element().onpropertychange)=="undefined"){return;
}if(F){var E=this._getInvisibleParent();
if(E){this._onIEParentVisibilityChangeDelegate=Function.createDelegate(this,this._onIEParentVisibilityChange);
this._invisibleParent=E;
$telerik.addHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
}}else{if(this._invisibleParent&&this._onIEParentVisibilityChangeDelegate){$telerik.removeHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
this._onIEParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}}},_fixMozillaDOMProblems:function(G){var E=this.get_element();
if(E.onpropertychange||E.onpropertychange===null){return;
}if(G){var F=this._getInvisibleParent();
if(F){this._invisibleParent=F;
this._onMozillaParentVisibilityChangeDelegate=Function.createDelegate(this,this._onMozillaParentVisibilityChange);
F.addEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
}this._onMozillaParentNodeChangedDelegate=Function.createDelegate(this,this._onMozillaParentNodeChanged);
g.addEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
}else{if(this._invisibleParent&&this._onMozillaParentVisibilityChangeDelegate){this._invisibleParent.removeEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
this._onMozillaParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}if(this._onMozillaParentNodeChangedDelegate){g.removeEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
this._onMozillaParentNodeChangedDelegate=null;
}}},_onIEParentVisibilityChange:function(F){F=F.rawEvent;
if(!F){return;
}if(F.propertyName=="style.display"||F.propertyName=="className"){var E=$telerik.getCurrentStyle(this._invisibleParent,"display");
if(E!="none"){this.raiseEvent("firstShow");
this.onParentNodeChanged();
this._fixIEVisibilityProblems(false);
}}},_onMozillaParentVisibilityChange:function(E){if(E.attrName=="style"||E.attrName=="class"){var F=E.target;
if((E.currentTarget==E.target)&&"none"!=$telerik.getCurrentStyle(F,"display")){window.setTimeout(Function.createDelegate(this,function(){if(!this._editorFirstVisible){this._editorFirstVisible=true;
this.raiseEvent("firstShow");
this.onParentNodeChanged();
}this.set_editable(true);
}),0);
}}},_onMozillaParentNodeChanged:function(E){if(!E.target||!this.get_element()){return;
}var F=$telerik.isDescendantOrSelf(E.target,this.get_element());
if(F){if($telerik.isFirefox){this.onParentNodeChanged();
}else{window.setTimeout(Function.createDelegate(this,this.onParentNodeChanged),0);
}}},onParentNodeChanged:function(){if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Iframe){return;
}this.whitespaceTracker.stopTracking();
this.nodesTracker.stopTracking();
var E=this.get_html(true);
this.get_contentAreaElement();
var F=this.get_mode();
this.set_mode(F);
this._initContentAreaHtml(E,true);
this.reAttachExternalEvents();
this.set_html(E);
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
this.whitespaceTracker.startTracking();
this.nodesTracker.startTracking();
},onResizeStart:function(){var E=this.get_element();
this.resizeStartPosition={position:E.style.position,top:E.style.top,left:E.style.left};
this._resizeSelection=this.getSelection().getRange();
this._sizer.onResizeStart();
},onResizeEnd:function(){if(this.resizeStartPosition){var E=this.get_element();
$telerik.$(E).css({position:this.resizeStartPosition.position||"",top:this.resizeStartPosition.top||"",left:this.resizeStartPosition.left||""});
this.resizeStartPosition=null;
}this._sizer.onResizeEnd();
this.get_toolAdapter().repaint(true);
this.refreshContentZoom();
if(!this.isIE){return;
}this.setActive();
if(this._resizeSelection){var F=null;
if(this._resizeSelection.commonParentElement){F=this._resizeSelection.commonParentElement();
}else{if(this._resizeSelection.parentElement){F=this._resizeSelection.parentElement();
}}if(F&&(this.get_document()==F.ownerDocument)){this.getSelection().selectRange(this._resizeSelection);
}this._resizeSelection=null;
}},_onEditorResizing:function(){if(this._sizer&&this._sizer.onResizing){this._sizer.onResizing();
}},_onResizable:function(F,E){this._sizer.onResizing();
this.get_toolAdapter().repaint();
this.refreshContentZoom();
},_onResizableEnd:function(F,E){this.get_toolAdapter().repaint(true);
this.refreshContentZoom();
},_initializeLocalization:function(){this._localization=c.Localization.merge("RadEditor",this.get_language().toLowerCase(),this._localization);
},getSelectedElement:function(){var H=this;
var G=H.get_contentArea();
if(H.get_renderMode()===A.Mobile){var J=a(G).find(".__reTextHighlight,.__reNodeHighlight");
if(J.length){var I=J.get(0);
var L=J.last().get(0);
return I===L?I:D.findCommonAncestor(I,L);
}}var M=H.getDomRange();
if(!M){var E=H.get_document().activeElement;
return a(E).is("input[type=text],input[type=password],textarea")?E:C;
}var F=M.commonAncestorContainer;
if(F===G||a.contains(G,F)){var N=b.RangeEdges.commonNode(M);
var K=D.isTextNode(N);
return K||(M.isCollapsed()&&!K&&!D.canHaveChildren(N))?N.parentNode:N;
}},getSelection:function(){return new c.Editor.Selection(this.get_contentWindow());
},getSelectionHtml:function(){return this.getSelection().getHtml();
},getEditorSelectionRange:function(){var E=this.getSelection().getRange();
var F=this.getSelectedElement();
if(E!=null&&F!=null&&F.ownerDocument!=this.get_document()){E=null;
}return E;
},getDomRange:function(){var F=this,H=F.getSelection(),G=H.getRange(true),E=b.DomRange.toDomRange(G);
return E;
},selectElement:function(E,F){if(c.Editor.Utils.selectElement(this.get_contentWindow(),E)&&false!=F){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},selectElementContents:function(I,J){var H=this;
var M=H.getDomRange();
var F=H.get_document();
if(e.ie&&F.selection&&!F.getSelection){return this.selectElement(I,J);
}try{M.selectNodeContents(I);
M.select();
}catch(G){var E=M.commonAncestorContainer;
var N=function(P){return r(E,P);
};
if(N("table")){M.selectNode(I);
}else{if(N("tr")||N("tbody")||N("thead")){var O=E.getElementsByTagName("td");
var K=O[0];
var L=O[O.length-1];
M.setStart(K,0);
M.setEnd(L,L.childNodes.length);
}}M.select();
}if(J!==false){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},undo:function(E){this._commandsManager.undo(E);
},redo:function(E){this._commandsManager.redo(E);
},executeCommand:function(G,H,E){var F=(this.get_renderMode()===A.Mobile);
if(!G.get_window()){G.set_window(this.get_contentWindow());
}if(false!=H&&!this.isOpera){this.setFocus();
}if(F){this._executeCommandEvent("commandExecuting",G.get_title());
}this._commandsManager.execute(G,E);
if(F){this._executeCommandEvent("commandExecuted",G.get_title());
}},executeBrowserCommand:function(F,E,K,G){if((this.get_enableTrackChanges()||this.get_enableComments())&&F.indexOf("Justify")==0){var H=this.getSelection();
var I=H.getParentElement();
if(I){if(I.getAttribute("Name")!=null){if(I.getAttribute("Name").indexOf("_wp")==0){return;
}}}}var J=this.getLocalizedString(F);
this.executeCommand(new c.Editor.BrowserCommand(J,this.get_contentWindow(),F,K,this));
this.setActive();
this.setFocus();
if(true==G){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},createElement:function(K,I,H,F,G,J){var E=this.get_document().createElement(K);
if(I){E.style.width=I;
}if(H){E.style.height=H;
}if(null!=F){E.id=F;
}if(null!=G){E.name=G;
}if(null!=J){E.value=J;
}return E;
},createRestorePoint:function(){var F=this;
var H=F.get_contentWindow();
var E=F.get_contentArea();
var G=new b.RestorePoint(H,E);
a.observable(G);
G.on({restored:F._onContentRestored},F);
return G;
},_onContentRestored:function(E){var F=this;
var G=function(I){return I.nodeType===3&&y.test(I.nodeValue);
};
var H=D.getAllChildNodesBy(F.get_contentArea(),G);
Array.forEach(H,function(I){if(!D.isTextNodeEmpty(I)){if(F._cleanZeroWidthSpace){I.nodeValue=I.nodeValue.replace(y,"");
}}else{F.nodesTracker.trackNode(I);
}});
},getToolState:function(H,F){switch(H){case"Undo":return this.get_commandsManager().isUndoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"Redo":return this.get_commandsManager().isRedoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"FormatPainterApply":case"FormatPainterClear":return(this.get_currentFormatting())?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"MobileEdit":var G=this.get_toolAdapter();
if(G&&G.isEditEnabled){return G.isEditEnabled()?c.Editor.CommandStates.On:c.Editor.CommandStates.Off;
}else{return c.Editor.CommandStates.Off;
}break;
default:var E=c.Editor.UpdateCommandsArray[H];
if(E&&E.getState){return E.getState(this.get_contentWindow(),this,F);
}}},getToolValue:function(G,F){var E=c.Editor.UpdateCommandsArray[G];
if(E&&E.getValue){if(E.set_editor){E.set_editor(this);
}return E.getValue(this.get_contentWindow(),F);
}},_addFilters:function(){var E=this;
var F=this.get_filtersManager();
F.clear();
var G=this.usesContentFilter("ConvertToXhtml");
F.set_enableXhtmlFilter(G);
if(this.usesContentFilter("ConvertInlineStylesToAttributes")){F.add(new c.Editor.ConvertInlineStylesToAttributesFilter());
}else{if(G){F.add(new c.Editor.CleanAttributesFilter());
if($telerik.isFirefox||$telerik.isSafari){F.add(new c.Editor.MozillaRemoveLastBrFilter());
}}}E._addEnabledFilter("RemoveScripts",new c.Editor.StripScriptsFilter());
E._addEnabledFilter("EncodeScripts",new c.Editor.EncodeScriptsFilter());
E._addEnabledFilter("FixUlBoldItalic",new c.Editor.FixUlBoldItalic());
F.add(new c.Editor.FixNestedLists());
E._addEnabledFilter("StripCssExpressions",new c.Editor.StripCssExpressionsFilter());
E._addEnabledFilter("StripDomEventAttributes",new c.Editor.StripDomEventAttributesFilter());
E._addEnabledFilter("ConvertFontToSpan",new c.Editor.ConvertFontToSpanFilter());
E._addEnabledFilter("OptimizeSpans",new c.Editor.OptimizeSpans());
E._addEnabledFilter("FixEnclosingP",new c.Editor.FixEnclosingP());
E._addEnabledFilter("ConvertCharactersToEntities",new c.Editor.ConvertCharactersToEntities());
if($telerik.isIE){F.add(new c.Editor.IEKeepObjectDesignFilter());
F.add(new c.Editor.IEKeepObjectParamsFilter());
F.add(new c.Editor.IEKeepCommentsFilter());
F.add(new c.Editor.IEFixEmptyParagraphs());
E._addEnabledFilter("IECleanAnchors",new c.Editor.IECleanAnchorsFilter());
}if(!$telerik.isIE&&!$telerik.isOpera){if(!$telerik.isSafari){F.add(new c.Editor.MozillaKeepFlash(this.get_mozillaFlashOverlayImage()));
}else{F.add(new c.Editor.FixParagraphsWithSingleBrFilter());
}F.add(new c.Editor.MozillaKeepStylesString());
F.add(new c.Editor.MozillaKeepStylesDom());
E._addEnabledFilter("MozEmStrong",new c.Editor.MozEmStrongFilter());
}E._addEnabledFilter("ConvertTags",new c.Editor.ConvertTagsFilter());
if($telerik.isOpera||$telerik.isSafari||$telerik.isChrome){F.add(new c.Editor.CleanResizableHandles());
}F.add(new c.Editor.StripJunkFilter());
F.add(new c.Editor.RemoveExtraBrakes());
F.add(new b.MetaTagAttributesFilter());
E._addEnabledFilter("MakeUrlsAbsolute",new c.Editor.MakeUrlsAbsolute());
E._addEnabledFilter("IndentHTMLContent",new c.Editor.IndentHTMLContentFilter());
E._addEnabledFilter("PdfExportFilter",new c.Editor.PdfExportFilter());
},_addEnabledFilter:function(F,E){if(this.usesContentFilter(F)){this.get_filtersManager().add(E);
}},applyFiltersForEmbedContent:function(G){var H=G+"";
var E=this.get_filtersManager().getFilterByName("IEKeepObjectParamsFilter");
var F=this.get_filtersManager().getFilterByName("MozillaKeepFlash");
if(E){H=E.getDesignContent(H);
}if(F){var I=this.get_document().createElement("div");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(I,H);
I=F.getDesignContent(I);
H=I.innerHTML;
}return H;
},usesContentFilter:function(E){if(typeof(E)==="string"){E=c.EditorFilters[E];
}var F=E&&!!(this.get_contentFilters()&E);
return F;
},addShortCut:function(E,F){if(this._shortCutManager){this._shortCutManager.addShortCut(E,F);
}},removeShortCut:function(E){if(this._shortCutManager){this._shortCutManager.removeShortCut(E);
}},setShortCut:function(E,F){if(this._shortCutManager){this._shortCutManager.setShortCut(E,F);
}},_addDefaultShortCuts:function(){var F="CTRL",I="F11",H="F10";
if(w&&w.mac){F="CMD";
I=F+"+F11";
H=F+"+F10";
}var G=[["SelectAll",F+"+A"],["Copy",F+"+C"],["Paste",F+"+V"],["Cut",F+"+X"],["Bold",F+"+B"],["Italic",F+"+I"],["Underline",F+"+U"],["Copy",F+"+INS"],["Paste",F+"SHIFT+INS"],["ToggleScreenMode",I],["LinkManager",F+"+K"],["ImageManager",F+"+G"],["SetToolFocus",H]];
if(this.get_enableUndoRedo()){G.push(["Undo",F+"+Z"]);
G.push(["Redo",F+"+Y"]);
}for(var E=0;
E<G.length;
E++){this.addShortCut(G[E][0],G[E][1]);
}if(this.isIE){this.addShortCut("InsertTab","TAB");
}else{this.addShortCut("InsertTabMozilla","TAB");
}this.addShortCut("InsertShiftTab","SHIFT+TAB");
this.addShortCut("EnterNewLine","ENTER");
if(this.get_newLineMode()==Telerik.Web.UI.EditorNewLineModes.Br){if(this.isIE){this.addShortCut("ShiftEnter","SHIFT+ENTER");
this.addShortCut("InsertParagraph",F+"+ENTER");
}else{if(this.isFirefox){this.addShortCut("EnterParagraphMozilla",F+"+ENTER");
}else{if($telerik.isSafari){this.addShortCut("InsertParagraphSafari",F+"+ENTER");
}}}}if($telerik.isSafari){this.addShortCut("ShiftEnterSafari","SHIFT+ENTER");
}},bubbleKeyEventToBrowser:function(){this._shortcutHit=false;
},attachEventHandler:function(E,F){this._attachCashableEvent(E,F,this._contentAreaExternalEventHandlers);
},attachInternalHandler:function(E,F){this._attachCashableEvent(E,F,this._contentAreaEventHandlers);
},_attachCashableEvent:function(F,G,E){if(F.startsWith("on")){F=F.replace("on","");
}this._attachExternalHandler(F,G);
if(!E[F]){E[F]=[];
}E[F].push(G);
},_attachExternalHandler:function(F,G){var E=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.addExternalHandler(E,F,G);
},reAttachExternalEvents:function(){var F=this._contentAreaExternalEventHandlers;
for(var E in F){var G=F[E];
for(var H=0;
H<G.length;
H++){this._attachExternalHandler(E,G[H]);
}}},detachEventHandler:function(F,G){if(F.startsWith("on")){F=F.replace("on","");
}var E=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.removeExternalHandler(E,F,G);
},_getContentElement:function(){var F=this;
if(F.get_contentAreaMode()==j.Div){return F.get_contentArea();
}else{var E=F.get_document();
return E.documentElement||E;
}},_disposeEvents:function(){var F=this;
var E=a(F._getContentElement());
this._detachCashableEvents(this._contentAreaExternalEventHandlers);
this._contentAreaExternalEventHandlers={};
this._detachEvents();
E.offEvent(l.Down+h);
E.offEvent(l.Up+h);
E.offEvent(l.Down+i);
E.offEvent(l.Up+i);
},_detachEvents:function(){this._detachCashableEvents(this._contentAreaEventHandlers);
this._contentAreaEventHandlers={};
this._attachBodyHandlers(false);
},_detachCashableEvents:function(F){for(var H in F){var E=F[H];
if(E.length!=null){for(var J=0;
J<E.length;
J++){var I=E[J];
if(typeof(I)=="function"){try{this.detachEventHandler(H,I);
}catch(G){}}}}}},get_TopZone:function(){return $get(this.get_id()+"Top");
},_createTools:function(){var E=this;
if(!E._onToolClickDelegate){E._onToolClickDelegate=Function.createDelegate(E,E._onToolClick);
}E._createHeaderTools();
if(!E.get_toolAdapter()){var G=E.get_toolContainer();
var F=eval(E.get_toolAdapterType());
E.set_toolAdapter($create(F,{editor:E,toolJSON:E.get_toolJSON(),contentAreaMode:E.get_contentAreaMode()},{toolClick:E._onToolClickDelegate},null,G));
}},_createHeaderTools:function(){var G=this;
if(!G.get_headerToolsToolAdapter()){var H=G.get_headerToolsJSON();
if(H.length){var E=eval(G.get_headerToolsToolAdapterType());
var F={editor:G,headerToolsJSON:H};
var I={toolClick:G._onToolClickDelegate};
G.set_headerToolsToolAdapter($create(E,F,I,null,G.get_headerToolsContainer()));
}}},_onToolClick:function(F,E){if((this.get_enableTrackChanges()||this.get_enableComments())&&F._name=="Cut"&&E._commandName=="Cut"){if(!this._canEditSelection()){alert(this.get_localization()["caneditselection"]);
return false;
}}this.fire(F.get_name(),E);
},getContextMenuByTagName:function(E){var F=this.get_toolAdapter();
if(F&&F.getContextMenuByTagName){return F.getContextMenuByTagName(E);
}},updateTools:function(E,F){if(E&&E.get_tools){Array.forEach(E.get_tools(),function(G){F(G);
});
}},getToolByName:function(F){var E=this;
return E._getTool(E.get_toolAdapter(),F);
},getHeaderToolByName:function(F){var E=this;
return E._getTool(E.get_headerToolsToolAdapter(),F);
},_getTool:function(E,F){if(E&&E.getToolByName){return E.getToolByName(F);
}return null;
},getLocalizedString:function(F,E){if(!F){return E;
}var G=this.get_localization()[F];
if(null==G){G=this.get_localization()[F.toLowerCase()];
}return G;
},zoomContent:function(F){var E=this.get_contentArea();
var H=E.style;
var G=H.zoom=F||"100%";
if((e.ff||e.operaPresto)&&G.indexOf("%")!=-1){G=parseInt(G,10)/100;
}if(e.ff){H.MozTransform=(G==1)?"":String.format("translate({0}px, {1}px) scale({2})",E.offsetWidth*((G-1)/2),E.offsetHeight*((G-1)/2),G);
}if(e.operaPresto){var I=(G==1)?"":String.format("translate({0}px, {1}px) scale({2})",E.offsetWidth*((G-1)/2.04),E.offsetHeight*((G-1)),G);
H.OTransform=I;
}},refreshContentZoom:function(){var E=this.get_contentArea().style.zoom;
this.zoomContent(E);
},setFocus:function(){var H=this;
var J=H._renderMode==c.RenderMode.Mobile;
var I=H.get_mode()==c.EditModes.Html;
if(J&&!I){return;
}try{if($telerik.isIE&&H.getSelection().isControl()&&!H._isInInlineEditMode()){return;
}var F=H.get_mode()!=c.EditModes.Html?H.get_contentWindow():H.get_textArea();
if(H.get_contentAreaMode()==c.EditorContentAreaMode.Div){F=H.get_contentArea();
}if(F&&F.focus){if($telerik.isIE){var E=H.get_document().activeElement;
if(E&&E==F){return;
}}if(!H._isInInlineEditMode()){F.focus();
}}}catch(G){}},focusFirstText:function(){var F=this;
var E=F.get_contentArea();
var G=E.children.length?D.firstTextChild(E.children[0]):D.firstTextChild(E);
var H=Telerik.Web.UI.Editor.DomRange.createRange(F.get_document());
H.setStart(G,0);
H.setEnd(G,0);
H.select();
},setActive:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var E=this._getCurrentArea();
if(E&&E.setActive){E.setActive();
}},setActiveIfElementIsNotInContent:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var G=this._getCurrentArea();
var E=this.get_document().activeElement;
var F=D.isAncestorOf(G,E);
if(G&&G.setActive&&!F){G.setActive();
}},_getCurrentArea:function(){var E=this;
return E.get_mode()==c.EditModes.Html?E.get_textArea():E.get_contentArea();
},set_visible:function(F){var E=this.get_element();
if(E){E.style.display=F?"":"none";
}this.set_editable(F);
},enableEditing:function(H,F,L){var E=this.get_toolAdapter();
var G=function(){};
if(!F){F=c.EditingOptions.All;
}this._editingOptions=F;
this._optionalIgnoredTools=L;
if(this.usesEditingOption("ContextMenus")){if(E){E.enableContextMenus(H);
}}if(this.usesEditingOption("EditModes")){if(!H){this._originalEditModeRef=this.set_mode;
this.set_mode=G;
}else{if(this._originalEditModeRef){this.set_mode=this._originalEditModeRef;
this._originalEditModeRef=null;
}}}if(this.usesEditingOption("Tools")){if(E){if(!H){E.setToolState(null,c.Editor.CommandStates.Disabled);
if(L){var I=[];
for(var J in L){var M=E.getToolByName(J);
if(M){I[I.length]=M;
}}E.setToolState(I);
}this._originalSetToolStateRef=E.setToolState;
E.setToolState=G;
}else{if(this._originalSetToolStateRef){E.setToolState=this._originalSetToolStateRef;
this._originalSetToolStateRef=null;
}}}}if(this.usesEditingOption("Modules")){var K=this._modulesManager;
if(K){K.setModulesVisible(H);
}}if(this.usesEditingOption("Typing")){if(!H){this._disableTypingDelegate=$telerik.cancelRawEvent;
this.attachInternalHandler("keypress",this._disableTypingDelegate);
}else{if(this._disableTypingDelegate){this.detachEventHandler("keypress",this._disableTypingDelegate);
this._disableTypingDelegate=null;
}}}if(this.usesEditingOption("Tab")){if(!H){this.removeShortCut("InsertTab");
}else{this.setShortCut("InsertTab","TAB");
}}if(H){if(E){E.setToolState(null,c.Editor.CommandStates.Off);
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},usesEditingOption:function(E){if(typeof(E)==="string"){E=c.EditingOptions[E];
}return E&&!!(E&this._editingOptions);
},set_editable:function(E){var H=this;
var G=(H.get_renderMode()===A.Mobile);
if($telerik.isIE||$telerik.isOpera||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){window.setTimeout(function(){try{H.get_contentArea().setAttribute("contentEditable",""+E);
if($telerik.isIE){H.get_document().execCommand("2D-Position",false,true);
}}catch(I){}},0);
}else{var F=function(){try{H.get_document()["designMode"]=E?"on":"off";
if(E){H.get_document().execCommand("UseCSS",false,true);
H.get_document().execCommand("styleWithCSS",false,false);
}}catch(I){}};
if(G){F();
}else{setTimeout(F,0);
}}},get_editable:function(){if($telerik.isIE||$telerik.isOpera||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){var E=this.get_contentArea().getAttribute("contentEditable",2);
return typeof E==="boolean"?E:E=="true";
}else{return(this.get_document()["designMode"]=="on");
}},enableContentArea:function(E){if(this.isIE){this.get_contentArea().setAttribute("contentEditable",""+E);
}},showExternalDialog:function(R,E,S,K,H,G,Q,L,F,N,O,I){var M=this.getDomRange();
var J=this;
var P=function(U,T){window.setTimeout(function(){if(M){try{M.select();
}catch(V){}}if(H&&T!=null){var W=H(U,T);
if(false==W){return;
}J.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}J.setFocus();
},50);
};
this.get_dialogOpener().openUrl(R,E,S,K,P,G,Q,L,F,N,O,I);
},showDialog:function(G,E,F){var J=this.getDomRange();
var I=this;
var L=function(O,N){window.setTimeout(function(){if(J&&G!="FindAndReplace"){try{J.select();
}catch(P){}}if(F&&N!=null){var Q=F(O,N);
if(false==Q){return;
}I.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}I.setFocus();
},50);
};
var H=this.get_dialogOpener();
if(G=="InsertLink"||G=="InsertImage"||G=="InsertTableLight"){var K=this.get_skin();
if(K=="Bootstrap"){E.height=220;
E.width=370;
E.stripPopupHeight=true;
}if(K=="Glow"||K=="Silk"){E.height=230;
E.width=370;
E.stripPopupHeight=true;
}if(this.get_isSkinTouch()){E.height=287;
E.width=386;
}H.openLight(G,E,L);
}else{H.open(G,E,L);
}if(this.isIE){var M=this.get_dialogOpener()._getDialogContainer(G);
if(!M||M._DRAG_ATTACHED){return;
}M._DRAG_ATTACHED=true;
M.add_dragEnd(function(){if(J){try{J.select();
}catch(N){}finally{I.get_toolAdapter()._showToolbarHolder(false);
}}});
}},_getModeButtonsWrapper:function(){return this._view.modeButtonsContainer();
},_registerModeChangeHandler:function(E){var F=this._getModeButtonsWrapper();
if(!F){return;
}if(E){this._onModeButtonClickDelegate=Function.createDelegate(this,this._onModeButtonClick);
$addHandler(F,"click",this._onModeButtonClickDelegate);
}else{if(this._onModeButtonClickDelegate){$removeHandler(F,"click",this._onModeButtonClickDelegate);
this._onModeButtonClickDelegate=null;
}}},_onModeButtonClick:function(E){var F=this._view.getModeFromEvent(E)||this.get_mode();
if(F!=this.get_mode()){this.set_mode(F);
}return $telerik.cancelRawEvent(E);
},_changeModeUI:function(E){this._view.changeMode(E);
},_isEditModeEnabled:function(E){return E&this.get_editModes()?true:false;
},get_mode:function(){return this._mode;
},set_mode:function(J){if(!this.validateMaxHtmlLength()){this.displayMaxHtmlLengthErrorMessage();
return false;
}if(!this.validateMaxTextLength()){this.displayMaxTextLengthErrorMessage();
return false;
}this._setEditableDelegate=Function.createDelegate(this,function(){if(this._setEditableDelegate){this.remove_editReady(this._setEditableDelegate);
var K=(this._mode==F.Design);
this.set_editable(K);
this.toggleEnhancedEdit(K);
this._setEditableDelegate=null;
}});
this.add_editReady(this._setEditableDelegate);
var H=this._mode;
var F=c.EditModes;
if(J!=F.Design&&this._emptyMessageContainer){this._hideEmptyMessage();
}this.whitespaceTracker.reset();
this.nodesTracker.reset();
var I=Telerik.Web.UI.Editor.Utils;
if(J==F.Preview&&H!=F.Html){I.setTargetsForPreview(this);
}else{if(H==F.Preview){I.restoreTargetsAfterPreview(this);
}}if(H==F.Html||J==F.Html){if(J==F.Html&&this.get_enableImmutableElements()){I.replaceImmutableElements(this);
}var G=this.get_html(true);
this._mode=J;
this._showTextArea(this._mode==F.Html);
this.set_html(G);
if(J==F.Preview){I.setTargetsForPreview(this);
}if(J!=F.Html&&this.get_enableImmutableElements()){I.restoreImmutableElements(this);
}}else{this._mode=J;
this._showTextArea(this._mode==F.Html);
}this._changeModeUI(J);
if(this._mode!=F.Preview){this.setFocus();
if(!(this.isFirefox&&(!this.get_document()||!this.get_contentArea()))){this.set_editable(true);
}if(this._mode==F.Design){this.toggleEnhancedEdit(true);
}}else{this.set_editable(false);
this.toggleEnhancedEdit(false);
}if(J==F.Design&&$telerik.isFirefox){this.get_contentAreaElement().blur();
}else{this.setFocus();
}var E=this.get_contentAreaElement();
if(I.isTag(E,"iframe")){a(E)[this._mode==F.Html?"addClass":"removeClass"]("reHtmlMode");
}this.raiseEvent("modeChange",Sys.EventArgs.Empty);
if(this._sizer){this._sizer.modeChanged(J);
}if(this._resizableWidget){this._setSizingConstraints();
}},get_enableImmutableElements:function(){return this._enableImmutableElements;
},set_enableImmutableElements:function(G){var F=this._enableImmutableElements;
G=!!G;
if(F==G){return;
}if(!this.get_contentArea||!this.get_contentArea()){this._enableImmutableElements=G;
return;
}if(G){this._enableImmutableElements=G;
this._initializeImmutableElements();
}else{if(this._immutableElements){var E=this;
c.Editor.Utils.getImmutableElements(E).each(function(I,H){E.removeNodeImmutability(H);
});
this._enableImmutableElements=G;
}}},_getHtmlModeTextarea:function(){var G=this;
if(!G._htmlModeTextarea){var F=G.get_contentAreaElement();
var H=G._htmlModeTextarea=F.ownerDocument.createElement("textarea");
var E=a(H);
E.addClass("reTextArea reTextAreaHidden").appendTo(F.parentNode);
if(this.get_renderMode()==c.RenderMode.Mobile){E.addClass("t-flex");
}}return G._htmlModeTextarea;
},get_textArea:function(){return this._getHtmlModeTextarea();
},_showTextArea:function(I){var F=this;
var E=F.get_contentAreaElement();
var G=F._getHtmlModeTextarea();
var H=F.get_contentAreaMode()==c.EditorContentAreaMode.Div;
if(I){var J=F._sizer;
if(($telerik.isSafari||$telerik.isIE9)&&!H){F.hideViewElement(E);
}else{J.hideDesignViewElement(E);
}a(G).removeClass("reTextAreaHidden");
}else{if(($telerik.isSafari||$telerik.isIE9)&&!H){F.showViewElement(E);
}else{E.style.display="";
}a(G).addClass("reTextAreaHidden");
}if(F._isInInlineEditMode()){F._setShowToolbarHandlerToHiddenTextArea(G,I);
}},_setShowToolbarHandlerToHiddenTextArea:function(F,G){var E=this;
if(F){if(G){E._onHiddenTextAreaFocusDelegate=x(E._onHiddenTextAreaFocus,E);
a(F).onEvent(m,E._onHiddenTextAreaFocusDelegate);
}else{a(F).offEvent(m,E._onHiddenTextAreaFocusDelegate);
E._onHiddenTextAreaFocusDelegate=null;
}}},_onHiddenTextAreaFocus:function(E){var F=this;
var G=F.get_toolAdapter();
E.stopPropagation();
G._showToolbarHolder(true);
F._addInlineEditorSelectedStyles();
},hideViewElement:function(E){E.style.width="0px";
E.style.height="0px";
},showViewElement:function(E){E.style.width="100%";
E.style.height="2px";
},_setContentAsText:function(F){var E=this.get_textArea();
if(E){E.value=F;
}},_getContentAsText:function(){var E=this.get_textArea();
if(E&&E.value){var F=E.value;
return F;
}return"";
},set_html:function(F,J,I,H){var G=c.EditModes;
if(this.get_mode()!=G.Html){var E=new c.Editor.GenericCommand(J?J:"Set HTML",this.get_contentWindow(),this);
this._initContentAreaHtml(F);
this.executeCommand(E,I);
if(false!=H){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if(this.get_emptyMessage()&&(!F||F.trim().length==0)&&this.get_mode()==G.Design){this._setEmptyMessage();
c.Editor.CommandList.SetToolFocus("SetToolFocus",this,null);
}}else{this._setContentAsText(F);
}},get_html:function(P,X){var J=null;
var H="";
var E;
var L=this;
var Y=L.whitespaceTracker;
var V=L.nodesTracker;
var T=L.get_mode();
var U=c.EditModes;
var Q=L.get_fullPage();
var K=L.get_document();
var M=L.get_enableImmutableElements();
if(T==U.Preview){D.restoreTargetsAfterPreview(L);
Y.reset();
V.reset();
}if(T==U.Html){var N=L._getContentAsText();
N=L._cleanZeroWidthSpace?N.replace(y,""):N;
return P?L._filterContent(N):N;
}if(M){E=D.getImmutableElements(L);
if(E.length){if(!L._immutableElements){L._initializeImmutableElements();
}D.replaceImmutableElements(L);
}}Y.removeZeroWidthNodes();
V.removeZeroWidthNodes();
if(Q){if(K){J=K.getElementsByTagName("HTML")[0];
J=D.cloneNodeWithChildren(J);
var F=L._getAllSheets(J);
for(var O=0;
O<F.length;
O++){var R=F[O];
var S=R.getAttribute("id");
if(S&&S.indexOf("RADEDITORSTYLESHEET")==0){R.parentNode.removeChild(R);
}}if(e.ie||$telerik.isOpera){var G=J.getElementsByTagName("BODY")[0];
G.removeAttribute("contentEditable");
}}}else{var I=L.get_contentArea();
J=P&&I?D.cloneNodeWithChildren(I):I;
}if(J){if(X&&(c.EditorStripHtmlOptions&&X)==c.EditorStripHtmlOptions.Comments){var W=new c.Editor.StripCommentsFilter();
J=W.getHtmlContent(J);
}if(P){H=L.get_filtersManager().getHtmlContent(J);
}else{H=Q?$telerik.getOuterHtml(J):J.innerHTML;
}V.restoreZeroWidthNodes();
Y.restoreZeroWidthNodes();
}if(Q&&L._doctypeString){H=L._doctypeString+"\n"+H;
}if(M&&E&&E.length){H=D.setImmutablesHtml(H,L);
D.restoreImmutableElements(L);
}H=L._cleanZeroWidthSpace?H.replace(y,""):H;
H=P?H.trim():H;
return H;
},_filterContent:function(J){var I=this;
var M=I._isFullPage(J);
I.set_fullPage(M);
if(M){I._doctypeString=I._extractDoctype(J);
}var F=I.get_contentAreaElement();
var H=F.ownerDocument;
if(M){var K=H.createElement("iframe");
var E=a(K).insertAfter(F).hide();
var L=K.contentWindow.document;
L.open();
L.write(J);
L.close();
J=I.get_filtersManager().getHtmlContent(L.body.parentNode);
J=I._doctypeString+"\n"+J;
E.remove();
}else{var G=H.createElement("div");
D.setElementInnerHtml(G,J);
a(G).addClass("reContentArea");
J=I.get_filtersManager().getHtmlContent(G);
}return J.trim();
},_isFullPage:function(E){return E&&E.toLowerCase().indexOf("<html")!=-1;
},set_initialContent:function(E){if(E!=null){this._initialContent=E;
}else{this._initialContent=this.get_html(true);
}},get_initialContent:function(){return this._initialContent;
},get_text:function(I){var F=this;
var G="";
var H=F.get_mode()==c.EditModes.Html;
var E=H?F.get_textArea():F.get_contentArea();
if(E){G=E[H?"value":"innerHTML"];
}var J=b.Utils._stripAllExceptNewLines(F,G);
J=J.replace(/<\/?[^>]*>/ig,"\n");
J=D._convertEntitiesToCharacters(J);
if(I){if(I.trimText){J=J.replace(/(^\s+)|(\s+$)/g,"");
}if(I.removeMultipleSpaces){J=J.replace(/ +/g," ");
}}return J;
},_getUniqueStyleSheetId:function(E){return"RADEDITORSTYLESHEET"+E;
},_getAllSheets:function(G){if(!G){alert(this.get_localization()["getallsheetscalledwithnodocumenterror"]);
}var F=G.getElementsByTagName("link");
var I=G.getElementsByTagName("style");
var E=[];
var J;
for(J=0;
F[J];
J++){var H=F[J].rel?F[J].rel:F[J].getAttribute("rel");
if(typeof(H)=="string"&&H.toLowerCase().indexOf("style")+1){Array.add(E,F[J]);
}}for(J=0;
I[J];
J++){Array.add(E,I[J]);
}return E;
},_getClassName:function(G){var H=G&&G.selectorText?G.selectorText:"";
var F=H.lastIndexOf(".");
if(F==-1){return"";
}var E=H.indexOf(" ",F);
if(-1==E){E=H.indexOf(":",F);
}if(-1==E){E=H.length;
}return H.substring((F+1),E);
},_createCssFilterObject:function(){if(this._cssClassesHash){return;
}var E=this.get_cssClasses();
if(E&&E.length>0){var H={};
var G=E.length;
for(var F=0;
F<G;
F++){var I=E[F][0];
var J=E[F][1];
H[I.replace(/(.*?)\./ig,function(K){return K.toUpperCase();
})]=J;
}this._cssClassesHash=H;
}},_getFilteredCssClasses:function(H){this._createCssFilterObject();
if(H&&this._cssClassesHash){var E=[];
var G=H.length;
for(var F=0;
F<G;
F++){var J=H[F];
var I=this._checkCssFilter(J[1].selectorText);
if(I){J[2]=I;
E[E.length]=J;
}}return E;
}else{return H;
}},_checkCssFilter:function(E){if(!E||!this._cssClassesHash){return null;
}return this._cssClassesHash[E.replace(/(.*?)\./ig,function(F){return F.toUpperCase();
})];
},getCssArray:function(J){var H=this.get_document();
var G=[];
for(var F=0;
F<H.styleSheets.length;
F++){var I=H.styleSheets[F];
try{this._getStyleSheetRules(G,I,J);
}catch(E){}}G=this._getFilteredCssClasses(G);
return G;
},_getStyleSheetRules:function(I,P,Q){var G=P.href;
if(G&&G.indexOf("WebResource.axd?")>-1){return;
}if(G&&G.indexOf(this.get_contentAreaCssFile())>-1){return;
}if($telerik.isIE&&P.imports){for(var K=0;
K<P.imports.length;
K++){this._getStyleSheetRules(I,P.imports[K],Q);
}}var E;
try{E=(P.rules)?P.rules:P.cssRules;
}catch(H){return;
}var F=E&&E.length?E.length:0;
for(var J=0;
J<F;
J++){var N=E[J];
if(N&&N.cssText){var R=N.cssText.toLowerCase();
if(R.indexOf("@import")>=0&&N.parentStyleSheet&&N.styleSheet&&N.parentStyleSheet!=N.styleSheet){this._getStyleSheetRules(I,N.styleSheet,Q);
continue;
}}var O=N&&N.selectorText?N.selectorText:"";
var L=O.lastIndexOf(".");
if(L<0){continue;
}L=O.lastIndexOf(":");
if(L>0){continue;
}var M=this._getClassName(N);
if(M!="reContentArea"){I[I.length]=[M,N];
}}},copyStyleSheets:function(S,V){if(null==S&&null==V){return;
}var F=0;
var W=null;
if(V.styleSheets.length==0){if(V.createStyleSheet){V.createStyleSheet();
}else{var G=V.createElement("style");
G.media="all";
G.type="text/css";
var O=V.getElementsByTagName("head")[0];
O.appendChild(G);
W=G;
}}if(V.styleSheets[0]){W=V.styleSheets[0];
}for(var J=0;
J<S.styleSheets.length;
J++){try{var T=S.styleSheets[J];
var H=T.href;
var M=false;
if($telerik.isFirefox){if(T.ownerNode&&T.ownerNode.tagName.toLowerCase()=="style"){M=true;
}}if(H&&!M){continue;
}if(T.media){var L=T.media;
if(L.mediaText!=null){L=L.mediaText;
}if(L&&L!="all"&&L!="screen"){continue;
}}var E=(T.rules)?T.rules:T.cssRules;
for(var K=0;
K<E.length;
K++){var Q=E[K];
if(W.addRule){var R=Q.selectorText;
var N=Q.style.cssText;
if(N&&R){W.addRule(R,N,F);
}}else{if(W.insertRule){W.insertRule(Q.cssText,F);
}else{var U=Q.selectorText+"{"+Q.style.cssText+"}";
var P=V.createTextNode(U);
W.appendChild(P);
}}F++;
}}catch(I){}}},_contentAreaCommonInitialization:function(){var E=c.Editor.PopupController;
if(E){E.detachFromDocument(this.get_document());
E.attachToDocument(this.get_document());
}this._initEvents();
if(this.isVisible()){this.raiseEvent("firstShow");
}if(this.get_mode()!=c.EditModes.Preview){this.set_editable(true);
}else{this.set_editable(false);
}this.toggleEnhancedEdit(true);
if(this.get_document()&&this.get_contentArea()){this.raiseEvent("editReady",Sys.EventArgs.Empty);
}this._divContentAreaInitialized=true;
},_contentFrameLoadFunction:function(){this._execLoadFunctionSecondTime=false;
try{this.set_document(this.get_contentAreaElement().contentWindow.document);
this.set_contentWindow(this.get_contentAreaElement().contentWindow);
var E=this.get_document().body;
this.set_contentArea(E);
this.get_filtersManager().getDesignContentDom(E);
var L=0;
c.Editor.Utils.addStyleSheet(this.get_contentAreaCssFile(),this.get_document(),this._getUniqueStyleSheetId(L++));
var N=this.get_tableLayoutCssFile();
if(N){c.Editor.Utils.addStyleSheet(N,this.get_document(),this._getUniqueStyleSheetId(L++));
}var F=this.get_cssFiles(),I,M;
if(F.length>0){for(I=0;
I<F.length;
I++){M=this._getUniqueStyleSheetId(L++);
c.Editor.Utils.addStyleSheet(F[I],this.get_document(),M);
}}else{if(!this.get_fullPage()){this.copyStyleSheets(g,this.get_document());
var K=this._getAllSheets(g);
for(I=0;
I<K.length;
I++){M=this._getUniqueStyleSheetId(L++);
var J=K[I];
if(J.tagName=="LINK"){var G=J.href;
if(!G||G.indexOf("WebResource.axd?")>-1){continue;
}if(J.rel&&J.rel.toLowerCase()!="stylesheet"){continue;
}if(J.media&&J.media!="all"&&J.media!="screen"){continue;
}c.Editor.Utils.addStyleSheet(J.getAttribute("href"),this.get_document(),M);
}}}}this._contentAreaCommonInitialization();
}catch(H){}},_extractDoctype:function(E){var F=new RegExp("(<!DOCTYPE[^>]+>)","g");
var G=E.match(F);
return G?G[0]:"";
},_setEmptyMessage:function(E){if(this.get_mode()!=c.EditModes.Design){return;
}if(E!=null){var G=this.get_contentArea().innerHTML.trim();
if(G&&G!="<br>"&&G!="<p>&nbsp;</p>"&&G!="<br />"){return;
}}var I=this.get_emptyMessage();
if(I){if(!this._emptyMessageContainer){var H=this._emptyMessageContainer=g.createElement("div");
var F=this.get_contentAreaElement();
F.parentNode.insertBefore(H,F);
H.style.zIndex=F.style.zIndex+1;
H.style.position="absolute";
$telerik.addCssClasses(H,["reEmptyMessage"]);
if($telerik.isIE&&!$telerik.isIE9Mode){H.style.filter="alpha(opacity=40)";
}else{H.style.opacity="0.4";
}c.Editor.Utils.setElementInnerHtml(H,I);
this.add_selectionChange(Function.createDelegate(this,this._hideEmptyMessageOnSelectionChange));
$addHandlers(H,{mousedown:this._hideEmptyMessageOnMouseDown},this);
$addHandlers(F,{blur:this._setEmptyMessage},this);
}else{this._emptyMessageContainer.style.display="";
}}},_hideEmptyMessageOnSelectionChange:function(E){this._hideEmptyMessage();
},_hideEmptyMessageOnMouseDown:function(E){if(this._emptyMessageContainer){if(E.rawEvent.preventDefault){E.rawEvent.preventDefault();
}E.returnValue=false;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
var F=this;
setTimeout(function(){F.setFocus();
},0);
return false;
}},_hideEmptyMessage:function(){this._emptyMessageContainer.style.display="none";
},_initContentAreaHtml:function(H,G){if(!H||H.trim().length==0){this._setEmptyMessage();
}var I=this.get_filtersManager().getDesignContent(H);
var J=null;
if(this._isFullPage(I)){this.set_fullPage(true);
J=I;
this._doctypeString=this._extractDoctype(J);
}else{this.set_fullPage(false);
}if(this.get_fullPage()&&this.get_contentAreaMode()==c.EditorContentAreaMode.Div){alert(this.get_localization()["settoiframeforfullhtmlerror"]);
I=D.stripHtmlHeadBodyTags(I);
this.set_fullPage(false);
}I=this._markExistingEmptyParagraphs(I);
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){this.set_contentArea(this.get_contentAreaElement());
var E=this.get_contentArea();
this.set_document(E.ownerDocument);
this.set_contentWindow(window);
if(I.match(/<form[\s>]/i)){alert(this.get_localization()["formelementsaresupportedbyiframeerror"]);
I="";
}this._setContentAreaHtml(E,I);
if(!this._divContentAreaInitialized){this._contentAreaCommonInitialization();
}}else{if(J||G){this._recreateIframe(J,I);
}else{this._setContentAreaHtml(this.get_contentArea(),I);
}}var F=this._checkForBrokenParagraphs();
if(F){this._fixBrokenParagraphs(I);
}},_recreateIframe:function(K,I){K=K||($telerik.isSafari?"<!DOCTYPE html><html><head><style></style></head><body></body></html>":"<head><style></style></head><body"+($telerik.isOpera?" style='height:100%'":"")+"></body>");
var H=this;
var E=H.get_contentAreaElement();
if($telerik.isFirefox){var J=Function.createDelegate(H,function(){if(this._execLoadFunctionSecondTime){this._setContentAreaHtml(this.get_contentArea(),I);
this._contentFrameLoadFunction();
}});
$addHandler(E,"load",J);
}try{var F=E.contentWindow.document;
F.open();
F.write(K);
F.close();
H._execLoadFunctionSecondTime=false;
if(F.body){D.setElementInnerHtml(F.body,D.stripHtmlHeadBodyTags(I));
H._contentFrameLoadFunction();
}else{H._execLoadFunctionSecondTime=true;
}}catch(G){}},_setContentAreaHtml:function(E,F){D.setElementInnerHtml(E,F);
this.get_filtersManager().getDesignContentDom(E);
},_markExistingEmptyParagraphs:function(E){var F=E+"";
F=F.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _rdEditor_exists="1">&nbsp;</p>');
return F;
},_checkForBrokenParagraphs:function(){var H=false;
var G=this.get_contentArea().getElementsByTagName("p");
for(var E=G.length-1;
E>=0;
E--){var F=G[E];
if(!F.hasChildNodes()){if(!F.getAttribute("_rdEditor_exists")){H=true;
}}F.removeAttribute("_rdEditor_exists");
}return H;
},_fixBrokenParagraphs:function(E){if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){E=Telerik.Web.UI.Editor.Utils.stripHtmlHeadBodyTags(E);
}var F=this.get_contentArea();
E=E.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _rdEditor_temp="1">');
E=E.replace(/<\/p>/gi,"</div>");
c.Editor.Utils.setElementInnerHtml(F,E);
var J=F.getElementsByTagName("DIV");
for(var G=J.length-1;
G>=0;
G--){var I=J[G];
if(I.getAttribute("_rdEditor_temp")){var K=this.get_document().createElement("P");
$telerik.getOuterHtml(I.cloneNode(false)).replace(/([a-z0-9\-_]+)=/gi,function(N,M){var O;
if(M.toLowerCase()!=="_rdeditor_temp"){O=I.getAttribute(M);
if(!O&&M==="class"){O=I.className;
}K.setAttribute(M,O);
}});
for(var H=0;
H<I.childNodes.length;
H++){K.appendChild(I.childNodes[H].cloneNode(true));
}if(I.swapNode){I.swapNode(K);
}else{var L=I.parentNode;
L.insertBefore(K,I);
L.removeChild(I);
}}}this.get_filtersManager().getDesignContentDom(F);
},_createUI:function(){var I=this;
if(this._created){return;
}this._registerModeChangeHandler(true);
this._tableElement=this.get_mainTable();
var E=$get(this.get_id()+"Center");
var F=this.get_contentAreaElement();
if(E){if($telerik.isMobileSafari&&this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe){var G=g.createElement("div");
a(G).addClass("reIframeWrapperIOS");
G.appendChild(F);
E.appendChild(G);
this._contentAreaWrapper=G;
}else{E.appendChild(F);
}}else{var H=a(I.get_element()).find(f);
H.append(F);
var J=I.get_findReplaceOverlay();
if(J){a(J.get_element()).insertBefore(H);
}}this._created=true;
},repaint:function(){c.RadEditor.callBaseMethod(this,"repaint");
var E=this.get_toolAdapter();
E.repaint(true);
this._sizer.onRepaint(this.isVisible());
},_updateEditorSize:function(E,F){this.repaint();
},_fixMoreSizeIssues:function(){this.repaint();
},_setElementStyleProperty:function(E,F,G){E.style[F]=G;
},setSize:function(F,E){this._sizer.setEditorSize(F,E);
this.refreshContentZoom();
},pasteHtml:function(J,I,H,G,F){if(!this.get_editable()){return;
}this._disposeElementResizableWidget();
if(J.match(/^<script/ig)){J="<span id='_rdEditor_temp'>&nbsp;</span>"+J;
}var E=new c.EditorCommandEventArgs(I,null,J);
if(false==this._executeCommandEvent("pasteHtml",I,E)){return;
}if(J!=E.get_value()){J=E.get_value();
}var K=this.getLocalizedString(I);
var L=this.get_mode();
if(c.EditModes.Design==L){this.setFocus();
this._fireDeleteSelectionCmd(true);
var P=new c.Editor.PasteHtmlCommand(K,this.get_contentWindow(),J,H,this);
this.executeCommand(P,null,F);
if(G!=false){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}else{if(c.EditModes.Html==L){var R=this.get_textArea();
if(this.isIE&&this.get_document().selection){R.setActive();
var Q=g.selection.createRange();
Q.text=J;
}else{if(R.setSelectionRange){var O=R.selectionStart;
var N=R.selectionEnd;
var M=J;
R.value=R.value.substring(0,O)+M+R.value.substring(N);
R.setSelectionRange(O+M.length,O+M.length);
this.setFocus();
}}}}a("#_rdEditor_temp",this.get_document()).remove();
},_nonEditableCommands:["XhtmlValidator","Copy","Print","SelectAll","AboutDialog","Help","Zoom"],_isCommandEditable:function(E){return Array.indexOf(this._nonEditableCommands,E)==-1;
},fire:function(F,E){var I=this;
if(!I.get_editable()&&this._editorFinishedLoad&&I._isCommandEditable(F)){return;
}if(F!="Copy"){this._saveTypedContent(true,"editor.fire Copy executing");
}if(false==this._executeCommandEvent("commandExecuting",F,E)){return;
}if(this._optionalIgnoredTools&&!this._optionalIgnoredTools[F]){return;
}this.setActive();
this._pendingTextTypeCmd=null;
var G=c.Editor.CommandList[F];
var J=false;
if(G){J=(false!=G(F,this,E));
}else{alert("The command "+F+" is not implemented yet.");
}if(J){if(!$telerik.isOpera){this.setFocus();
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}this._executeCommandEvent("commandExecuted",F,E);
try{if(F=="Undo"&&!$telerik.isIE&&this.get_contentArea().innerHTML.toLowerCase().trim()=="<br>"){this.get_contentArea().innerHTML="<br>";
}}catch(H){}},_executeCommandEvent:function(G,F,E){if(!E){E=new c.EditorCommandEventArgs(F);
}this.raiseEvent(G,E);
return !(E.get_cancel&&E.get_cancel());
},_onWindowResize:function(){var E=this._getViewportBounds();
this.setSize(E.width,E.height,false);
},_registerWindowResizeHandler:function(E){if(E){this._onWindowResizeDelegate=Function.createDelegate(this,this._onWindowResize);
$addHandler(window,"resize",this._onWindowResizeDelegate);
}else{if(this._onWindowResizeDelegate){$removeHandler(window,"resize",this._onWindowResizeDelegate);
this._onWindowResizeDelegate=null;
}}},_getViewportBounds:function(){var E=$telerik.getClientBounds();
var F=g.documentElement.scrollLeft||g.body.scrollLeft;
var G=g.documentElement.scrollTop||g.body.scrollTop;
E.scrollLeft=F;
E.scrollTop=G;
return E;
},_handleParentsWithOverflow:function(K){var E,J;
if(false==K){if(!this._parentsWithOverflow){return;
}E=this._parentsWithOverflow;
var G=E.length;
for(var F=0;
F<G;
F++){var H=E[F];
if(H[0]){J=H[0].style;
J.overflow=H[1];
J.height=H[2];
J.tableLayout=H[3];
J.position=H[4];
}}this._parentsWithOverflow=null;
}else{this._parentsWithOverflow=[];
E=this._parentsWithOverflow;
var I=this.get_element().parentNode;
while(I&&I.tagName!="BODY"){J=I.style;
E[E.length]=[I,J.overflow,J.height,J.tableLayout,J.position];
if(J.position==="fixed"){J.position="static";
}J.tableLayout="auto";
J.overflow="visible";
J.height="auto";
I=I.parentNode;
}}},isFullScreen:function(){return this._isFullScreen;
},_disableBodyScroll:function(){var E=g.body;
this._preFullScreenBodyStyle=[E.scroll,E.style.margin,""];
E.scroll="no";
E.style.margin="0px";
if(E){this._preFullScreenBodyStyle[2]=E.style.overflow;
E.style.overflow="hidden";
}this._handleParentsWithOverflow(true);
},_enableBodyScroll:function(){var E=g.body;
if(!this._preFullScreenBodyStyle){return;
}E.scroll=this._preFullScreenBodyStyle[0];
try{E.style.margin=this._preFullScreenBodyStyle[1];
}catch(F){}E.style.overflow=this._preFullScreenBodyStyle[2];
this._handleParentsWithOverflow(false);
this._preFullScreenBodyStyle=null;
},_setToolOn:function(H,F){var E=this;
var G=E.getToolByName(H);
if(G){G.setOn(F);
}G=E.getHeaderToolByName(H);
if(G){G.setOn(F);
}},toggleScreenMode:function(){var F=this;
var L=e.operaPresto||w.ios||w.android;
if(F.get_renderMode()==c.RenderMode.Mobile){F._executeToggleScreenModeCmd();
F._setToolOn("ToggleScreenMode",F._isFullScreen);
F.raiseEvent("toggleScreenMode",Sys.EventArgs.Empty);
F.focusFirstText();
if(F._elementsResizableWidget){F._disposeElementResizableWidget();
}return;
}var H=F.get_element();
if(!F._isFullScreen){this._disableBodyScroll();
F._isFullScreen=true;
d(H,n);
var I=H.style.height;
if(I=="auto"||isNaN(parseInt(I,10))){I=H.offsetHeight+"px";
}var J=H.style.width;
if(J=="auto"||isNaN(parseInt(J,10))){J=H.offsetWidth+"px";
}F._preFullScreenBounds={width:J,height:I};
F._onWindowResize();
if(L){H.style.position="fixed";
H.style.left="0px";
H.style.top="0px";
}else{F._preFullScreenBrowserRect=F._getViewportBounds();
var G=$telerik.getLocation(H);
setTimeout(function(){c.Editor.Utils.restoreBrowserPosition(G.x,G.y);
},0);
}F._registerWindowResizeHandler(true);
if(this._resizeExtender){this._resizeExtender.enable(false);
$telerik.setVisible(this._bottomResizer,false);
}}else{F._registerWindowResizeHandler(false);
this._enableBodyScroll();
F._isFullScreen=false;
z(H,n);
var E=F._preFullScreenBounds;
F.setSize(E.width,E.height,false);
if(L){H.style.position="";
H.style.left="";
H.style.top="";
}else{var K=F._preFullScreenBrowserRect;
c.Editor.Utils.restoreBrowserPosition(K.scrollLeft,K.scrollTop);
}if(this._resizeExtender){this._resizeExtender.enable(true);
$telerik.setVisible(this._bottomResizer,true);
}}F.set_editable(true);
if(!w.ios){F.setFocus();
}F.refreshContentZoom();
F._setToolOn("ToggleScreenMode",F._isFullScreen);
this.raiseEvent("toggleScreenMode",Sys.EventArgs.Empty);
},validateMaxTextLength:function(H){var G=this.get_maxTextLength();
if(G>0){if(!H){H="";
}var E=this.get_text({removeMultipleSpaces:true})+H;
var F=b.Utils._getCharactersCount(E);
return G>=F;
}return true;
},validateMaxHtmlLength:function(E){var F=this.get_maxHtmlLength();
if(F>0){if(!E){E="";
}return F>=this.get_html(true).length+E.length;
}return true;
},displayMaxHtmlLengthErrorMessage:function(){alert(this.get_localization()["exceededhtmllength"]+" "+this.get_maxHtmlLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},displayMaxTextLengthErrorMessage:function(){alert(this.get_localization()["exceededtextlength"]+" "+this.get_maxTextLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},get_contentHiddenTextareaValue:function(){if(this._contentHiddenTextarea){return c.Editor.Utils.decodePostbackContent(this._contentHiddenTextarea.value);
}else{return"";
}},set_contentHiddenTextareaValue:function(E){this._contentHiddenTextarea.value=c.Editor.Utils.encodePostbackContent(E);
},get_localization:function(){return this._localization;
},_createIframe:function(){var E=g.createElement("iframe");
E.frameBorder="0";
E.src="javascript:'<html></html>';";
var F=E.style;
F.width="100%";
F.height="2px";
F.margin="0px";
F.padding="0px";
if(this.get_renderMode()==c.RenderMode.Mobile){E.className="t-flex";
}return E;
},get_contentAreaElement:function(){if((this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe)&&(this._contentAreaElement&&(!this._contentAreaElement.contentWindow||!this._contentAreaElement.contentWindow.document))){if(this._contentAreaElement.parentNode){this._contentAreaElement.parentNode.removeChild(this._contentAreaElement);
}this._contentAreaElement=null;
}if(!this._contentAreaElement){var E;
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){E=g.createElement("div");
E.setAttribute("id",this.get_id()+"_contentDiv");
E.className="reContentArea";
}else{E=this._createIframe();
if(!$telerik.isIE){E.innerHTML="Your browser does not support inline frames or is currently configured not to display inline frames.";
}E.setAttribute("id",this.get_id()+"_contentIframe");
}E.setAttribute("title","Rich text editor with ID "+this.get_id());
this._contentAreaElement=E;
if(this.get_enableAriaSupport()){this._contentAreaElement.setAttribute("role","textbox");
}}return this._contentAreaElement;
},get_shortCutManager:function(){return this._shortCutManager;
},get_filtersManager:function(){return this._filtersManager;
},get_commandsManager:function(){return this._commandsManager;
},get_modulesManager:function(){return this._modulesManager;
},get_useClassicDialogs:function(){return this.get_dialogOpener().get_useClassicDialogs();
},set_useClassicDialogs:function(E){this.get_dialogOpener().set_useClassicDialogs(E);
},get_qualifiedSkin:function(){var E=this.get_skin();
return"RadEditor."+E;
},_applyAriaSupport:function(){this.get_element().setAttribute("role","presentation");
var K=this.get_toolContainer();
this._applyAriaForLayoutTables();
var H;
if(K){K.setAttribute("role","toolbar");
var L=K.getElementsByTagName("ul");
for(H=0;
H<L.length;
H++){L[H].setAttribute("role","presentation");
}}var I=this._getModeButtonsWrapper();
I.setAttribute("role","presentation");
var E=I.getElementsByTagName("*");
for(H=0;
H<E.length;
H++){var F=E[H];
var J=F.tagName.toLowerCase()=="a"?"button":"presentation";
F.setAttribute("role",J);
}var G=this._contentHiddenTextarea;
if(G){G.setAttribute("aria-hidden","true");
}},_applyAriaForLayoutTables:function(){var H=this.get_mainTable();
if(H){H.setAttribute("role","presentation");
var K=H.getElementsByTagName("tr");
for(var F=0;
F<K.length;
F++){var J=K[F];
J.setAttribute("role","presentation");
var I=J.getElementsByTagName("td");
for(var G=0;
G<I.length;
G++){I[G].setAttribute("role","presentation");
}}}var E=$get(this.get_id()+"_BottomTable");
if(E){E.setAttribute("role","presentation");
}},_updateHiddenTextarea:function(){var E=this;
var F=E.get_html(true);
if(E.get_mode()==c.EditModes.Preview){D.restoreTargetsAfterPreview(E);
}if(E.get_enableImmutableElements()){var G=new RegExp(" "+D.immutableElementId+"=['\"]?[0-9]{13}['\"]?","gm");
F=F.replace(G,"");
}E.set_contentHiddenTextareaValue(F);
return F;
},_registerClientValidation:function(){if(typeof(Page_ClientValidate)=="function"){var E=Page_ClientValidate;
Page_ClientValidate=Function.createDelegate(this,function(H){var F=this.get_element();
if(F){var G=this._updateHiddenTextarea();
F.value=G;
F.setAttribute("value",G);
}F=null;
return E(H);
});
}},saveContent:function(F,E){if(this._saveContentDelegate){var G=null;
if(!this.validateMaxHtmlLength()){G=1;
}else{if(!this.validateMaxTextLength()){G=2;
}}if(G){if(E){if(E.set_cancel){E.set_cancel(true);
}}else{if(G==1){this.displayMaxHtmlLengthErrorMessage();
}else{if(G==2){this.displayMaxTextLengthErrorMessage();
}}}$telerik.cancelRawEvent(F);
return false;
}else{this.raiseEvent("submit",Sys.EventArgs.Empty);
this._updateHiddenTextarea();
}}},_registerPostBackHandlers:function(){this._saveContentDelegate=Function.createDelegate(this,this.saveContent);
var F=this._contentHiddenTextarea.form;
if(F){$telerik.addExternalHandler(F,"submit",this._saveContentDelegate);
}if(typeof(__doPostBack)!="undefined"){var K=this._saveContentDelegate;
var I=__doPostBack;
__doPostBack=function(N,M){K();
I(N,M);
};
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"){var H=Sys.WebForms.PageRequestManager.getInstance();
if(H){if(null!=H._originalDoPostBack){var L=this._saveContentDelegate;
var J=H._originalDoPostBack;
H._originalDoPostBack=function(N,M){L();
J(N,M);
};
}if(null!=H._onSubmitStatements&&!$telerik.isIE){var G=this;
var E={};
Array.add(H._onSubmitStatements,function(){var M=G.saveContent(null,E);
return(M!=C)?M:true;
});
}else{H.add_initializeRequest(this._saveContentDelegate);
}}H=null;
}F=null;
},toggleEnhancedEdit:function(G){if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){var E=this.get_contentArea();
if(typeof(G)=="undefined"||null==G){G=(E.className.indexOf("reContentAreaToggle")>-1)?false:true;
}if(G){Sys.UI.DomElement.addCssClass(E,"reContentAreaToggle");
}else{Sys.UI.DomElement.removeCssClass(E,"reContentAreaToggle");
}this.updateToggleTableBorderToolState(G);
return G;
}else{if($telerik.isSafari&&typeof(G)!="undefined"&&false==this.disableContentAreaStylesheet(G)){var F=this;
setTimeout(function(){F.disableContentAreaStylesheet(G);
},200);
}else{return this.disableContentAreaStylesheet(G);
}}},disableContentAreaStylesheet:function(G){var F=this.get_document();
if(!F||!F.getElementById){return false;
}var E=F.getElementById(this._getUniqueStyleSheetId(0));
if(E){if(G==null){G=E.disabled;
}E.disabled=!G;
this.updateToggleTableBorderToolState(G);
return G;
}else{return false;
}},updateToggleTableBorderToolState:function(F){var E=this.getToolByName("ToggleTableBorder");
if(E&&E.setOn){E.setOn(F);
}},pasteHyperLink:function(J,F){var E=this.getSelection().getParentElement();
var I=E?E.parentNode:null;
if(E!=null&&E.tagName=="A"&&($telerik.isFirefox||($telerik.isIE&&E.style.cssText!=""&&!((I.tagName=="FONT"||I.tagName=="SPAN")&&I.children.length==1)))){E.parentNode.removeChild(E);
}else{if($telerik.isSafari&&I&&I.nodeName=="A"){I.parentNode.removeChild(I);
}else{this.fire("Unlink");
}}var G=c.Editor.Utils.getOuterHtml(J);
if($telerik.isIE){G=this._replaceHeadingInsideLink(G);
if(J.getElementsByTagName("P").length==1){G=this.replaceParagraphAndAnchor(G);
var H=E;
while(H){if(H.tagName=="P"){H.parentNode.removeChild(H);
break;
}H=H.parentNode;
}}}G=G.replace(/<br[^>]*><\/a>$/ig,"</a><br />");
this.pasteHtml(G,F);
},replaceParagraphAndAnchor:function(E){var F=E+"";
F=F.replace(/(<A[^>]*>)\s*(<P[^>]*>)/ig,"$2$1");
F=F.replace(/(<\/P[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return F;
},_replaceHeadingInsideLink:function(E){var F=E+"";
F=F.replace(/(<A[^>]*>)\s*(<h\d{1}[^>]*>)/ig,"$2$1");
F=F.replace(/(<\/h\d{1}[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return F;
},_saveTypedContent:function(F,E){if(this._pendingTextTypeCmd){this._pendingTextTypeCmd.update();
}if(true!=F){this._pendingTextTypeCmd=null;
}},_attachBodyHandlers:function(G){var E=null;
if(this.get_document()&&this.get_contentArea()){E=this.get_contentArea();
}if(!E){return;
}if(G){this._onResizeStartDelegate=Function.createDelegate(this,this._onResizeStart);
this._onResizeEndDelegate=Function.createDelegate(this,this._onResizeEnd);
this._onDropDelegate=Function.createDelegate(this,this._onDrop);
$telerik.addExternalHandler(E,"resizestart",this._onResizeStartDelegate);
$telerik.addExternalHandler(E,"resizeend",this._onResizeEndDelegate);
$telerik.addExternalHandler(E,"drop",this._onDropDelegate);
if($telerik.isIE||$telerik.isFirefox){this._onDragEndDelegate=Function.createDelegate(this,this._onDragEnd);
this._onDragStartDelegate=Function.createDelegate(this,this._onDragStart);
$telerik.addExternalHandler(E,"dragend",this._onDragEndDelegate);
$telerik.addExternalHandler(E,"dragstart",this._onDragStartDelegate);
}var F=this._shouldAutoResizeHeight();
if(($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)&&!F){this._onEditorResizeDelegate=Function.createDelegate(this,this._onEditorResizing);
$telerik.$(this.get_element()).on("resize",this._onEditorResizeDelegate);
}this._onPasteDelegate=Function.createDelegate(this,E.setActive&&E.ownerDocument.queryCommandSupported("Paste")?this._onPaste:this._onBeforePaste);
$telerik.addExternalHandler(E,"paste",this._onPasteDelegate);
if(F){this._resizeContentAreaDelegate=Function.createDelegate(this,this._resizeContentArea);
$telerik.addExternalHandler(E,"keyup",this._resizeContentAreaDelegate);
}}else{if(this._onResizeStartDelegate){$telerik.removeExternalHandler(E,"resizestart",this._onResizeStartDelegate);
}if(this._onResizeEndDelegate){$telerik.removeExternalHandler(E,"resizeend",this._onResizeEndDelegate);
}if(this._onDropDelegate){$telerik.removeExternalHandler(E,"drop",this._onDropDelegate);
}if(this._onDragEndDelegate){$telerik.removeExternalHandler(E,"dragend",this._onDragEndDelegate);
}if(this._onDragStartDelegate){$telerik.removeExternalHandler(E,"dragstart",this._onDragStartDelegate);
}if(this._onEditorResizeDelegate){$telerik.$(this.get_element()).off("resize",this._onEditorResizeDelegate);
}if(this._resizeContentAreaDelegate){$telerik.removeExternalHandler(E,"keyup",this._resizeContentAreaDelegate);
}$telerik.removeExternalHandler(E,"paste",this._onPasteDelegate);
this._resizeContentAreaDelegate=null;
this._onEditorResizeDelegate=null;
this._onResizeStartDelegate=null;
this._onResizeEndDelegate=null;
this._onDropDelegate=null;
this._onDragEndDelegate=null;
this._onDragStartDelegate=null;
this._onPasteDelegate=null;
this._onBeforePasteDelegate=null;
}},_initEvents:function(){var F=this;
var E=a(this._getContentElement());
if(!this.isIE){this.attachInternalHandler("keypress",function(H){if(F._onKeyPressed(H)){H.preventDefault();
return false;
}});
if($telerik.isSafari){if(F.get_renderMode()==c.RenderMode.Mobile){E.onEvent(l.Down+i,"img",Function.createDelegate(F,F._onImageDown));
E.onEvent(l.Up+i,"img",Function.createDelegate(F,F._onImageUp));
}else{this.attachInternalHandler("click",Function.createDelegate(F,function(H){var I=H.srcElement?H.srcElement:H.target;
if(D.isTag(I,"img")){F.selectElement(I);
}}));
}}if(this.isFirefox&&this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){this.attachInternalHandler("click",function(H){if(!F.get_editable()){return;
}window.setTimeout(function(){F.set_editable(true);
F.setFocus();
},100);
});
}}this.attachInternalHandler("keypress",this._preventEnterPropagation);
this.attachInternalHandler("keydown",function(H){if(F.isOpera){return F._onKeyDown(H);
}else{F._onKeyDown(H);
}if($telerik.isSafari){var J=F._shortCutManager.isShortCutHit(H);
if(null!=J){var I=J.get_name();
if(I==="InsertShiftTab"){$telerik.cancelRawEvent(H);
F._focusLastVisibleTool();
}switch(I){case"Bold":case"Italic":case"Underline":$telerik.cancelRawEvent(H);
break;
}}}});
E.onEvent(l.Down+h,function(){F.setActiveIfElementIsNotInContent();
F._saveTypedContent(false,"Saving typed content onmousedown");
var H=F.get_toolAdapter();
if(H.isEditEnabled&&H.isEditEnabled()){F.fire("MobileEdit");
}a(g).onEvent(l.Up+h,G);
});
this.attachInternalHandler("keyup",Function.createDelegate(this,this._onKeyUp));
var G=Function.createDelegate(F,function(H){F.raiseEvent("selectionChange",Sys.EventArgs.Empty);
a(g).offEvent(l.Up+h);
if($telerik.isSafari&&D.isTag(F.getSelectedElement(),"img")){setTimeout(function(){F._elementResizingSelectionChangeHandler();
},50);
}});
E.onEvent(l.Up+h,G);
$telerik.addExternalHandler(g.body,"dragend",Function.createDelegate(this,this._onDocumentDragEnd));
this._attachBodyHandlers(true);
},_onImageDown:function(G){var F=this;
var E=a(F._getContentElement());
var H=G.srcElement?G.srcElement:G.target;
F._imageMoveDelegate=F._imageMoveDelegate||Function.createDelegate(F,F._onImageMove);
E.onEvent(l.Move+i,H,F._imageMoveDelegate);
},_onImageUp:function(G){var F=this;
var E=a(F._getContentElement());
if(!F._moved&&F.get_editable()){F.selectElement(G.srcElement?G.srcElement:G.target);
G.preventDefault();
}setTimeout(function(){F._moved=false;
},0);
E.offEvent(l.Move+i);
},_onImageMove:function(E){this._moved=true;
},_initCleanUpModules:function(){this._innerListCleanUp=new b.InnerListDeleteCleanUp(this);
},_cleanUpAfterDelete:function(){this._innerListCleanUp.cleanUp();
},_initMobileEnterFullScreen:function(){var E=this;
E._attachEnterFullScreenMobileHandler(true);
if(E.get_renderMode()==c.RenderMode.Mobile){E.set_editable(false);
}},_attachEnterFullScreenMobileHandler:function(E){var G=this;
if(G.get_renderMode()==c.RenderMode.Mobile){if(!G._enterFullScreenMobileDelegate){G._onDownTrackFullScreenEnterDelegate=Function.createDelegate(G,G._onDownTrackFullScreenEnter);
G._onMovePreventFullScreenDelegate=Function.createDelegate(G,G._onMovePreventFullScreen);
G._enterFullScreenMobileDelegate=Function.createDelegate(G,G._enterFullScreenMobileHandler);
}var H=E?"onEvent":"offEvent";
var F=a([G.get_element(),G.get_contentArea()]);
$telerik[H](F,c.EventType.Down+".reToggleScreenMode",G._onDownTrackFullScreenEnterDelegate);
$telerik[H](F,c.EventType.Move+".reToggleScreenMode",G._onMovePreventFullScreenDelegate);
$telerik[H](F,c.EventType.Up+".reToggleScreenMode",G._enterFullScreenMobileDelegate);
}},_onDownTrackFullScreenEnter:function(E){this._preventFullScreenEnter=false;
},_onMovePreventFullScreen:function(E){this._preventFullScreenEnter=true;
},_enterFullScreenMobileHandler:function(){if(this._preventFullScreenEnter){this._preventFullScreenEnter=false;
return;
}var E=this;
E._executeToggleScreenModeCmd();
E._setToolOn("ToggleScreenMode",E._isFullScreen);
E._attachEnterFullScreenMobileHandler(false);
},_executeToggleScreenModeCmd:function(){var E=new b.ToggleScreenMode(this);
return this.executeCommand(E,false,false);
},_toggleMobileEdit:function(){var E=this;
E._hideMobileKeyboard=E._hideMobileKeyboard===true?false:true;
if(E._hideMobileKeyboard){E._showToolBarContainer();
}else{E._hideToolBarContainer();
}},_showToolBarContainer:function(){a(this._view.toolBarContainer()).show();
},_hideToolBarContainer:function(){a(this._view.toolBarContainer()).hide();
},_initFindReplace:function(){var E=this.get_findReplaceOverlay();
if(!E){return;
}this.findReplaceManager=new b.FindReplaceManager(this,E,{localization:this.get_localization()});
},_addOrientationListener:function(){var E=this;
if(B){E._mediaListenerDelegate=Function.createDelegate(E,E._onOrientationChange);
E._mediaQuery=window.matchMedia(u);
E._mediaQuery.addListener(E._mediaListenerDelegate);
}},_removeOrientationListener:function(){var E=this;
if(E._mediaQuery&&E._mediaListenerDelegate){E._mediaQuery.removeListener(E._mediaListenerDelegate);
E._mediaListenerDelegate=null;
}},_onOrientationChange:function(){var G=window.orientation,E=G==90||G==-90,F;
if(w.ios&&e.safari){F=E?s.Portrait:s.LandScape;
}else{F=E?s.LandScape:s.Portrait;
}this._setOrientationDecoration(F);
this.raiseEvent("orientationChange",new b.OrientationEventArgs(F));
},_setOrientationDecoration:function(E){if(window.orientation===C){return false;
}if(!E){E=this._getOrientation();
}var F=E==s.LandScape?t:v;
a(this.get_element()).removeClass(v).removeClass(t).addClass(F);
},_getOrientation:function(){var E=window.orientation;
return(E==-90||E==90)?s.LandScape:s.Portrait;
},_shouldCancelKeyEvent:function(E){if(!$telerik.isFirefox){return false;
}if(!this.get_enableImmutableElements()){return false;
}if(E.ctrlKey||E.altKey){return false;
}var I=c.Editor.Utils,H=this.getSelection().getRange();
if(!H){return false;
}var F=function(J){return I.isTextNode(J)&&I.isImmutableNode(J);
};
if((H.collapsed&&F(H.commonAncestorContainer))||(F(H.startContainer)||F(H.endContainer))){var G=E.keyCode;
if(E.shiftKey&&G==13){return true;
}if(G==8||G==32||G==46){return true;
}if(!I.isSystemKey(G)&&!I.isCursorMovingKey(G)){return true;
}}return false;
},_onKeyDown:function(H){var I=this;
var P;
if(I.get_mode()==c.EditModes.Preview||I._isTargetTextElement(H)){return;
}if(I._shouldCancelKeyEvent(H)){return $telerik.cancelRawEvent(H);
}var K=H.keyCode;
var E=I.get_contentAreaMode();
var G=I.get_document();
if(E==c.EditorContentAreaMode.Iframe&&$telerik.isMobileSafari){this.setFocus();
}if(K==8||K==46){if(this._fireDeleteSelectionCmd(true,true)){return $telerik.cancelRawEvent(H);
}if(K==46){if($telerik.isOpera&&$telerik.OperaVersion<11){G.execCommand("Delete");
this.get_contentArea().contentEditable=true;
if(E!=c.EditorContentAreaMode.Div){G.designMode="on";
}this.get_contentArea().focus();
return $telerik.cancelRawEvent(H);
}}this._shortcutHit=false;
if(this.getSelectionHtml()){this._saveTypedContent(false,"Saving typed content before allowing delete to proceed..");
var L=this.getLocalizedString("Typing");
if(this.get_enableTrackChanges()){L=Telerik.Web.UI.Editor.TrackChangesCommandStrings.Delete;
}this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(L,this.get_contentWindow(),this);
this._hasDeleteExecuted=true;
}if(this.isIE&&G.selection){var Q=function(){var W=I.getSelectedElement();
if(W&&W.tagName=="EMBED"){W.setAttribute("hidden","true");
W.setAttribute("id","FileToDelete");
window.setTimeout(function(){var X=G.getElementById("FileToDelete");
if(X.parentNode&&X.parentNode.removeChild){X.parentNode.removeChild(X);
}},100);
$telerik.cancelRawEvent(H);
return true;
}};
var O=Q();
if(O){return false;
}try{P=G.selection.createRange();
var N=null;
if(P&&P.duplicate){N=P.duplicate();
}if(8==H.keyCode){P.moveStart("character",-1);
}else{P.moveEnd("character",1);
}if(P.parentElement().tagName=="EMBED"){P.select();
Q();
if(N&&N.select){N.select();
}}}catch(J){}var R=new c.Editor.Selection(this.get_contentWindow());
if(R&&R.isControl()){var S=R.getRange();
S.execCommand("Delete");
$telerik.cancelRawEvent(H);
}}if(this.get_enableTrackChanges()||this.get_enableComments()){if(K==8||K==46){var V=this.getToolByName("AddComment");
if(V){V.set_enabled(false);
}}}if(!($telerik.isIE&&K==46)){var F=new b.DeleteFix(I);
F.applyFix(H);
}return;
}var U=H.target?H.target:H.srcElement;
if(U&&"INPUT"!=U.tagName){var T=this._shortCutManager.isShortCutHit(H);
if(null!=T&&T.get_name()=="Copy"){this._shortcutHit=false;
return;
}this._shortcutHit=(null!=T);
if(this._shortcutHit){this.fire(T.get_name());
}else{if(c.Editor.Utils.isCursorMovingKey(H.keyCode)){if(!this._hasCursorMoved){this._saveTypedContent(false,"Saving typed content before letting the cursor move");
}this._hasCursorMoved=true;
return;
}if(32==H.keyCode||13==H.keyCode||!c.Editor.Utils.isSystemKey(H.keyCode)){this._fireDeleteSelectionCmd();
if(this._hasCursorMoved){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this._hasCursorMoved=false;
return;
}if(!this._pendingTextTypeCmd){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}}if(this._shortcutHit){if($telerik.isIE||$telerik.isSafari){var M=T.get_name();
if(this.get_enableTrackChanges()||this.get_enableComments()){if($telerik.isSafari&&M=="Paste"){return;
}if(M=="Enter"){$telerik.cancelRawEvent(H);
return;
}if(M=="Cut"){return;
}}else{if(M=="Cut"||M=="Paste"){return;
}}$telerik.cancelRawEvent(H);
}}}},_fireDeleteSelectionCmd:function(J,F){var H=this;
if(!H.get_editable()){return;
}var I=H.shouldTrackChanges&&H.shouldTrackChanges();
var E=new c.Editor.DeleteSelectionCommand(H,{complete:F});
var G=E.getState(H.get_contentWindow(),H);
if(!I&&(G!==c.Editor.CommandStates.Disabled)){H.executeCommand(E,true,J);
return true;
}return false;
},_preventEnterPropagation:function(E){if(E.keyCode==Sys.UI.Key.enter){if(E.stopPropagation){E.stopPropagation();
}E.cancelBubble=true;
}},_onKeyUp:function(E){this._cleanUpAfterDelete();
if(D.isTypingKey(E)){this._normalizeTypedText();
}if(this._hasDeleteExecuted){if(this._pendingTextTypeCmd){this.executeCommand(this._pendingTextTypeCmd);
}this._pendingTextTypeCmd=null;
this._hasDeleteExecuted=false;
return;
}if(this._pendingTextTypeCmd){return;
}if(this._pendingCutPasteCommand){this.executeCommand(this._pendingCutPasteCommand);
this._pendingCutPasteCommand=null;
}if(this._shortcutHit){return false;
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_onKeyPressed:function(E){if(!this._pendingTextTypeCmd){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if(this._shortcutHit&&!this._pendingCutPasteCommand){return true;
}},_normalizeTypedText:function(){var E=this.getSelection().getRange(true);
if(!E){return;
}var I=c.Editor.DomRange.toDomRange(E);
var F=I.isCollapsed();
var J=I.commonAncestorContainer;
if(D.isTextNode(J)){var G=J.previousSibling;
if(D.isTextNode(G)){var H=G.length;
G.data+=J.data;
J.parentNode.removeChild(J);
if(F){I.setStart(G,H);
I.setEnd(G,H);
I.select();
}}}},_focusLastVisibleTool:function(){var E=this.get_toolAdapter().get_tools();
if(this.get_isInAccessibleMode()){this._focusLastAccessibleToolElement(E);
}else{this._focusLastVisibleToolElement(E);
}},_focusLastAccessibleToolElement:function(F){var E=F[F.length-1].get_element();
E.parentNode.childNodes[0].focus();
},_focusLastVisibleToolElement:function(F){var E=this._getLastVisibleToolElement(F);
E.focus();
},_getLastVisibleToolElement:function(G){var F;
for(var E=G.length-1;
E<G.length;
E--){F=G[E].get_element();
if(F.style.display!=="none"){return F;
}}},_onPaste:function(H){var G=this;
var L=G.get_stripFormattingOptions();
if(L==c.StripFormattingOptions.NoneSupressCleanMessage||G._isTargetTextElement(H)){return;
}var K=G.getSelection();
var I=K.getRange();
var F=D.getClipboardAsHtml(G);
if(!F){K.selectRange(I);
return;
}var J=G.usesContentFilter("RemoveScripts"),E=D.cleanPastedContent(F,L,G.get_localization()["askwordcleaning"],J,G);
if(E){window.setTimeout(function(){K.selectRange(I);
G.pasteHtml(E,"Paste");
},5);
}return $telerik.cancelRawEvent(H);
},_onBeforePaste:function(K){var H=this,F=H.get_document(),M=H.getSelection(),O=H.get_stripFormattingOptions(),N=!(O&c.StripFormattingOptions.AllExceptNewLines||O&c.StripFormattingOptions.All);
if(H._isTargetTextElement(K)){return;
}if(N&&!D.containsHtmlAtClipboard(K)){var J=new b.ClipboardImagesProvider().getImages(K);
if(J.length>0){var G=b.DomRange.toDomRange(M.getRange(true));
G.deleteContents();
for(var I=0;
I<J.length;
I++){G.insertNode(J[I]);
}return $telerik.cancelRawEvent(K);
}}if(O==c.StripFormattingOptions.NoneSupressCleanMessage){return;
}H._pendingCutPasteCommand=null;
var L=H.createRestorePoint(),E=H.get_contentArea(),Q=D.getPasteContainer(E);
if(Q.setActive){Q.setActive();
}else{var P=F.createRange();
if(P.selectNodeContents){P.selectNodeContents(Q);
}M.selectRange(P);
}if(!H.afterPasteDelegate){H.afterPasteDelegate=Function.createDelegate(H,H._onAfterPaste);
}window.setTimeout(function(){H.afterPasteDelegate(L,Q);
},0);
},_onAfterPaste:function(I,J){var G=this;
var F=J.innerHTML;
if($telerik.isSafari){F=F.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*><br><\/div>/gi,"<br/>");
F=F.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*>(.*?)<\/div>/gi,"$1<br/>");
F=F.replace(/<br[/\s]*>$/i,"");
}D.clearPasteContainer(J);
I.select();
var H=G.usesContentFilter("RemoveScripts");
var E=D.cleanPastedContent(F,G.get_stripFormattingOptions(),G.get_localization()["askwordcleaning"],H,G);
G.pasteHtml(E,"Paste");
},_isTargetTextElement:function(E){return D.isTextElement(E.target?E.target:E.srcElement);
},_onResizeStart:function(E){var G=this.getSelectedElement();
if(G==E.srcElement){var F=this.get_localization()["resizecommand"]||"Resize";
this._pendingResizeCmd=new c.Editor.GenericCommand(F,this.get_contentWindow(),this);
}},onResizing:function(E){if($telerik.isMobileSafari&&this._contentAreaWrapper){this._contentAreaWrapper.style.height=E.height+"px";
}this.get_toolAdapter().repaint();
},_onResizeEnd:function(E){if(this._pendingResizeCmd){this.executeCommand(this._pendingResizeCmd);
}this.refreshContentZoom();
},_onDragStart:function(F){var E=this.get_contentWindow().document;
c.Editor.Utils.storeOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){if(this.get_enableImmutableElements()&&F.target&&c.Editor.Utils.isImmutableNode(F.target)){return $telerik.cancelRawEvent(F);
}return;
}var J=this.get_localization()["movecommand"]||"Move";
this._pendingMoveCommand=new c.Editor.GenericCommand(J,this.get_contentArea(),this);
this._startRange=null;
if(!F.ctrlKey&&!F.ctrlLeft){this._startRange=E.selection?E.selection.createRange():E.body.createTextRange();
if(this._startRange.length){var I=E.body.createTextRange();
var G=this._startRange.item(0);
if("IMG"==G.tagName&&"A"==G.parentNode.tagName&&G.parentNode.childNodes.length==1){G=G.parentNode;
}c.Editor.Utils.storeOriginalPathsAndAttributes(G);
try{I.moveToElementText(G);
this._startRange=I;
}catch(H){}}}},_onDragEnd:function(F){var E=this.get_contentWindow().document;
c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){return;
}if(this._pendingMoveCommand){if(this._startRange){var I=E.selection?E.selection.createRange():E.body.createTextRange();
if(I.length){var J=E.body.createTextRange();
try{J.moveToElementText(I.item(0));
}catch(H){}I=J;
}try{if(I.compareEndPoints&&0!=I.compareEndPoints("StartToStart",this._startRange)&&0!=I.compareEndPoints("EndToEnd",this._startRange)){this._startRange.execCommand("Delete",false,null);
}}catch(G){}}this.executeCommand(this._pendingMoveCommand);
this._pendingMoveCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},_onDrop:function(E){setTimeout($telerik.$.proxy(function(){c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
},this),0);
this._saveTypedContent(false,"on drop operation executing");
var F=this.get_localization()["Drop"]||"Drop external content";
this._pendingDockCommand=new c.Editor.GenericCommand(F,this.get_contentWindow(),this);
},_onDocumentDragEnd:function(E){if(!this._pendingDockCommand){return;
}this.executeCommand(this._pendingDockCommand);
this._pendingDockCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_trackChangesLoad:function(){var E=this,F=E.getToolByName("EnableTrackChangesOverride");
if(F){F.setOn(E.get_enableTrackChanges()?0:1);
}this.set_canRejectTrackChange(E.set_canAcceptTrackChange());
if(E.get_enableComments()){Telerik.Web.UI.Editor.TrackChanges.initialize(E);
E.attachInternalHandler("onkeydown",function(G){Telerik.Web.UI.Editor.TrackChanges.checkInsertionPoint(E.getSelectedElement(),E);
});
}}};
a.registerControlProperties(c.RadEditor,{ajaxSpellCheckScriptReference:"",spellAllowAddCustom:true,spellCheckJSON:{},enableUndoRedo:true,headerToolsToolAdapter:null,toolAdapter:null,fullPage:null,dialogOpener:null,ribbonBar:null,links:[],colors:["","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffffff","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#f2f2f2","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#d8d8d8","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#92cddc","#fac08f","#bfbfbf","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#31859b","#e36c09","#a5a5a5","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#205867","#974806","#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"],fontNames:["Arial","Courier New","Garamond","Georgia","MS Sans Serif","Segoe UI","Tahoma","Times New Roman","Verdana"],fontSizes:[1,2,3,4,5,6,7],symbols:["&#8364;","&#162;","&#163;","&#165;","&#164;","&#169;","&#174;","&#8482;","&#177;","&ne;","&#8776;","&#8804;","&#8805;","&#247;","&#215;","&#8734;","&#189;","&#188;","&#190;","&#178;","&#179;","&#8240;","&#182;","&#167;","&#945;","&#946;","&#916;","&#181;","&#937;","&#8721;","&#216;","&ang;","&#186;","&#171;","&raquo;","&#183;","&#8226;","&#8224;","&#8225;","&#402;"],realFontSizes:["8px","9px","10px","11px","12px","13px","14px","16px","18px","20px","22px","24px","26px","28px","32px","36px","48px","72px"],snippets:[],cssClasses:[],cssFiles:[],languages:[],paragraphs:[["<p>","Normal"],["<h1>","<h1>Heading 1</h1>"],["<h2>","<h2>Heading 2</h2>"],["<h3>","<h3>Heading 3</h3>"],["<h4>","<h4>Heading 4</h4>"],["<h5>","<h5>Heading 5</h5>"],["<h6>","<h6>Heading 6</h6>"],["<dir>","<dir>Directory List</dir>"],["<menu>","<menu>Menu List</menu>"],["<pre>","<pre>Formatted</pre>"],["<address>","<address>Address</address>"]],formatSets:[],toolsWidth:null,maxTextLength:null,maxHtmlLength:null,toolProviderID:null,autoResizeHeight:false,toolbarMode:c.EditorToolbarMode.Default,editModes:c.EditModes.All,stripFormattingOptions:c.StripFormattingOptions.None,contentFilters:c.EditorFilters.DefaultFilters,newLineMode:c.EditorNewLineModes.P,contentAreaCssFile:"",tableLayoutCssFile:"",mozillaFlashOverlayImage:"FlashManager.gif",toolAdapterType:"",headerToolsToolAdapterType:"",enableResize:true,headerToolsJSON:[],toolJSON:[],modulesJSON:[],contextMenusJSON:[],skin:"Default",language:"en-us",contentWindow:null,document:null,contentArea:null,contentAreaMode:c.EditorContentAreaMode.Iframe,isInAccessibleMode:false,enableAriaSupport:false,enableComments:false,enableTrackChanges:false,emptyMessage:"",isSkinTouch:false,currentFormatting:null,editType:k.Normal,findReplaceOverlay:null});
a.registerControlEvents(c.RadEditor,["firstShow","pasteHtml","editReady","submit","commandExecuted","commandExecuting","selectionChange","domChange","init","load","modeChange","toggleScreenMode","spellCheckLoaded","pasteDom","pasteBlockElement","orientationChange",o]);
c.RadEditor.registerClass("Telerik.Web.UI.RadEditor",c.RadWebControl);
b.OrientationEventArgs=function(E){b.OrientationEventArgs.initializeBase(this);
this._orientation=E;
};
b.OrientationEventArgs.prototype={get_orientation:function(){return this._orientation;
}};
b.OrientationEventArgs.registerClass("Telerik.Web.UI.Editor.OrientationEventArgs",Sys.EventArgs);
b.DomRangeEventArgs=function(E){b.DomRangeEventArgs.initializeBase(this);
this._range=E;
};
b.DomRangeEventArgs.prototype={get_range:function(){return this._range;
}};
b.DomRangeEventArgs.registerClass("Telerik.Web.UI.Editor.DomRangeEventArgs",Sys.EventArgs);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=Telerik.Web.UI;
a.AccessibleRadEditorBase=function(c){c.set_useClassicDialogs(true);
c.removeShortCut("InsertTab");
c.addShortCut("<h2>","ALT+2");
c.addShortCut("<h3>","ALT+3");
c.addShortCut("<h4>","ALT+4");
c.addShortCut("<h5>","ALT+5");
c.addShortCut("<p>","CTRL+SHIFT+C");
c.addShortCut("TableWizard","CTRL+SHIFT+T");
this.makeAccessibleTools(c);
var b=c.get_toolAdapter();
b.setFocus=function(){var e=$telerik.getElementByClassName(c.get_element(),"reToolbarWrapper","DIV");
if(e){var d=e.getElementsByTagName("INPUT")[0];
window.setTimeout(function(){if(d&&d.focus){d.focus();
}},100);
return false;
}};
c.add_commandExecuting(Function.createDelegate(this,this.editorCommandExecuting));
};
a.AccessibleRadEditorBase.prototype={editorCommandExecuting:function(e,b){if(!b||!b.get_commandName){return;
}var d=b.get_commandName();
if(d=="LinkManager"){if($telerik.isIE){e.get_document().execCommand("CreateLink",true,null);
}else{var j=window.prompt("Enter a URL:","http://");
if(j){e.get_document().execCommand("CreateLink",false,j);
}}e.setFocus();
b.set_cancel(true);
}else{if(d=="MoveFocusToTextEditor"){if($telerik.isIE){e.get_document().body.focus();
}else{e.setFocus();
}b.set_cancel(true);
}else{if(d=="Underline"||d=="Italic"){b.set_cancel(true);
}else{if(d=="<h2>"||d=="<h3>"||d=="<h4>"||d=="<h5>"||d=="<p>"){e.fire("FormatBlock",{value:d});
b.set_cancel(true);
}else{if(d=="InsertTable"){var h=window.prompt("Enter row and column count separated by space, followed by optional heading row index and heading column index","");
if(null!=h){var k=h.split(" ");
var i=k[0]?parseInt(k[0].trim(),10):0;
var c=k[1]?parseInt(k[1].trim(),10):0;
if(i&&c&&!isNaN(i)&&!isNaN(c)){var f=Telerik.Web.UI.Editor.Utils.createTable(i,c);
this.updateHeadingRows(f,k[2]?parseInt(k[2].trim(),10)-1:-1);
this.updateHeadingColumns(f,k[3]?parseInt(k[3].trim(),10)-1:-1);
var g=Telerik.Web.UI.Editor.Utils.getOuterHtml(f);
e.pasteHtml(g,d);
}}b.set_cancel(true);
}}}}}},makeAccessibleTools:function(c){var j=c.get_toolAdapter().get_tools();
for(var e=0;
e<j.length;
e++){var h=j[e];
var k=Object.getType(h);
var g=null;
if(k==Telerik.Web.UI.EditorSplitButton||k.inheritsFrom(Telerik.Web.UI.EditorSplitButton)){g=this.replaceSplitButton(h,c);
}else{if(k==Telerik.Web.UI.EditorDropDown||k.inheritsFrom(Telerik.Web.UI.EditorDropDown)){g=this.replaceDropdown(h,c);
}else{g=this.replaceButton(h,c);
}}if(g){var d=h.get_element();
d.parentNode.insertBefore(g,d);
d.style.display="none";
if(g.tagName.toUpperCase()=="SELECT"){var b=h.get_name();
g.id=c.get_id()+"_"+b;
var f=document.createElement("label");
f.htmlFor=g.id;
f.style.top="-10000px";
f.style.left="-10000px";
f.style.position="absolute";
f.innerHTML=h.get_text();
d.parentNode.insertBefore(f,g);
}}}if($telerik.isIE){this.fixIEFocusProblem(j[0].get_element().previousSibling,true);
this.fixIEFocusProblem(j[j.length-1].get_element().previousSibling,false);
}},fixIEFocusProblem:function(b,e){var d=b.parentNode.parentNode.getElementsByTagName("INPUT");
var f=e?d[1]:d[d.length-2];
var c=true;
b.onfocus=function(g){if(c){if(f){f.focus();
}c=false;
window.setTimeout(function(){b.focus();
window.setTimeout(function(){c=true;
},10);
},10);
}};
},replaceButton:function(f,d){var e=document.createElement("input");
e.type="button";
e.title=f.get_text();
var c=f.get_name();
var b=c;
if(c=="MoveFocusToTextEditor"){b="Custom";
}e.className="reAccessibleTool "+b;
e.onclick=function(){d.fire(c);
};
return e;
},replaceSplitButton:function(d,b){var c=d.get_name();
if(c=="Undo"||c=="Redo"||c=="InsertTable"){return this.replaceButton(d,b);
}else{alert("No implementation for converting split button "+c+" into an accessible tool");
}},replaceDropdown:function(l,b){var h=document.createElement("select");
h.style.width=l.get_element().getElementsByTagName("SPAN")[0].style.width;
var e=[];
if(l.get_name()=="FormatBlock"){e=b.get_paragraphs();
}h.options[0]=new Option("-------------------------------","");
for(var c=0;
c<e.length;
c++){var d=e[c];
var m=d[0];
var k=d[1];
var j=b.get_shortCutManager().findShortCutByName(m);
if(j){k+=" ("+j.get_shortCutString()+")";
}h.options[h.options.length]=new Option(k,m);
}var g=false;
h.onclick=function(){if(g==true){f();
}else{if(h.click){h.click();
}g=true;
}};
h.onkeydown=function(i){if(!i){i=window.event;
}if(i.keyCode==13){f();
}else{return true;
}};
function f(){g=false;
var i=h[h.selectedIndex].value;
if(i){b.fire("FormatBlock",{value:i});
}h.selectedIndex=0;
}return h;
},updateHeadingRows:function(h,b){if(isNaN(b)||b<0){return;
}var k=h.getElementsByTagName("THEAD")[0];
if(!k){k=h.createTHead();
}for(var c=0;
c<=b;
c++){var g=h.rows[0];
var f=k.insertRow(-1);
for(var d=0;
d<g.cells.length;
d++){var e=h.ownerDocument.createElement(c==b?"TH":"TD");
f.insertBefore(e,null);
}h.deleteRow(h.rows.length-1);
}},updateHeadingColumns:function(h,c){if(isNaN(c)||c<0){return;
}for(var f=0;
f<h.tBodies.length;
f++){var l=h.tBodies[f];
for(var d=0;
d<l.rows.length;
d++){var g=l.rows[d];
for(var e=0;
e<g.cells.length;
e++){var b=e==c?"TH":"TD";
this.changeCellType(g.cells[e],b);
}}}},changeCellType:function(b,d){if(b.tagName.toUpperCase()!=d.toUpperCase()){var c=b.ownerDocument.createElement(d.toUpperCase());
b.parentNode.replaceChild(c,b);
}}};
a.AccessibleRadEditor=function(b){a.AccessibleRadEditor.initializeBase(this,[b]);
};
a.AccessibleRadEditor.prototype={initialize:function(){a.AccessibleRadEditor.callBaseMethod(this,"initialize");
},dispose:function(){a.AccessibleRadEditor.callBaseMethod(this,"dispose");
}};
a.AccessibleRadEditor.registerClass("Telerik.Web.UI.AccessibleRadEditor",a.RadEditor);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,g,f){function d(j){var i=j.startContainer||(j.length?j.item(0):(j.commonParentElement?j.commonParentElement():j.parentElement()));
return i.nodeType==9?i:i.ownerDocument;
}function h(i){return i.defaultView||i.parentWindow;
}function e(j){if(!j){j=window;
}var i=j.document;
if(j.getSelection||i.getSelection){return j.getSelection()||i.getSelection();
}else{return null;
}}function c(i){var j=e();
return j?i.createRange():i.selection?(i.selection.type=="None"?i.body.createTextRange():i.selection.createRange()):null;
}b.DomRange=function(j,i){this.options=a.extend({preventCalculateEdges:false},i||{});
this.range=j;
this._initialCalculateEdges();
};
b.DomRange.START_TO_START=0;
b.DomRange.START_TO_END=1;
b.DomRange.END_TO_END=2;
b.DomRange.END_TO_START=3;
b.DomRange.toDomRange=function(i){return(!i||b.DomRange.isInstanceOfType(i))?i:new b.DomRange(i);
};
b.DomRange.createRange=function(i){return new b.DomRange(c(i));
};
b.DomRange.rangeFromWindow=function(l){if(!l){return null;
}var i=l.document;
var k=e(l);
if(k){if(k.rangeCount<1){return null;
}var j;
if(k.getRangeAt){j=k.getRangeAt(0);
}else{j=i.createRange();
j.setStart(k.anchorNode,k.anchorOffset);
j.setEnd(k.focusNode,k.focusOffset);
}return new b.DomRange(j);
}else{if(i.selection){return new b.DomRange(i.selection.createRange());
}}return null;
};
b.DomRange.prototype={selectNodeContents:function(i){if(this.range.length){this.range.addElement(i);
}else{this.setEnd(i,i[i.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(i,0);
}},selectNode:function(i){this.setStartBefore(i);
this.setEndAfter(i);
},setStart:function(i,j){this.startContainer=i;
this.startOffset=j;
this._calculateRangeProperties();
},setEnd:function(i,j){this.endContainer=i;
this.endOffset=j;
this._calculateRangeProperties();
},setStartBefore:function(i){this.setStart(i.parentNode,g.findNodeIndex(i));
},setStartAfter:function(i){this.setStart(i.parentNode,g.findNodeIndex(i)+1);
},setEndBefore:function(i){this.setEnd(i.parentNode,g.findNodeIndex(i));
},setEndAfter:function(i){this.setEnd(i.parentNode,g.findNodeIndex(i)+1);
},insertNode:function(m){var i=this._updateBrowserRange();
if(i.insertNode){this.range.insertNode(m);
}else{if(i.pasteHTML){var j=d(i);
i.collapse(true);
i.pasteHTML("<span id='__insertNodeBefore'>a</span><span id='__insertNodeAfter'>b</span>");
var l=a("span[id=__insertNodeBefore]",j)[0];
var k=a("span[id=__insertNodeAfter]",j)[0];
k.parentNode.insertBefore(m,k);
k.parentNode.removeChild(k);
l.parentNode.removeChild(l);
}}if(g.isTextNode(this.startContainer)){this.endOffset++;
}if(m.parentNode==this.endContainer){this.endOffset++;
}},extractContents:function(){var i=this._updateBrowserRange();
if(i.extractContents){return i.extractContents();
}else{var k=document;
var l=k.createDocumentFragment();
var j=k.createElement("div");
j.innerHTML=this.getHtml();
while(j.childNodes.length){l.appendChild(j.firstChild);
}i.pasteHTML("");
return l;
}},deleteContents:function(){if(this.range.deleteContents){var i=this._updateBrowserRange();
i.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){var i=this._updateBrowserRange();
if($telerik.isIE&&i.length){var k=this.cloneControlRange(i);
if(k){return new b.DomRange(k,this.options);
}}var j=null;
var l=this._cloneBrowserRange();
if(l){j=new b.DomRange(l,this.options);
j.setStart(this.startContainer,this.startOffset);
j.setEnd(this.endContainer,this.endOffset);
}return j;
},_cloneBrowserRange:function(){if(this.range.cloneRange){return this.range.cloneRange();
}else{if(this.range.duplicate){return this.range.duplicate();
}else{if($telerik.isIE&&this.range.length){return this.cloneControlRange(this.range);
}}}return null;
},cloneControlRange:function(k){var n=k.length;
if(n){var m=k.item(0);
var j=m.ownerDocument.body;
k=j.createControlRange();
for(var l=0;
l<n;
l++){k.addElement(this.range.item(l));
}return k;
}return null;
},compareBoundaryPoints:function(j,l){var i=this._updateBrowserRange();
if(i.compareBoundaryPoints){var k=i.compareBoundaryPoints(j,l.getBrowserRange());
return k;
}else{if(i.compareEndPoints){return i.compareEndPoints(this._pointPairToCompare(j),l.getBrowserRange());
}else{return 0;
}}},collapse:function(i){if(i){this.endContainer=this.startContainer;
this.endOffset=this.startOffset;
}else{this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}this._calculateRangeProperties();
},isCollapsed:function(){return this.collapsed;
},surroundContents:function(j){var i=this._updateBrowserRange();
if(i.surroundContents){j.appendChild(i.extractContents());
i.insertNode(j);
}else{j.innerHTML=i.htmlText;
i.pasteHTML(j.outerHTML);
}},toString:function(){var i=this._updateBrowserRange();
if(i.text!=f){return i.text;
}else{if(i.toString){return i.toString();
}else{return"";
}}},inRange:function(j){var i=this._updateBrowserRange();
if(i.inRange){return i.inRange(j.getBrowserRange());
}else{var l=this.compareBoundaryPoints(b.DomRange.START_TO_START,j);
var k=this.compareBoundaryPoints(b.DomRange.END_TO_END,j);
return l<1&&k>-1;
}},getBrowserRange:function(){return this._updateBrowserRange();
},getParentElement:function(){return this.commonAncestorContainer||this._getBrowserRangeParent();
},getText:function(){return this.toString();
},getHtml:function(){var i=this._updateBrowserRange();
if(i.cloneContents){var k=i.cloneContents();
var j=k.ownerDocument.createElement("div");
j.appendChild(k);
return j.innerHTML;
}else{if(i.length){return i.item(0).outerHTML;
}else{return i.htmlText||"";
}}},pasteHTML:function(l){var i=this._updateBrowserRange();
if(i.pasteHTML){i.pasteHTML(l);
}else{if(i.extractContents){var j=i.extractContents().ownerDocument;
var k=j.createElement("div");
k.innerHTML=l;
while(k.childNodes.length){i.insertNode(k.firstChild);
}}}},setCursorInEmptyNode:function(j){j.innerHTML="&#x200b;";
this.setStart(j,0);
try{this.setEnd(j,0);
}catch(i){this.setEnd(j,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(j);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){j.innerHTML="";
}}},moveStart:function(o,j){if(this.range.moveStart){return this.range.moveStart(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(true);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setStart(l.startContainer,l.startOffset);
i.select();
return m;
}else{return 0;
}}},moveEnd:function(o,j){if(this.range.moveEnd){return this.range.moveEnd(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(false);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setEnd(l.endContainer,l.endOffset);
i.select();
return m;
}else{return 0;
}}},moveToElementText:function(l){var m=this.range;
var i=d(m);
var o=this._createTempNode(i);
var k=this._createTempNode(i);
var n=m.duplicate();
var j=m.duplicate();
l.insertBefore(o,l.firstChild);
l.appendChild(k);
n.moveToElementText(o);
j.moveToElementText(k);
m.setEndPoint("EndToEnd",j);
m.setEndPoint("StartToEnd",n);
l.removeChild(o);
l.removeChild(k);
},snapToRange:function(i,j){switch(i){case b.DomRange.START_TO_START:this.setStart(j.startContainer,j.startOffset);
break;
case b.DomRange.START_TO_END:this.setStart(j.endContainer,j.endOffset);
break;
case b.DomRange.END_TO_END:this.setEnd(j.endContainer,j.endOffset);
break;
case b.DomRange.END_TO_START:this.setEnd(j.startContainer,j.startOffset);
break;
}},select:function(){var i=this._updateBrowserRange();
if(i.select){try{i.select();
}catch(j){}}else{var k=this.clear(i);
if(k){k.addRange(i);
}}},clear:function(i){var k=i||this.range;
var j=d(k);
var m=h(j);
if(m.getSelection||j.getSelection){var l=m.getSelection?m.getSelection():j.getSelection();
l.removeAllRanges();
return l;
}},_pointPairToCompare:function(i){return b.DomRange.START_TO_START==i?"StartToStart":b.DomRange.START_TO_END==i?"EndToStart":b.DomRange.END_TO_END==i?"EndToEnd":b.DomRange.END_TO_START==i?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(o,p,m){var k=d(this.range);
var r=k.body.createTextRange();
if(g.isTextNode(o)){var q=this._createTempNode(k);
o.parentNode.insertBefore(q,o);
this._selectTempNode(r,q);
r.moveStart("character",p);
}else{var j=o.childNodes;
if(p<j.length){var i=j[p];
if(g.isTextNode(i)){var s=this._createTempNode(k);
o.insertBefore(s,i);
this._selectTempNode(r,s);
}else{r.moveToElementText(j[p]);
}}else{if(p==j.length){var n=j.length==0;
try{if(n){o.innerHTML="a";
}}catch(l){n=false;
}r.moveToElementText(o);
r.collapse(false);
if(n){o.innerHTML="";
}}}}return r;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&g.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this._isBrowserRangeCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(g.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var i=this.startContainer,j;
while(i&&!(j=i.nextSibling)){i=i.parentNode;
}if(i&&j){this.startContainer=j;
this.startOffset=0;
}}}this.commonAncestorContainer=g.findCommonAncestor(this.startContainer,this.endContainer);
},_snapToSibling:function(i){var j=i=="nextSibling";
var k=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=k[i]?g.findNodeIndex(!j?k:k[i]):(j?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_isControlRange:function(){return !!this.range.length;
},_updateBrowserRange:function(){if(this._isControlRange()||g.isTag(this.startContainer,"textarea")){return this.range;
}this._updateBrowserRangeStart();
this._updateBrowserRangeEnd();
this._updateBrowserRangeStart();
return this.range;
},_updateBrowserRangeStart:function(){var i=this.startContainer;
var j=this.startOffset;
if(this.range.setStart){this.range.setStart(i,j);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(i,j));
}},_updateBrowserRangeEnd:function(){var i=this.endContainer;
var j=this.endOffset;
if(this.range.setEnd){this.range.setEnd(i,j);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(i,j,true));
}},_initialCalculateEdges:function(i){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,i);
this._calculateEdge(false,i);
this._calculateRangeProperties();
},_calculateEdges:function(i){this._updateBrowserRange();
this._initialCalculateEdges(i);
},_calculateEdge:function(s,x){var z=this.range;
var q=this._isBrowserRangeCollapsed();
var l=d(z);
var j=s?"startContainer":"endContainer";
var u=s?"startOffset":"endOffset";
var m=z[j];
var n=z[u]||0;
if(!m){if(z.length){var t=z.item(0);
m=t.parentNode;
n=g.findNodeIndex(t)+(s?0:1);
}else{var A,o;
var k=z.duplicate();
k.collapse(s);
var w=k.parentElement(),r=w.childNodes.length==0;
if(!g.canHaveChildren(w)||g.isTag(w,"textarea")){m=w;
}else{A=this._createTempNode(l);
o=s?"StartToStart":"StartToEnd";
var i=this._traverseToEdgeNode(o,w,k,A,0);
if(!s&&i==0){i=this._traverseToEdgeNode(o,w,k,A,-1);
m=(i==-1?A.nextSibling:A);
}m=r?w:A.nextSibling;
}if(!m){if(s&&!q){w.removeChild(A);
var v=w;
while(v==w&&this._moveCursorByCharacter(k)){w=k.parentElement();
}this._traverseToEdgeNode(o,w,k,A,0);
m=A.nextSibling;
}if(!m){var y=A.previousSibling;
if(!x&&y&&g.isTextNode(y)){this[j]=y;
this[u]=y.length||y.data.length||y.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=w;
this.startOffset=g.findNodeIndex(A);
}this.endContainer=w;
this.endOffset=w[w.nodeType===1?"childNodes":"nodeValue"].length-1;
}w.removeChild(A);
return;
}}if(A){w.removeChild(A);
}k.setEndPoint(s?"EndToStart":"EndToEnd",z);
if(g.isTextNode(m)){var B=k.text,p=m.nodeValue.indexOf(B);
n=Math.max(p,0)+B.length;
}else{if(j=="startContainer"&&g.isAncestorOrSelf(m,z.parentElement())||(r&&j=="endContainer")){n=0;
}else{n=g.findNodeIndex(m);
m=m.parentNode;
}}}}this[j]=m;
this[u]=n;
},_traverseToEdgeNode:function(k,m,j,o,l){var n=this.range,i=1;
do{m.insertBefore(o,o.previousSibling);
j.moveToElementText(o);
i=j.compareEndPoints(k,n);
}while(o.previousSibling&&i>l);
return i;
},_calculateRangeProperties:function(){this.commonAncestorContainer=g.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.startContainer==this.endContainer&&this.startOffset==this.endOffset;
},_getBrowserRangeParent:function(){var i=this.range;
if(i.commonAncestorContainer){return i.commonAncestorContainer;
}else{if(i.commonParentElement){return i.commonParentElement();
}else{if(i.parentElement){return i.parentElement();
}else{if(i.length){return i.item(0).parentNode;
}else{return null;
}}}}},_isBrowserRangeCollapsed:function(){var j=this.range;
try{if(j.isCollapsed){return j.isCollapsed();
}else{if(j.collapsed!==f){return j.collapsed;
}else{if(j.length!==f){return j.length==0;
}else{if(j.text!==f){return j.text=="";
}else{return this.toString()=="";
}}}}}catch(i){return true;
}},_moveCursorByCharacter:function(i){this._storeCursorPosition(i);
i.move("character");
return this._cursorHasMoved(i);
},_storeCursorPosition:function(i){this._cursorPos=this._getCursorPos(i);
},_cursorHasMoved:function(i){var k=this._cursorPos;
var j=this._getCursorPos(i);
return j.x!=k.x||j.y!=k.y;
},_getCursorPos:function(i){return{x:i.offsetLeft,y:i.offsetTop};
},_createTempNode:function(i){var j=i.createElement("span");
j.innerHTML="&#x200b;";
return j;
},_selectTempNode:function(i,j){i.moveToElementText(j);
j.parentNode.removeChild(j);
}};
b.DomRangeMemento=function(j){var i=b.DomRange.toDomRange(j);
this.collapsed=i.isCollapsed();
if(!g.isTextNode(i.startContainer)&&i.startContainer.childNodes[i.startOffset]&&!g.isTextNode(i.startContainer.childNodes[i.startOffset])){this.startContainer=i.startContainer.childNodes[i.startOffset];
this.startOffset=false;
}else{this.startContainer=i.startContainer;
this.startOffset=i.startOffset;
}if(!g.isTextNode(i.endContainer)&&i.endContainer.childNodes[i.endOffset]&&!g.isTextNode(i.endContainer.childNodes[i.endOffset])){this.endContainer=i.endContainer.childNodes[i.endOffset];
this.endOffset=false;
}else{if(!g.isTextNode(i.endContainer)&&!g.isTag(i.endContainer,"img")&&i.endContainer.childNodes>0&&!i.endContainer.childNodes[i.endOffset]){this.endContainer=i.endContainer;
this.endOffset="outside";
}else{this.endContainer=i.endContainer;
this.endOffset=i.endOffset;
}}};
b.DomRangeMemento.prototype={restoreToRange:function(i){this.compensateOffsetInIE9();
this.restoreStart(i);
if(this.endOffset===false){i.setEndBefore(this.endContainer);
}else{if(this.endOffset=="outside"){i.setEnd(this.endContainer,Math.max(1,this.endContainer.childNodes.length-1));
}else{i.setEnd(this.endContainer,this.endOffset);
}}this.restoreStart(i);
if(this.collapsed){i.collapse();
}i.select();
},restoreStart:function(i){if(this.startOffset===false){i.setStartBefore(this.startContainer);
}else{i.setStart(this.startContainer,this.startOffset);
}},compensateOffsetInIE9:function(){if(!$telerik.isIE9){return;
}if(this.beginsWithWhitespace(this.startContainer)){this.startOffset++;
}if(this.beginsWithWhitespace(this.endContainer)){this.endOffset++;
}},beginsWithWhitespace:function(i){return g.isTextNode(i)&&/^\s/.test(i.nodeValue);
}};
})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,g,f){function d(j){var i=j.startContainer||(j.commonParentElement?j.commonParentElement():(j.length?j.item(0):j.parentElement()));
return i.nodeType==9?i:i.ownerDocument;
}function h(i){return i.defaultView||i.parentWindow;
}function e(j){if(!j){j=window;
}var i=j.document;
if(j.getSelection||i.getSelection){return j.getSelection()||i.getSelection();
}else{return null;
}}function c(){var i=e();
return i?document.createRange():document.selection?(document.selection.type=="None"?document.body.createTextRange():document.selection.createRange()):null;
}b.DomRangeExplicit=function(j,i){this.options=a.extend({preventCalculateEdges:false},i||{});
this.range=j;
this._calculateEdges();
};
b.DomRangeExplicit.START_TO_START=0;
b.DomRangeExplicit.START_TO_END=1;
b.DomRangeExplicit.END_TO_END=2;
b.DomRangeExplicit.END_TO_START=3;
b.DomRangeExplicit.toDomRange=function(i){return(b.DomRangeExplicit.isInstanceOfType(i))?i:new b.DomRangeExplicit(i);
};
b.DomRangeExplicit.createRange=function(i){return new b.DomRangeExplicit(c(i));
};
b.DomRangeExplicit.rangeFromWindow=function(l){if(!l){return null;
}var i=l.document;
var k=e(l);
if(k){if(k.rangeCount<1){return null;
}var j;
if(k.getRangeAt){j=k.getRangeAt(0);
}else{j=i.createRange();
j.setStart(k.anchorNode,k.anchorOffset);
j.setEnd(k.focusNode,k.focusOffset);
}return new b.DomRangeExpicit(j);
}else{if(i.selection){return new b.DomRangeExpicit(i.selection.createRange());
}}return null;
};
b.DomRangeExplicit.prototype={selectNodeContents:function(i){var j=this.range;
if(j.selectNodeContents){j.selectNodeContents(i);
}else{if(this.range.length){this.range.addElement(i);
}else{if(j.moveToElementText){this.setEnd(i,i[i.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(i,0);
}}}this._calculateEdges(true);
},selectNode:function(i){var j=this.range;
if(j.selectNode){j.selectNode(i);
}else{if(j.length){j.addElement(i);
}else{if(j.moveToElementText){j.moveToElementText(i);
}}}this._calculateEdges(true);
},setStart:function(i,j){if(this.range.setStart){this.range.setStart(i,j);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(i,j));
}this._calculateEdges();
},setEnd:function(i,j){if(this.range.setEnd){this.range.setEnd(i,j);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(i,j,true));
}this._calculateEdges();
},setStartBefore:function(i){var j=this.range;
if(j.setStartBefore){j.setStartBefore(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i));
}},setStartAfter:function(i){var j=this.range;
if(j.setStartAfter){j.setStartAfter(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i)+1);
}},setEndBefore:function(i){var j=this.range;
if(j.setEndBefore){j.setEndBefore(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i));
}},setEndAfter:function(i){var j=this.range;
if(j.setEndAfter){j.setEndAfter(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i)+1);
}},insertNode:function(m){if(this.range.insertNode){this.range.insertNode(m);
}else{if(this.range.pasteHTML){var i=d(this.range);
var o=this.range.duplicate();
var n=this.range.duplicate();
var j=this.range.duplicate();
this.range.collapse(true);
this.range.pasteHTML("<span id='__insertNodeBefore'>a</span><span id='__insertNodeAfter'>b</span>");
var l=a("span[id=__insertNodeBefore]",i)[0];
var k=a("span[id=__insertNodeAfter]",i)[0];
k.parentNode.insertBefore(m,k);
n.moveToElementText(l);
j.moveToElementText(k);
this.range.setEndPoint("EndToEnd",o.compareEndPoints("EndToEnd",j)==1?o:j);
this.range.setEndPoint("StartToStart",o.compareEndPoints("StartToStart",n)==-1?o:n);
k.parentNode.removeChild(k);
l.parentNode.removeChild(l);
}}},extractContents:function(){if(this.range.extractContents){return this.range.extractContents();
}else{var j=document;
var k=j.createDocumentFragment();
var i=j.createElement("div");
i.innerHTML=this.getHtml();
while(i.childNodes.length){k.appendChild(i.firstChild);
}this.range.pasteHTML("");
return k;
}},deleteContents:function(){var i=this.range;
if(i.deleteContents){i.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){if(this.range.cloneRange){return new b.DomRangeExplicit(this.range.cloneRange(),this.options);
}else{if(this.range.duplicate){return new b.DomRangeExplicit(this.range.duplicate(),this.options);
}else{if($telerik.isIE&&this.range.length){var i=this.cloneControlRange(this.range);
if(i){return new b.DomRangeExplicit(i,this.options);
}}}}return null;
},cloneControlRange:function(k){var n=k.length;
if(n){var m=k.item(0);
var j=m.ownerDocument.body;
k=j.createControlRange();
for(var l=0;
l<n;
l++){k.addElement(this.range.item(l));
}return k;
}return null;
},compareBoundaryPoints:function(i,k){if(this.range.compareBoundaryPoints){var j=this.range.compareBoundaryPoints(i,k.range);
return j;
}else{if(this.range.compareEndPoints){return this.range.compareEndPoints(this._pointPairToCompare(i),k.range);
}else{return 0;
}}},collapse:function(i){this.range.collapse(i);
this._calculateEdges();
},isCollapsed:function(){var i=this.range;
if(i.isCollapsed){return i.isCollapsed();
}else{if(i.collapsed!=f){return i.collapsed;
}else{if(i.length!=f){return i.length==0;
}else{if(i.htmlText!==f){return i.htmlText=="";
}else{return this.toString()=="";
}}}}},surroundContents:function(i){if(this.range.surroundContents){i.appendChild(this.range.extractContents());
this.range.insertNode(i);
}else{i.innerHTML=this.range.htmlText;
this.range.pasteHTML(i.outerHTML);
}},toString:function(){if(this.range.text!=f){return this.range.text;
}else{if(this.range.toString){return this.range.toString();
}else{return"";
}}},inRange:function(i){if(this.range.inRange){return this.range.inRange(i.range);
}else{var k=this.compareBoundaryPoints(b.DomRangeExplicit.START_TO_START,i);
var j=this.compareBoundaryPoints(b.DomRangeExplicit.END_TO_END,i);
return k<1&&j>-1;
}},getParentElement:function(){var i=this.range;
if(i.commonAncestorContainer){return i.commonAncestorContainer;
}else{if(i.commonParentElement){return i.commonParentElement();
}else{if(i.parentElement){return i.parentElement();
}else{if(i.length){return i.item(0).parentNode;
}else{return null;
}}}}},getText:function(){return this.toString();
},getHtml:function(){if(this.range.cloneContents){var j=this.range.cloneContents();
var i=j.ownerDocument.createElement("div");
i.appendChild(j);
return i.innerHTML;
}else{if(this.range.length){return this.range.item(0).outerHTML;
}else{return this.range.htmlText||"";
}}},pasteHTML:function(k){if(this.range.pasteHTML){this.range.pasteHTML(k);
}else{if(this.range.extractContents){var i=this.range.extractContents().ownerDocument;
var j=i.createElement("div");
j.innerHTML=k;
while(j.childNodes.length){this.range.insertNode(j.firstChild);
}}}},setCursorInEmptyNode:function(j){j.innerHTML="&#x200b;";
this.setStart(j,0);
try{this.setEnd(j,0);
}catch(i){this.setEnd(j,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(j);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){j.innerHTML="";
}}},moveStart:function(o,j){if(this.range.moveStart){return this.range.moveStart(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(true);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setStart(l.startContainer,l.startOffset);
i.select();
return m;
}else{return 0;
}}},moveEnd:function(o,j){if(this.range.moveEnd){return this.range.moveEnd(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(false);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setEnd(l.endContainer,l.endOffset);
i.select();
return m;
}else{return 0;
}}},moveToElementText:function(l){var m=this.range;
var i=d(m);
var o=this._createTempNode(i);
var k=this._createTempNode(i);
var n=m.duplicate();
var j=m.duplicate();
l.insertBefore(o,l.firstChild);
l.appendChild(k);
n.moveToElementText(o);
j.moveToElementText(k);
m.setEndPoint("EndToEnd",j);
m.setEndPoint("StartToEnd",n);
l.removeChild(o);
l.removeChild(k);
},snapToRange:function(i,j){var k=j.range;
if(this.range.setEndPoint){i=b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"StartToEnd":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"EndToStart":"";
this.range.setEndPoint(i,k);
this._calculateEdges();
}else{switch(i){case b.DomRangeExplicit.START_TO_START:this.setStart(k.startContainer,k.startOffset);
break;
case b.DomRangeExplicit.START_TO_END:this.setStart(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_END:this.setEnd(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_START:this.setEnd(k.startContainer,k.startOffset);
break;
}}},select:function(){if(this.range.select){this.range.select();
}else{var i=d(this.range);
var k=h(i);
if(k.getSelection||i.getSelection){var j=k.getSelection?k.getSelection():i.getSelection();
j.removeAllRanges();
j.addRange(this.range);
}}},_pointPairToCompare:function(i){return b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"EndToStart":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(m,n,l){var k=d(this.range);
var p=k.body.createTextRange();
if(g.isTextNode(m)){var o=this._createTempNode(k);
m.parentNode.insertBefore(o,m);
this._selectTempNode(p,o);
p.moveStart("character",n+($telerik.isIE9&&l&&/^\s/.test(m.nodeValue)?1:0));
}else{var j=m.childNodes;
if(n<j.length){var i=j[n];
if(g.isTextNode(i)){var q=this._createTempNode(k);
if(l){if(i.nextSibling){m.insertBefore(q,i.nextSibling);
}else{m.appendChild(q);
}}else{m.insertBefore(q,i);
}p.moveToElementText(q);
m.removeChild(q);
}else{p.moveToElementText(j[n]);
}}else{if(n==j.length){p.moveToElementText(m);
p.collapse(!l);
}}}return p;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&g.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this.isCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(g.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var i=this.startContainer,j;
while(i&&!(j=i.nextSibling)){i=i.parentNode;
}if(i&&j){this.startContainer=j;
this.startOffset=0;
}}}this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
},_snapToSibling:function(i){var j=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=j[i]?g.findNodeIndex(j[i]):(i=="nextSibling"?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_calculateEdges:function(i){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,i);
this._calculateEdge(false,i);
this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.isCollapsed();
},_calculateEdge:function(p,u){var w=this.range;
var o=this.isCollapsed();
var k=d(w);
var i=p?"startContainer":"endContainer";
var r=p?"startOffset":"endOffset";
var l=w[i];
var m=w[r]||0;
if(!l){if(w.length){var q=w.item(0);
l=q.parentNode;
m=g.findNodeIndex(q)+(p?0:1);
}else{var j=w.duplicate();
j.collapse(p);
var t=j.parentElement();
var x,n;
if(g.isTag(t,"br")){l=t;
}else{x=this._createTempNode(k);
n=p?"StartToStart":"StartToEnd";
do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){if(p&&!o){t.removeChild(x);
var s=t;
while(s==t&&this._moveCursorByCharacter(j)){t=j.parentElement();
}do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){var v=x.previousSibling;
if(!u&&v&&g.isTextNode(v)){this[i]=v;
this[r]=v.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=t;
this.startOffset=0;
}this.endContainer=t;
this.endOffset=t[t.nodeType===1?"childNodes":"nodeValue"].length-1;
}t.removeChild(x);
return;
}}if(x){t.removeChild(x);
}j.setEndPoint(p?"EndToStart":"EndToEnd",w);
if(g.isTextNode(l)){m=j.text.length;
}else{if(i=="startContainer"&&g.isAncestorOrSelf(l,w.parentElement())){m=0;
}else{m=g.findNodeIndex(l);
l=l.parentNode;
}}}}this[i]=l;
this[r]=m;
},_moveCursorByCharacter:function(i){this._storeCursorPosition(i);
i.move("character");
return this._cursorHasMoved(i);
},_storeCursorPosition:function(i){this._cursorPos=this._getCursorPos(i);
},_cursorHasMoved:function(i){var k=this._cursorPos;
var j=this._getCursorPos(i);
return j.x!=k.x||j.y!=k.y;
},_getCursorPos:function(i){return{x:i.offsetLeft,y:i.offsetTop};
},_createTempNode:function(i){var j=i.createElement("span");
j.innerHTML="&#x200b;";
return j;
},_selectTempNode:function(i,j){i.moveToElementText(j);
j.parentNode.removeChild(j);
}};
})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=function(e){this.top=e;
};
c.prototype={extractBefore:function(e){return this._traverseSide({edge:e,next:function(f){return f.previousSibling;
},insert:function(f,g){f.insertBefore(g,f.firstChild);
}});
},extractAfter:function(e){return this._traverseSide({edge:e,next:function(f){return f.nextSibling;
},insert:function(f,g){f.appendChild(g);
}});
},_traverseSide:function(j){var l=this.top,g=l.ownerDocument,h=g.createDocumentFragment(),f=j.edge;
do{var k=f.parentNode;
f=j.next(f);
while(f){var i=j.next(f);
j.insert(h,f);
f=i;
}if(k!=l){var e=k.cloneNode(false);
e.innerHTML="";
e.appendChild(h);
j.insert(h,e);
}f=k;
}while(f&&f!=l);
return h;
}};
b.DomTreeExtractor=c;
b.DomTreeExtractor.registerClass("Telerik.Web.UI.Editor.DomTreeExtractor");
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,m){var n=b.Utils;
var c=n.canHaveChildren;
var l=n.isTextNode;
b.RangeEdges=function(){};
b.RangeEdges.startNode=function(o){if(k(o)){return j(o);
}};
b.RangeEdges.endNode=function(o){if(k(o)){return o.isCollapsed()?j(o):e(o);
}};
b.RangeEdges.commonNode=function(p){if(k(p)){var q=b.RangeEdges.startNode(p);
if(p.isCollapsed()){return q;
}var o=b.RangeEdges.endNode(p);
return n.findCommonAncestor(q,o);
}};
var j=function(q){var o=q.startContainer;
var p=q.startOffset;
if(!q.isCollapsed()&&l(o)&&o.length==p){o=h(o);
}o=d(o,p)||o;
return f(o);
};
var e=function(s){var q=s.endContainer;
var r=s.endOffset;
if(s.startOffset+1==s.endOffset&&s.startContainer==s.endContainer){q=d(q,s.startOffset)||q;
return g(q);
}if(l(q)&&r!=0){return q;
}var o=d(q,r);
if(o&&!c(o)&&o!=j(s)){return g(i(o));
}q=o||q;
if(!c(q)&&!(l(q)&&r==0)){return q;
}else{if(q.lastChild){var p=g(q);
if(p==j(s)){return p;
}}}if((l(q)&&r==0)||(q!=s.endContainer&&r!=0)){q=i(q);
}return g(q);
};
var d=function(q,o){if(c(q)){var p=q.childNodes;
return p.length==o?p[o-1]:p[o];
}};
var f=function(o){while(o.firstChild){o=o.firstChild;
}return o;
};
var g=function(o){while(o.lastChild){o=o.lastChild;
}return o;
};
var i=function(p){var o=false;
while(p.previousSibling&&n.isCompletelyEmptyDom(p.previousSibling)){p=p.previousSibling;
if(!l(p)&&!c(p)){return p;
}o=true;
}if(o&&p){return p;
}while(!p.previousSibling){p=p.parentNode;
}return p.previousSibling;
};
var h=function(o){while(!o.nextSibling){o=o.parentNode;
}return o.nextSibling;
};
var k=function(o){return o&&b.DomRange.isInstanceOfType(o);
};
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
Type.registerNamespace("Telerik.Web.UI.Editor.FragmentsCondition");
(function(a,b,e,d){var c=/^[\s\xA0]*$/;
b.RangeFragmentsTraverser=function(f){this.iterator=new b.RangeIterator(f);
this.range=this.iterator.range;
this.traversedFragments=[];
this.nodesToTraverse=[];
};
b.RangeFragmentsTraverser.prototype={traverseFragments:function(f){var g=this.nodesToTraverse;
this.iterator.iterate(function(h){g.push(h);
});
if(g.length==0){return;
}this.normalizeRangeEdgesForTables(f);
this.splitRangeEdges();
this.clearEmptyTextNodes(this.nodesToTraverse);
while(this.nodesToTraverse.length){this.collectNode(this.nodesToTraverse.shift(),f);
}this.removeDuplicatedEnd();
},collectNode:function(i,f){while(i&&this.isInRange(i)){if(!this.isSuitable(i,f)){this.removeTraversedNode(i);
if(i.firstChild){this.collectNode(i.firstChild,f);
}i=i.nextSibling;
continue;
}var g=new b.FragmentContainer();
var h=i;
while(h&&this.isSuitable(h,f)){if(f(h)){this.removeTraversedNode(h);
}i=h;
h=i.nextSibling;
g.addNode(i);
}this.storeFragment(g);
i=i?i.nextSibling:null;
}},storeFragment:function(f){if(f.nodes.length){this.traversedFragments.push(f);
}},isSuitable:function(g,f){return f(g)&&this.isInRange(g);
},isInRange:function(g){var h=this.range.cloneRange();
if(h.range.length){for(var f=0;
f<h.range.length;
f++){if(h.range.item(f)==g){return true;
}}return false;
}h.selectNodeContents(g);
return this.range.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.END_TO_END,h)>-1;
},removeTraversedNode:function(f){var h=this.nodesToTraverse;
var g=a.inArray(f,h);
if(g!=-1){h.splice(g,1);
}},trimNodesToTraverse:function(){var g=this.nodesToTraverse;
for(var f=0;
f<g.length;
f++){if(e.isTextNode(g[f])){e.trimExtraWhitespace(g[f]);
}}},normalizeRangeEdgesForTables:function(f){var j=this.nodesToTraverse;
var i=j[j.length-1];
var l=function(m){return e.isTag(i,m);
};
var h=l("tr");
var g=l("table")||l("thead")||l("tbody");
var k=!f(i);
if(g&&k){this.substitudeLastNodeWithChildren(i.getElementsByTagName("tr"));
this.normalizeRangeEdgesForTables(f);
}if(h&&k){this.substitudeLastNodeWithChildren(i.childNodes);
}},substitudeLastNodeWithChildren:function(f){var h=this.nodesToTraverse;
h.pop();
for(var g=0;
g<f.length;
g++){h.push(f[g]);
}},splitRangeEdges:function(){var l=this.nodesToTraverse;
var m=l[0];
var n=$telerik.$(m.parentNode);
var f=l[l.length-1];
var g=$telerik.$(f.parentNode);
var j=this.splitRangeEdge(f,false);
var k=this.splitRangeEdge(m,true);
if(l.length&&k!=l[0]){var i=a.inArray(k,l);
if(i>0){while(a.inArray(k,l)){l.shift();
}}else{l[0]=k;
}}var h=a.inArray(j,l);
if(h!=-1){while(l[l.length-1]!=j){l.pop();
}}else{if(!h){l[l.length-1]=j;
}}this.cleanUpAfterSplit(n,g);
this.removeRedundantStart(l,k);
},splitRangeEdge:function(g,j){if(!this.isContainedInRange(g,j)){var k=a(g.parentNode);
var h=this.range.cloneRange();
h.selectNodeContents(g);
h.snapToRange(j?b.DomRange.START_TO_START:b.DomRange.END_TO_END,this.range);
var l=null;
if(j&&$telerik.isIE9&&e.isTextNode(g)){l=g.nodeValue.replace(h.toString(),"");
}h.collapse(j);
var f=g.nodeType==9?g:g.ownerDocument;
var m=f.createElement("span");
m.className="__telerik_marker __telerik_marker_"+(j?"start":"end");
h.insertNode(m);
var i=k.find(".__telerik_marker_"+(j?"start":"end"))[0];
if(i===d){i=k.next().find(".__telerik_marker_"+(j?"start":"end"))[0];
if(i){k.append(i);
}}var n=i[j?"nextSibling":"previousSibling"];
if(l&&c.test(l)){i.previousSibling.nodeValue=l;
}return n;
}return g;
},removeRedundantStart:function(g,h){try{while(!!g.length&&!this.isContainedInRange(g[0])){g.shift();
}}catch(f){}finally{if(g.length&&g[0]==h){g[0]=h;
}else{g.unshift(h);
}}},cleanUpAfterSplit:function(k,g){var h=this.nodesToTraverse,i=this.range,j=k.find(".__telerik_marker_start")[0],f=g.find(".__telerik_marker_end")[0];
if(j){this._removeEmptyTextAroundMarker(j);
i.setStartBefore(j);
j.parentNode.removeChild(j);
}if(f){this._removeEmptyTextAroundMarker(f);
i.setEndBefore(f);
f.parentNode.removeChild(f);
}else{this.range.setEndAfter(h[h.length-1]);
}if(j||f){i.select();
}},_removeEmptyTextAroundMarker:function(f){this._removeEmptyText(f.previousSibling);
this._removeEmptyText(f.nextSibling);
},_removeEmptyText:function(f){if(f&&e.isTextNode(f)&&f.nodeValue.length===0){f.parentNode.removeChild(f);
}},removeDuplicatedEnd:function(){var g=this.traversedFragments;
if(g.length<2){return;
}var f=g.length,h=g[f-1],i=h.nodes[0],j=g[f-2],k=j.nodes[j.nodes.length-1];
while(e.isAncestorOf(k,i)){h.removeNodeAt(0);
if(h.nodes.length==0){g.pop();
break;
}i=h.nodes[0];
}},isContainedInRange:function(h,g){var j=this.range;
var i=j.cloneRange();
i.selectNodeContents(h);
var k=j.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.START_TO_START,i)<1;
var f=j.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.END_TO_END,i)>-1;
return(g===d)?k&&f:g?k:f;
},clearEmptyTextNodes:function(h){for(var g=0;
g<h.length;
){var j=h[g];
if(e.isTextNode(j)&&j.nodeValue==""){var f=h.splice(g,1)[0];
if(f.parentNode){f.parentNode.removeChild(f);
}}else{g++;
}}}};
b.RangeFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.RangeFragmentsTraverser");
b.BlockFragmentsTraverser=function(f){this.options=a.extend({breakCondition:b.FragmentsCondition.isInlineNode},f||{});
this.currentFragment=new b.FragmentContainer();
};
b.BlockFragmentsTraverser.prototype={traverseFragment:function(g,h){if(!h){h=this.options.breakCondition;
}var f=this.currentFragment;
this.traverseLeft(g,h);
f.addNode(g);
this.traverseRight(g,h);
return f;
},traverseLeft:function(i,j){var f=this.currentFragment;
var g=i;
var h=[];
while((g=g.previousSibling)&&j(g)){h.push(g);
}while(h.length){f.addNode(h.pop());
}},traverseRight:function(h,i){var f=this.currentFragment;
var g=h;
while((g=g.nextSibling)&&i(g)){f.addNode(g);
}}};
b.BlockFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.BlockFragmentsTraverser");
b.FragmentsCondition.isInlineNode=function(f){return f.nodeType==3||!e.isBlockElement(f);
};
b.FragmentsCondition.isInlineTag=function(f){return function(g){return b.FragmentsCondition.isInlineNode(g)&&!e.isTag(g,f);
};
};
b.FragmentsCondition.isInlineNodeForIE8=function(f){return f.nodeType==3||!e.isBlockElementOrNewLine(f);
};
b.FragmentsCondition.inlineNotLink=b.FragmentsCondition.isInlineTag("a");
b.FragmentsCondition.inlineNotLinkForIE8=function(f){return b.FragmentsCondition.isInlineNodeForIE8(f)&&!e.isTag(f,"a");
};
b.FragmentContainer=function(){this.nodes=[];
};
b.FragmentContainer.prototype={addNode:function(f){this.nodes.push(f);
},addAll:function(g){for(var f=0;
f<g.length;
f++){this.addNode(g[f]);
}},addNodeAt:function(g,f){this.nodes.splice(f,0,g);
},removeNodeAt:function(f){this.nodes.splice(f,1);
},removeNode:function(g){var f=this.indexOf(g);
if(f!=-1){this.removeNodeAt(f);
}},contains:function(f){return this.indexOf(f)!=-1;
},indexOf:function(f){return a.inArray(f,this.nodes);
},getParent:function(){return this.nodes.length?this.nodes[0].parentNode:null;
},appendTo:function(h){var j=this.nodes,f,g;
for(f=0,g=j.length;
f<g;
f++){h.appendChild(j[f]);
}},insertBefore:function(g){var j=g.parentNode;
var h=this.nodes;
for(var f=0;
f<h.length;
f++){j.insertBefore(h[f],g);
}},insertBeforeFirst:function(f){if(!this.nodes.length){return;
}var g=this.getParent();
g.insertBefore(f,this.nodes[0]);
},appendNodeAfter:function(g){if(!this.nodes.length){return;
}var h=this.getParent();
var f=this.nodes[this.nodes.length-1];
h.insertBefore(g,f.nextSibling);
},remove:function(){var j=this.getParent();
if(!j){return;
}var h=this.nodes;
for(var f=0,g=h.length;
f<g;
f++){j.removeChild(h[f]);
}},clear:function(){this.nodes.length=0;
},isEmpty:function(f){return !e.some(this.nodes,function(g){return(e.isTag(g,"img")||!e.isWhitespaceNode(g))&&(!f||!f(g));
});
},all:function(f){return e.every(this.nodes,f);
},any:function(f){return e.some(this.nodes,f);
}};
b.FragmentContainer.registerClass("Telerik.Web.UI.Editor.FragmentContainer");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,h){var i=b.Utils;
var c=Telerik.Web.Browser;
var d=c.ie&&c.version<9;
var g=function(){return true;
};
var e=function(k){return i.isTextNode(k)&&/^[\u200b]+$/.test(k.nodeValue);
};
var j="\u200b";
var f="_reSelectionEdge";
b.RangeHolder=function(){};
b.RangeHolder.prototype={markRangeEdges:function(o){var q=this;
var p=q._createMarker(o.startContainer.ownerDocument),k;
if(o.isCollapsed()){q._insertNode(p,o);
}else{var m=q._traverseFragments(o);
var l=m[0],n=m[m.length-1];
k=p.cloneNode(true);
l.insertBeforeFirst(p);
l.addNodeAt(p,0);
n.appendNodeAfter(k);
n.addNode(k);
}},selectWithinMarkers:function(n){if(!n||!n.length){return;
}var p=n[0],m=n[1],l=p.ownerDocument,o=b.DomRange.rangeFromWindow(l.defaultView)||b.DomRange.createRange(l);
if(!m||m.previousSibling===p){a(m).remove();
this._restoreCollapsedRange(o,p);
}else{var k=new b.Consolidator();
if(!k.normalizeTextEdge(p,o,true)){o.setStartAfter(p);
}if(!k.normalizeTextEdge(m,o,false)){o.setEndBefore(m);
}o.select();
}a(n).remove();
},get_markerSelector:function(){return"span."+f;
},_restoreCollapsedRange:function(q,m){var o=m.parentNode;
var k=new b.Consolidator();
var p=m.previousSibling;
var n=m.nextSibling;
if(k.normalizeTextEdge(m,q)){q.collapse();
}else{if(i.isTextNode(p)){q.setEnd(p,e(p)?p.length-1:p.length);
q.collapse();
}else{if(i.isTextNode(n)||(!p&&i.canHaveChildren(n))){q.setStart(n,0);
q.collapse(true);
}else{var r=d?j+j:j;
var l=m.ownerDocument.createTextNode(r);
o.insertBefore(l,m);
q.setEnd(l,r.length-1);
q.collapse();
}}}q.select();
},_traverseFragments:function(k){var l=new b.RangeFragmentsTraverser(k);
l.traverseFragments(g);
return l.traversedFragments;
},_createMarker:function(k){var l=k.createElement("span");
l.className=f;
return l;
},_insertNode:function(l,m){var k=m.commonAncestorContainer;
if(e(k)){k.parentNode.insertBefore(l,k.nextSibling);
}else{var n=new b.Selection(k.ownerDocument.defaultView);
n.insertNode(l,m);
}}};
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeIterator=function(f,e){this.options=a.extend({normalizeEdges:$telerik.isIE&&!$telerik.isIE9Mode},e||{});
f=this.range=b.DomRange.toDomRange(f);
if(this.range.isCollapsed()){return;
}this._normalizeRangeEdges();
var g=f.commonAncestorContainer;
this._next=f.startContainer==g&&!d.isTextNode(f.startContainer)?f.startContainer.childNodes[f.startOffset]:d.findAncestorUntil(g,f.startContainer);
this._end=f.endContainer==g&&!d.isTextNode(f.endContainer)?f.endContainer.childNodes[f.endOffset]:d.findAncestorUntil(g,f.endContainer).nextSibling;
};
b.RangeIterator.prototype={iterate:function(e){var f=this.nextNode();
while(f){if(this._hasSubTree(f)){this._buildSubTraverser(f).iterate(e);
}else{e(f);
}f=this.nextNode();
}},nextNode:function(){var e=this._next;
this._next=e&&e.nextSibling!=this._end?e.nextSibling:null;
return e;
},_hasSubTree:function(e){return !d.isTextNode(e)&&d.canHaveChildren(e)&&(d.isAncestorOrSelf(e,this.range.startContainer)||d.isAncestorOrSelf(e,this.range.endContainer));
},_buildSubTraverser:function(e){var f=this.range.cloneRange();
f.selectNodeContents(e);
if(d.isAncestorOrSelf(e,this.range.startContainer)){f.setStart(this.range.startContainer,this.range.startOffset);
}if(d.isAncestorOrSelf(e,this.range.endContainer)){f.setEnd(this.range.endContainer,this.range.endOffset);
}return new b.RangeIterator(f,a.extend({},this.options));
},_normalizeRangeEdges:function(){if(this.options.normalizeEdges){this.range.normalizeEdges();
}},_collectEdgeNode:function(f,g,e){return d.isTextNode(f)||(e&&d.isTextNode(f.childNodes[g]))?f:f.childNodes[g];
}};
b.RangeIterator.registerClass("Telerik.Web.UI.Editor.RangeIterator");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeTraverser=function(e){this.iterator=new b.RangeIterator(e);
this.range=this.iterator.range;
this.traversedNodes=[];
};
b.RangeTraverser.prototype={traverse:function(){var f=this.traversedNodes;
var e=function(g){if(g.nodeType==3||g.tagName.toLowerCase()=="img"){f.push(g);
}else{g=g.firstChild;
while(g){e(g);
g=g.nextSibling;
}}};
this.iterator.iterate(e);
}};
b.RangeTraverser.registerClass("Telerik.Web.UI.Editor.RangeTraverser");
b.RangeBlockTraverser=function(f,e){this.iterator=new b.RangeIterator(f);
this.range=this.iterator.range;
this.options=a.extend({isSuitableNode:d.isBlockElement},e||{});
this.traversedNodes=[];
};
b.RangeBlockTraverser.prototype={traverse:function(i){i=i||Function.emptyFunction;
var g=this.traversedNodes;
this.iterator.iterate(function(j){g.push(j);
});
if(!g.length){var h=this.range;
var f=[d.isTextNode(h.startContainer)?h.startContainer:h.startContainer.childNodes[h.startOffset],d.isTextNode(h.endContainer)?h.endContainer:h.endContainer.childNodes[h.endOffset],h.commonAncestorContainer];
while(f.length!=0&&g.length==0){var e=f.shift();
if(e&&!i(e)){g.push(e);
}}}this.edgesToBlock(g,i);
return g;
},edgesToBlock:function(l,n){var m=this.options;
var g=m.isSuitableNode;
var j=l.length-1;
l[0]=d.getConditionalParentUntil(l[0],g,n);
l[j]=d.getConditionalParentUntil(l[j],g,n);
var e=l[0];
var h=l[l.length-1];
for(var f=1;
f<l.length-1;
f++){var k=l[f];
if(!g(k)&&(d.isAncestorOf(e,k)||d.isAncestorOf(h,k))){l.splice(f,1);
f--;
}}}};
b.RangeBlockTraverser.registerClass("Telerik.Web.UI.Editor.RangeBlockTraverser");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,o){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI,b=c.Editor,d=40,l="reIconSelected",m="reToolText",f="reTabIcon",k="reMore",e="click",j="load",g="itemSelected",i="itemsListShowing",n='<span class="reButton">	<span class="'+m+'">#titleText#</span>	<span class="'+k+'">		<span class="'+f+' reIconMore"></span>	</span></span><div style="display: none;" class="reTabChooserOverlay"> </div><ul class="reToolList reToolDropDown" style="display: none">#items#</ul>',h='<li>	<span class="'+m+'">#itemText#</span>	<span class="'+f+' #selectedIconClass#"></span></li>';
b.TabChooser=function(p){b.TabChooser.initializeBase(this,[p]);
};
b.TabChooser.prototype={initialize:function(){var p=this;
b.TabChooser.callBaseMethod(p,"initialize");
p._createUI();
p._attachEventHandlers();
p.raiseEvent(j);
},_createUI:function(){var r=this,q=r.get_items(),p=n.replace("#titleText#",q[0]||"&nbsp;").replace("#items#",r._getItemsHtml());
a(r.get_element()).html(p);
},_getItemsHtml:function(){var r=this.get_items(),p="";
for(var q=0,s=r.length;
q<s;
q++){p+=h.replace("#itemText#",r[q]).replace("#selectedIconClass#",q==0?l:"");
}return p;
},_attachEventHandlers:function(){var p=this;
p._onMoreIconClickDelegate=Function.createDelegate(p,p._onMoreIconClick);
p._itemClickDelegate=Function.createDelegate(p,p._onItemClick);
p._overlayClickDelegate=Function.createDelegate(p,p._onOverlayClick);
a(p.get_buttonElement()).on(e,p._onMoreIconClickDelegate);
a(p.get_itemsContainer()).on(e,p._itemClickDelegate);
a(p.get_overlayElement()).on(e,p._overlayClickDelegate);
},_detachEventHandlers:function(){var p=this;
a(p.get_buttonElement()).off(e,p._onMoreIconClickDelegate);
a(p.get_itemsContainer()).off(e,p._itemClickDelegate);
a(p.get_overlayElement()).off(e,p._overlayClickDelegate);
},_onMoreIconClick:function(q){$telerik.cancelRawEvent(q.originalEvent);
var p=new b.TabChooserEventArgs(this.get_itemsContainer());
this.raiseEvent(i,p);
this.showItemsList();
},_onItemClick:function(p){var s=this,q=s._getItemElement(p);
if(!s._isSelected(q)){var r=s.get_items()[a(q).index()];
s.selectTab(r);
}s.hideItemsList();
},_onOverlayClick:function(){this.hideItemsList();
},_getItemElement:function(p){var q=p.target;
if(q.nodeName!="LI"){q=q.parentNode;
}return q;
},get_listItemHeight:function(){var r=this;
if(!r._itemHeight){var q=r.get_itemsContainer();
var p=a(q).find("li:visible:first");
if(p.length>0){r._itemHeight=p.get(0).offsetHeight;
}else{p=a(h.replace("#itemText#","tmp item").replace("#selectedIconClass#","")).appendTo(q);
r._itemHeight=p.get(0).offsetHeight;
p.remove();
}}return r._itemHeight;
},_isSelected:function(p){return a("."+f,p).hasClass(l);
},selectTab:function(r){var s=this;
var q=a(s.get_itemsContainer());
var p=q.children().get(s.get_items().indexOf(r));
if(p){q.find("."+l).removeClass(l);
a(p).find("."+f).addClass(l);
s.raiseEvent(g,new b.TabChooserEventArgs(r));
}},selectContextualTab:function(r){var s=this;
var p=s._getContextualElement(r);
var q=s._getContextualTab(p)||s.get_defaultTab();
s.selectTab(q);
},_getContextualElement:function(q){var r=this._getTabsContextSelector();
var p=b.Utils.getElementParentByCondition(q,function(s){return a(s).is(r);
});
return p;
},_getTabsContextSelector:function(){var q=this;
if(!q._selector){var p=[];
Array.forEach(q.get_contexts(),function(r){p=p.concat(r);
});
q._selector=q._toJquerySelector(p);
}return q._selector;
},_getContextualTab:function(r){if(!r){return;
}var v=this;
var u=v.get_items();
var q=v.get_contexts();
var t=a(r);
for(var s=0;
s<q.length;
s++){var p=q[s];
if(t.is(v._toJquerySelector(p))){return u[s];
}}},_toJquerySelector:function(p){return p.join(",").replace(/[\,]+/g,",").replace(/^\,|\,$/g,"");
},get_buttonElement:function(){var p=this;
if(!p._moreButtonElement){p._moreButtonElement=a("."+k,p.get_element()).get(0);
}return p._moreButtonElement;
},get_textElement:function(){var p=this;
if(!p._textElement){p._textElement=a("."+m,p.get_element()).get(0);
}return p._textElement;
},get_overlayElement:function(){var p=this;
if(!p._overlayElement){p._overlayElement=a(".reTabChooserOverlay",p.get_element()).get(0);
}return p._overlayElement;
},show:function(p){var q=a(this.get_element());
q.css({position:"absolute",opacity:0,display:""});
q.stopTransition();
q.transition({opacity:1},d,"easeOut",function(){q.css("position","static");
p&&p();
});
},hide:function(p){var q=a(this.get_element());
q.stopTransition();
q.transition({opacity:0},d,"easeOut",function(){q.css("display","none");
p&&p();
});
},showItemsList:function(){var p=this;
a(p.get_itemsContainer()).show().css({top:p._calculateItemsListTopPosition(),"max-height":(p.get_listItemHeight()*p.get_maxVisibleItems())+"px"});
a(p.get_overlayElement()).show();
},_calculateItemsListTopPosition:function(){var r=this,p=r.get_element(),s=$telerik.getBounds(p).y-p.offsetTop,q=Math.min(r.get_maxVisibleItems(),a("li:visible",r.get_itemsContainer()).length);
s-=r.get_listItemHeight()*Math.floor(q/2);
return s+"px";
},hideItemsList:function(){a(this.get_itemsContainer()).hide();
a(this.get_overlayElement()).hide();
},get_itemsContainer:function(){var p=this;
if(!p._itemsContainer){p._itemsContainer=a("ul.reToolList",p.get_element()).get(0);
}return p._itemsContainer;
},itemsListIsVisible:function(){return a(this.get_itemsContainer()).is(":visible");
},get_text:function(){return a(this.get_textElement()).html();
},set_text:function(p){a(this.get_textElement()).html(p);
},dispose:function(){this._detachEventHandlers();
b.TabChooser.callBaseMethod(this,"dispose");
}};
a.registerControlProperties(b.TabChooser,{items:[],contexts:[],defaultTab:"",maxVisibleItems:6});
a.registerControlEvents(b.TabChooser,[j,i,g]);
b.TabChooser.registerClass("Telerik.Web.UI.Editor.TabChooser",c.RadWebControl);
b.TabChooserEventArgs=function(p){b.TabChooserEventArgs.initializeBase(this);
this._value=p;
};
b.TabChooserEventArgs.prototype={get_value:function(){return this._value;
},set_value:function(p){this._value=p;
}};
b.TabChooserEventArgs.registerClass("Telerik.Web.UI.Editor.TabChooserEventArgs",Sys.EventArgs);
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var b=c.Editor;
b.BaseToolAdapter=function(e){b.BaseToolAdapter.initializeBase(this,[e]);
this._tools=[];
};
b.BaseToolAdapter.prototype={initialize:function(){b.BaseToolAdapter.callBaseMethod(this,"initialize");
},attachEventHandlers:function(){},detachEventHandlers:function(){},getToolByName:function(e){return b.Utils.first(this.get_tools(),function(f){return f.get_name()===e;
});
},setToolState:function(m,g){if(!m){m=this._tools;
}var e=this.get_editor(),j=this._rangeState||c.Editor.DomRange.rangeFromWindow(e.get_contentWindow());
for(var f=0;
f<m.length;
f++){var h=m[f];
if(h.get_name){var l=h.get_name();
if(h.setState){var k=g;
if(null==k){k=e.getToolState(l,j);
}if(null!=k){h.setState(k);
}}if(h.updateValue){h.updateValue(e.getToolValue(l,j));
}}}this._rangeState=null;
},get_tools:function(){return this._tools;
},repaint:function(){},_raiseEditorEvent:function(h,i){if(!h.get_enabled()){return;
}var g=this.get_events().getHandler("toolClick");
if(g){var e=h.get_name?h.get_name():"";
var f=new c.EditorCommandEventArgs(e,h,i);
g(h,f);
}},_onEditorSelectionChange:function(f,e){this.setToolState();
},dispose:function(){var e=this;
e.detachEventHandlers();
b.BaseToolAdapter.callBaseMethod(e,"dispose");
e._tools=[];
}};
a.registerControlProperties(b.BaseToolAdapter,{editor:null,element:null});
a.registerControlEvents(b.BaseToolAdapter,["toolClick"]);
b.BaseToolAdapter.registerClass("Telerik.Web.UI.Editor.BaseToolAdapter",Sys.UI.Control);
})($telerik.$);
(function(a,v){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var j=window;
var d=j.$telerik;
var b=c.Editor;
var i=b.Utils;
var n=a.proxy;
var g=".";
var e=10;
var u="type";
var h="duration";
var m="none";
var t="toolBarAnimation";
var s="ToggleEditMode";
var o="RadEditor";
var r="reWrapper";
var q="reDropDownBody";
var p="reDropdown";
var f="div[id*='dialogOpener'].RadWindow";
var l="reInlineEditorSelected";
var k="inlineEditCompleted";
b.DefaultToolAdapter=function(w){var x=this;
b.DefaultToolAdapter.initializeBase(x,[w]);
x._editor=null;
x._toolJSON=[];
x._tools=[];
x._contextMenusEnabled=true;
x.isIE=d.isIE;
x._editorIEFirstShow=false;
x._contentAreaMode="";
x._animation={};
x._toolBarInitialShowExecuted=null;
x._inlineEditingStarted=false;
};
b.DefaultToolAdapter._visibleWrapper=null;
b.DefaultToolAdapter.prototype={initialize:function(){var y=this;
var w=y.get_editor();
var z=w.get_toolbarMode();
var x=c.EditorToolbarMode;
this._onEditorSelectionChangeDelegate=Function.createDelegate(this,this._onEditorSelectionChange);
this._onEditorModeChangeDelegate=Function.createDelegate(this,this._onEditorModeChange);
this._onToolBarClickDelegate=Function.createDelegate(this,this._onToolBarClick);
this._onToolBarKeyDownDelegate=Function.createDelegate(this,this._onToolBarKeyDown);
this._onDropDownValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this._onDropDownBeforeShowDelegate=Function.createDelegate(this,this._onDropDownBeforeShow);
this._onDropDownHideDelegate=Function.createDelegate(this,this._onDropDownHide);
this._onClientDragStartDelegate=Function.createDelegate(this,this._onClientDragStart);
y._changeToolBarVisibilityDelegate=n(y._changeToolBarVisibility,y);
y._initializeAnimation();
this._initContextMenus();
this._registerEditorHandlers();
switch(z){case x.Default:w.add_firstShow(Function.createDelegate(this,function(){this._attachToolbarJsonToHtml();
}));
break;
case x.Floating:this._createFloatingButton();
break;
case x.PageTop:case x.ShowOnFocus:this._attachToolBarEventHandlers();
break;
}if(w._isInInlineEditMode()){y._attachToolBarEventHandlers();
}this._registerToolBarHolderHandlers();
},repaint:function(){},_attachToolbarJsonToHtml:function(){var D=this;
var x=D.get_editor();
if(this._initializedToolbars){return;
}this._initializedToolbars=true;
var F=this.get_toolJSON(),E=this._getToolBarElements(),G=[],B,H;
for(B=0;
B<F.length;
B++){var C=F[B];
var A=E[B];
this._initializeToolbar(C,A);
var w=C.attributes;
H=w?w.dockingzone:null;
if(H){G[G.length]=[H,A];
}}if(d.isIE){var z=this.get_element();
if(!x._isInInlineEditMode()){z.style.height="";
}}var y=x.get_id();
for(B=0;
B<G.length;
B++){var J=G[B][0];
H=J.charAt(0).toUpperCase()+J.substring(1);
if(H=="Top"){continue;
}var I=$get(y+H);
if(H=="Left"||H=="Right"){if(x.get_renderMode()==c.RenderMode.Lite){d.$(I).addClass("reToolBarWrapper reToolBarWrapper"+H);
d.$(x.get_element()).addClass("reToolBar"+H);
}else{if(x.get_renderMode()==c.RenderMode.Classic){d.$(x.get_element()).addClass("reToolBar"+H);
}}}if(!I){I=$get(J);
}if(I){if(I.innerHTML=="&nbsp;"){I.innerHTML="";
}I.appendChild(G[B][1]);
}}},_setToolbarHolderProperties:function(){var w=this.get_editor();
var y=w.get_toolbarMode();
var A=this._toolbarHolder;
var z=c.WindowBehaviors;
var x=c.EditorToolbarMode;
if((y===x.ShowOnFocus)||(y===x.PageTop)||w._isInInlineEditMode()){A.set_behaviors(z.None);
A.set_visibleTitlebar(false);
}else{A.set_behaviors(z.Move+z.Close+z.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(y){var z=this;
var w=z.get_editor();
var x=c.EditorToolbarMode;
if(!y){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if(w.isFullScreen()){return;
}var B=b.DefaultToolAdapter._visibleWrapper;
if(B==this&&B._toolbarHolder&&B._toolbarHolder.isVisible()){B.get_toolbarHolder().setActive(true);
return;
}if(B&&B._showToolbarHolder){B._showToolbarHolder(false);
}b.DefaultToolAdapter._visibleWrapper=this;
this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if(w._isInInlineEditMode()&&!z._toolBarInitialShowExecuted){z._toolBarInitialShowExecuted=true;
z._hidePopup();
}if(d.isIE&&this._fakeToolbarParentCreated){var A=w.get_toolbarMode();
if(A===x.ShowOnFocus||A===x.PageTop||w._isInInlineEditMode()){this._fakeToolBarParent.style.display="none";
}}},_hidePopup:function(){var x=this;
var y=x.get_toolbarHolder();
var w=y?y.get_popupElement():null;
if(w){a(w).css({display:m});
}},_positionWindow:function(){var x=Telerik.Web.UI.EditorToolbarMode;
var w=this.get_editor();
var y=w.get_toolbarMode();
if(y==x.ShowOnFocus||w._isInInlineEditMode()){this._positionToolbarAboveEditor();
}else{if(y==x.PageTop){this._positionOnPageTop();
}else{if(y==x.Floating){if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}}}}},get_window:function(){if(!this._toolbarHolder){var z=this;
var x=z.get_editor();
var B=x.get_toolbarMode();
var A=Telerik.Web.UI.EditorToolbarMode;
var y=x.get_dialogOpener();
var w;
var C;
if((B==A.Default||B==A.RibbonBar)&&!x._isInInlineEditMode()){return null;
}if(!y){return;
}w=y.get_container();
if(!w){return;
}C=w.clone(x.get_id()+"_toolbarMode");
C.set_visibleStatusbar(false);
C.set_keepInScreenBounds(B==A.RibbonBarFloating||B==A.Floating);
C.setSize(this.get_element().offsetWidth+10,1);
C.add_show(Function.createDelegate(this,function(E,D){var G=x.get_toolbarMode(),F=Telerik.Web.UI.EditorToolbarMode;
if(C._renderMode==Telerik.Web.UI.RenderMode.Lite){this._onWindowShowLite(E,D);
}else{this._onWindowShow(E,D);
}this._positionWindow();
if(G==F.PageTop||G==F.RibbonBarPageTop){E.get_popupElement().style.height="";
E.get_contentElement().style.height="";
}}));
this._toolbarHolder=C;
if(x._isInInlineEditMode()){z._setToolBarAnimation();
}this._moveToolbarsToEditor(false);
}return this._toolbarHolder;
},_onWindowShowLite:function(E,x){var F=this;
var y=F.get_editor();
var z=y.get_element();
var A=E.get_contentElement();
var C=E.get_popupElement();
var w=a(C);
var H=y.get_toolbarMode();
var G=c.EditorToolbarMode;
var B=y._isInInlineEditMode();
if(!A||!C){return;
}C.style.zIndex="10000";
a(C).addClass("reToolbarWindow");
a(C).addClass(a(z).attr("class")+" reToolbarWindow");
if(B){w.removeClass(l);
}F._setToolBarWidth(E);
E.setActive(true);
a(".rwContent",C).css("padding","1px 0px 0px 0px");
this._attachToolbarJsonToHtml();
var D=function(){C.style.height="";
A.style.height="";
};
switch(H){case G.ShowOnFocus:D();
break;
case G.RibbonBarPageTop:case G.RibbonBarFloating:case G.RibbonBarShowOnFocus:case G.RibbonBar:D();
A.style.overflow="hidden";
a(".rwContent",C).css("padding","0px 0px 5px 0px");
break;
}if(B){D();
}},_onWindowShow:function(A,w){var B=this;
var x=B.get_editor();
var y=x._isInInlineEditMode();
var C=A.get_contentElement();
var z;
if(!C){return;
}z=A.get_popupElement();
z.style.zIndex="10000";
A.setActive(true);
Sys.UI.DomElement.addCssClass(z,"reToolbarWindow");
if(y){B._addInlineEditModeStyles(z);
}this._attachToolbarJsonToHtml();
C.style.overflow="";
B._setToolBarWidth(A);
C.style.width="100%";
},_setToolBarWidth:function(A){var z=this;
var w=z.get_editor();
var y=w.get_element();
var B=w.get_toolsWidth();
var x;
if(!B){x=d.getSize(y);
A.set_width(x.width);
}else{A.set_width(B);
}},_addInlineEditModeStyles:function(y){var A=this;
var x=A.get_editor();
var z=x.get_skin();
var w=a(y);
w.addClass(o);
w.addClass(z);
w.addClass(r);
},_initializeAnimation:function(){var y=this;
var x=y.get_editor();
var w=x._animationSettings;
if(w){y._animation=w[t];
}},get_animationType:function(){var y=this;
var w=y._getAnimation();
var x=w?w[u]:null;
return x;
},set_animationType:function(x){var w=this;
if(w._toolbarHolder){w._animation[u]=x;
w._toolbarHolder.set_animation(x);
}},get_animationDuration:function(){var y=this;
var w=y._getAnimation();
var x=w?w[h]:null;
return x;
},set_animationDuration:function(x){var w=this;
if(w._toolbarHolder){w._animation[h]=x;
w._toolbarHolder.set_animationDuration(x);
}},_setToolBarAnimation:function(z){var x=this;
var y=x.get_toolbarHolder();
var w=x._getAnimation();
if(w){y.set_animation(w[u]);
y.set_animationDuration(w[h]);
}},_getAnimation:function(){return this._animation;
},_moveToolbarsToEditor:function(y){var x=this.get_element();
if(!y){if(!this._fakeToolbarParentCreated){var w=this._fakeToolBarParent=x.ownerDocument.createElement("div");
w.control=x.control;
x.parentNode.appendChild(w);
this._fakeToolbarParentCreated=true;
x.control=null;
var z=w.style;
z.height=z.fontSize=z.lineHeight="1px";
z.border="1px solid red";
z.visibility="hidden";
if(!d.isIE){z.display="none";
}}var B=this.get_toolbarHolder();
B.set_contentElement(x);
x.style.width="100%";
}else{x.style.width="";
var A=this.get_editor().get_TopZone();
A.appendChild(x);
}},_positionToolbarAboveEditor:function(){var C=this._toolbarHolder;
var A=C.get_popupElement();
if(A){A.style.height="";
}var w=this.get_editor();
var z=d.getBounds(w.get_element());
var D=z.x;
var B=d.getBounds(C.get_popupElement()).height;
var E=z.y-B;
C.moveTo(D,E);
},_positionOnPageTop:function(){var A=this._toolbarHolder;
var w=A._getViewportBounds();
var B=w.scrollLeft;
var C=w.scrollTop;
A.moveTo(B,C);
var z=this.get_editor().get_toolsWidth();
if(z&&z.indexOf("%")==-1){A.set_width(z);
}else{A.get_popupElement().style.width="";
}if(!A.isPinned()){A.togglePin();
}},_createFloatingButton:function(){this._onToggleFloatingToolbarDelegate=Function.createDelegate(this,this._onToggleFloatingToolbar);
var x=this.get_editor();
var C=x.get_skin();
var A=x.getLocalizedString("ToggleFloatingToolbar");
var D={name:"ToggleFloatingToolbar",text:(null==A)?"ToggleFloatingToolbar":A,addClickHandler:true,skin:C};
var z={valueSelected:this._onToggleFloatingToolbarDelegate};
var B=x.get_renderMode()==Telerik.Web.UI.RenderMode.Lite?"Lightweight":Telerik.Web.UI.RenderMode.toString(x.get_renderMode());
var w=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(B,D,z);
var y=Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolWrapper(B,w,C);
var E=$get(x.get_id()+"Top");
if(E){E.appendChild(y);
}},_onToggleFloatingToolbar:function(){var w=!this._toolbarHolder||!this._toolbarHolder.isVisible();
this._showToolbarHolder(w);
},_attachToolBarEventHandlers:function(){var A=this;
var w=A.get_editor();
var y=function(){A._showToolbarHolder(true);
w._addInlineEditorSelectedStyles();
};
var z=function(){var C=A.get_editor();
if(!A._editorIEFirstShow){var B=C.get_toolbarMode();
var D=Telerik.Web.UI.EditorToolbarMode;
if(!C._emptyMessageContainer&&(B!=D.Floating||B!=D.RibbonBarFloating)){A._editorIEFirstShow=true;
return;
}}y();
};
var x=this.get_editor();
if(x.isIE){if(w._isInInlineEditMode()){x.add_selectionChange(y);
}else{this.get_editor().add_editReady(function(){x.attachInternalHandler("beforeeditfocus",z);
x.attachInternalHandler("focusin",y);
});
}}else{x.add_selectionChange(y);
}x.add_modeChange(A._changeToolBarVisibilityDelegate);
x.add_submit(function(){A._showToolbarHolder(false);
});
x.add_toggleScreenMode(function(){var B=A.get_editor();
var C=B.isFullScreen();
A._moveToolbarsToEditor(C);
var D=A.get_toolbarHolder();
if(C){D.hide();
}else{D.show();
}});
A._bodyClickDelegate=Function.createDelegate(A,A._onBodyClick);
d.addExternalHandler(document.body,"mouseup",A._bodyClickDelegate);
if(this.get_editor().get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this._divContentAreaMouseDownDelegate=Function.createDelegate(this,this._onBodyMouseDown);
d.addExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
}},_changeToolBarVisibility:function(){var z=this;
var y=z.get_editor();
var w=y.get_mode();
var x=c.EditModes;
if(!y._isInInlineEditMode()){z._showToolbarHolder(w===x.Design);
}},_disposeToolbarModeHandlers:function(){var w=this;
if(this._bodyClickDelegate){d.removeExternalHandler(document.body,"mouseup",this._bodyClickDelegate);
this._bodyClickDelegate=null;
}if(this._divContentAreaMouseDownDelegate){d.removeExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
this._divContentAreaMouseDownDelegate=null;
}w._changeToolBarVisibilityDelegate=null;
},onContextMenu:function(y){if(!this._contextMenusEnabled){return;
}var z=this.get_editor();
if(z.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this.createContextMenus();
var A=y.srcElement?y.srcElement:y.target;
if(z.get_enableImmutableElements()&&Telerik.Web.UI.Editor.Utils.isImmutableNode(A)){return;
}var B=A.tagName;
var w=this._contextMenus[B];
if("TH"==B&&!w){w=this._contextMenus.TD;
}var x="";
if(!w){var D=Telerik.Web.UI.Editor.Utils.getElementParentByTag(A,"A");
if(!D){D=Telerik.Web.UI.Editor.Utils.getElementParentByTag(A,"TD");
}if(!D){D=Telerik.Web.UI.Editor.Utils.getElementParentByTag(A,"TABLE");
}if(D){x=D.tagName;
A=D;
}else{x="*";
}w=this._contextMenus[x];
}if(w&&B=="IMG"&&A&&"true"==A.getAttribute("isflash")){w=null;
}if(!this.isIE&&x=="*"){return;
}if(w){w.set_eventObject(y);
w.show();
if(d.isSafari){try{var E=A.tagName;
if(E=="IMG"||E=="TABLE"||E=="TD"||E=="TR"){z.selectElement(A);
}}catch(C){}}}return d.cancelRawEvent(y);
},enableContextMenus:function(w){this._contextMenusEnabled=w;
},_initContextMenus:function(){var w=Function.createDelegate(this,this.onContextMenu);
var x=this.get_editor();
x.add_editReady(function(){x.attachInternalHandler("contextmenu",w);
});
},createContextMenus:function(){if(this._contextMenus){return;
}this._contextMenus={};
var y=this.get_editor();
var B=y.get_skin();
var x=y.get_contextMenusJSON();
var z={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
for(var A=0;
A<x.length;
A++){var w=x[A];
w.sizetofit=true;
w.parentElement=y.get_contentAreaElement();
w.skin=B;
w._rendermode=Telerik.Web.UI.RenderMode.toString(y.get_renderMode())=="Lite"?"Lightweight":Telerik.Web.UI.RenderMode.toString(y.get_renderMode());
var D=$create(Telerik.Web.UI.EditorContextMenu,w,z,null,document.createElement("span"));
var C=w.tagName?w.tagName:"*";
this._contextMenus[C]=D;
}},dispose:function(){delete this._fakeToolbarParentCreated;
var x=this._getToolBarElements();
if(x){for(var w=0;
w<x.length;
w++){$clearHandlers(x[w]);
}}this._tools=[];
this._disposeToolbarModeHandlers();
var y=this._toolbarHolder;
if(y&&y.dispose){y.dispose();
}Telerik.Web.UI.Editor.DefaultToolAdapter.callBaseMethod(this,"dispose");
},setFocus:function(){var w=this._tools[0];
window.setTimeout(function(){if(w){w.setFocus();
}},100);
return false;
},getContextMenuByTagName:function(w){this.createContextMenus();
return this._contextMenus[w];
},getToolByName:function(x){for(var w=0;
w<this._tools.length;
w++){var y=this._tools[w];
if(y&&y.get_name()==x){return y;
}}return null;
},setToolState:function(D,y){if(!D){D=this._tools;
}var w=this.get_editor(),A=this._rangeState||c.Editor.DomRange.rangeFromWindow(w.get_contentWindow());
for(var x=0;
x<D.length;
x++){var z=D[x];
if(z.get_name){var C=z.get_name();
if(z.setState){var B=y;
if(null==B){B=w.getToolState(C,A);
}if(null!=B){z.setState(B);
}}if(z.updateValue){z.updateValue(w.getToolValue(C,A));
}}}this._rangeState=null;
},_convertCommandsArray:function(x){var B=[];
for(var A=0;
A<x.length;
A++){var y=x[A];
var z=(A+1)+". "+y.get_title();
if(y.get_argument){var w=y.get_argument();
if(w){z+=' ["'+w+'"]';
}}B[A]=[A+1,z];
}return B;
},_onDropDownHide:function(y,w){var x=this.get_editor();
x.enableContentArea(true);
},_onClientDragStart:function(x,w){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
},_onDropDownBeforeShow:function(L,w){var z=this.get_editor();
var A;
var x;
if(d.isIE&&Telerik.Web.UI.EditorSplitButton.isInstanceOfType(L)&&L.isArrowClicked(event?event.srcElement:null)){z.setFocus();
}if(Telerik.Web.UI.EditorToolStrip.isInstanceOfType(L)){this.setToolState(L.get_items());
}if(!z.getSelection().isControl()&&!Telerik.Web.UI.EditorContextMenu.isInstanceOfType(L)){z.enableContentArea(false);
}var N=L.get_name();
if(N=="Undo"){var O=z.get_commandsManager().getCommandsToUndo();
O=this._convertCommandsArray(O);
L.set_items(O);
}else{if(N=="Redo"){var K=z.get_commandsManager().getCommandsToRedo();
K=this._convertCommandsArray(K);
L.set_items(K);
}else{if(N=="ModuleManager"){var B=z.get_renderMode()==c.RenderMode.Classic;
var F=z.get_modulesManager();
var D=B?"reModule_hidden_icon":"ModuleHiddenIcon";
var H=B?"reModule_visible_icon":"ModuleVisibleIcon";
if(!F){return;
}var G=F.get_modules();
var E=[];
for(A=0;
A<G.length;
A++){var C=G[A];
var I=C.get_name();
var M=C.get_title();
if(!M){M=I;
}x=C.get_visible()?H:D;
E[A]=[I,M,x];
}L.set_updateHeader(false);
L.set_items(E);
}}}var y=L.get_items();
if(y&&y.length>0){return;
}var J=null;
switch(N){case"ApplyClass":J=z.getCssArray();
break;
case"FontName":J=Array.clone(z.get_fontNames());
break;
case"FontSize":J=z.get_fontSizes();
break;
case"InsertSymbol":J=z.get_symbols();
if((d.isIE||d.isSafari)&&J&&J.length){for(A=0;
A<J.length;
A++){if(J[A]=="&"){J[A]="&amp;";
}if(J[A]=="<"){J[A]="&lt;";
}}}break;
case"BackColor":case"ForeColor":J=z.get_colors();
break;
case"RealFontSize":J=z.get_realFontSizes();
break;
case"InsertSnippet":J=z.get_snippets();
break;
case"Zoom":J=["10%","20%","50%","100%","150%","200%","300%","500%"];
break;
case"FormatBlock":J=z.get_paragraphs();
break;
case"FormatSets":J=z.get_formatSets();
break;
case"InsertCustomLink":J=z.get_links();
break;
case"AjaxSpellCheck":case"SpellCheck":J=z.get_languages();
break;
}if(J){L.set_items(J);
}},_initializeToolbar:function(O,L){var M=this._getToolBarItemElements(L);
var N=O.tools;
var z=this.get_editor();
var J=z.get_skin();
var H=0;
if(N){var P=0;
var G=N.length;
for(var C=0;
C<G;
C++){var E=this._getItemElementByIndex(M,C);
if(typeof(E)=="undefined"){break;
}var Q=this._getToolElement(E);
P+=E.offsetWidth;
var w=N[C];
var T=w.type;
var S=w.name;
var R=Telerik.Web.UI.EditorToolType;
var x=Telerik.Web.UI.EditorButton;
var K=null;
var U=false;
var A=z.get_enableAriaSupport();
if(A){M[C].setAttribute("role","presentation");
var F=M[G+1];
if(F){F.setAttribute("role","presentation");
}if(T!=R.Separator){E.setAttribute("role","presentation");
}}if(T){switch(T){case R.Button:x=c.EditorButton;
break;
case R.Separator:if(!H){H+=parseInt(d.getCurrentStyle(E,"marginLeft"),e);
H+=parseInt(d.getCurrentStyle(E,"marginRight"),e);
if(A){E.setAttribute("role","separator");
}}P+=H;
x=null;
break;
case R.DropDown:x=Telerik.Web.UI.EditorDropDown;
if(S=="FontName"){x=Telerik.Web.UI.Editor.FontNameDropDown;
}else{if(S=="FontSize"){x=Telerik.Web.UI.Editor.FontSizeDropDown;
}else{if(S=="FormatBlock"||S=="RealFontSize"||S=="Zoom"){x=Telerik.Web.UI.EditorUpdateableDropDown;
}else{if(S=="FormatSets"){x=Telerik.Web.UI.Editor.FormatSetsDropDown;
}else{if(S=="ApplyClass"){x=Telerik.Web.UI.Editor.ApplyClassDropDown;
}else{if(S=="InsertCustomLink"){x=Telerik.Web.UI.Editor.InsertCustomLinkDropDown;
}}}}}}U=true;
break;
case R.SplitButton:x=Telerik.Web.UI.EditorSplitButton;
if(S=="ForeColor"||S=="BackColor"){x=Telerik.Web.UI.Editor.ColorPicker;
w.addCustomColorText=z.getLocalizedString("AddCustomColor");
}else{if(S=="Undo"||S=="Redo"){x=Telerik.Web.UI.Editor.UndoRedoDropDown;
}}U=true;
break;
case R.ToolStrip:x=Telerik.Web.UI.EditorToolStrip;
if(S=="InsertTable"){x=Telerik.Web.UI.Editor.InsertTable;
}if(S=="FormatPainter"){x=Telerik.Web.UI.Editor.FormatPainterStrip;
}U=true;
break;
case R.Custom:break;
}}if(w.attributes){for(var D in w.attributes){w[D.toLowerCase()]=w.attributes[D];
}}if(x){var B=null;
if(U){B={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
w.skin=J;
}K=$create(x,w,B,null,Q);
if(this.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){K.set_contentAreaMode(Telerik.Web.UI.EditorContentAreaMode.Div);
}if(K.set_enableAriaSupport&&T!=R.Separator){K.set_enableAriaSupport(A);
}}if(K){Array.add(this._tools,K);
var I=K.get_shortCut();
if(I){var y=K.get_name();
if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(K)&&y!="Undo"&&y!="Redo"){y="reToolAdapter_"+y;
Telerik.Web.UI.Editor.CommandList[y]=this._toolAdapterDropDownExpander;
}z.setShortCut(y,I);
}this._attachHandlerToToolElementParent(Q);
}}this._toolbarSizeFixIE(L);
this._attachHandlerToToolbarElement(L);
}},_getToolBarItemElements:function(w){return w.getElementsByTagName("li");
},_getItemElementByIndex:function(x,w){return this._editor._renderMode==c.RenderMode.Classic?x[w+1]:x[w];
},_getToolElement:function(w){return w.firstChild;
},_attachHandlerToToolbarElement:function(w){$addHandlers(w,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolElementParent:function(w){},_toolbarSizeFixIE:function(w){if(!d.isIE7){return;
}var x=0;
a(w).children().each(function(y,z){x+=z.offsetWidth;
});
w.style.width=x+"px";
},_toolAdapterDropDownExpander:function(w,x){var y=x.getToolByName(w.replace("reToolAdapter_",""));
y.setFocus();
y.show();
y.selectNextItem();
return false;
},_onEditorModeChange:function(C,w){var D=this;
var y=D.get_editor();
var x=Telerik.Web.UI.EditModes,B=C.get_mode(),A=d.isIE&&(d.isIE10Mode&&!d.isIE10);
this._setEnabled(B==x.Design);
if(!d.isFirefox&&!A&&B==x.Html){var z=this.getToolByName("FindAndReplace");
if(z){this._setToolEnabled(z,true);
}}if(y._isInInlineEditMode()){D._enableToggleEditModeTool();
y._addInlineEditorSelectedStyles();
}},_enableToggleEditModeTool:function(){var x=this;
var w=x.getToolByName(s);
if(w){w.set_enabled(true);
}},_onEditorSelectionChange:function(x,w){this.setToolState();
},_setEnabled:function(x){var y=this;
var z=y._tools;
var A=z.length;
var w;
for(w=0;
w<A;
w++){z[w].set_enabled(x);
}},_setToolEnabled:function(x,w){x.set_enabled(w);
},_registerEditorHandlers:function(){var w=this.get_editor();
w.add_selectionChange(this._onEditorSelectionChangeDelegate);
w.add_modeChange(this._onEditorModeChangeDelegate);
},_registerToolBarHolderHandlers:function(){var w=this.get_editor();
if(w.get_toolbarMode()==Telerik.Web.UI.EditorToolbarMode.Floating){var x=this.get_toolbarHolder();
if(typeof(x)!="undefined"){x.add_dragStart(this._onClientDragStartDelegate);
}}},_onBodyMouseDown:function(w){var x=w.srcElement||w.target;
this._updateMouseIsDownOnContentAreaFlag(x);
},_updateMouseIsDownOnContentAreaFlag:function(x){var y=this;
var w=y.get_editor().get_contentArea();
y._mouseIsDownOnContentArea=d.isDescendantOrSelf(w,x)||i.isEditorEmptyMessage(x);
},_onBodyClick:function(y){var B=this;
var w=B.get_editor();
y=y||window.event;
var z=y.srcElement||y.target;
var x=B.get_element();
if(x&&!d.getVisible(x)||(w.get_mode()==c.EditModes.Html&&z===w.get_textArea())){return;
}var C=B.get_toolbarHolder();
var A=C?C.get_popupElement():null;
if(A){B._mouseIsDownOnToolbarHolder=d.isDescendantOrSelf(A,z);
}if(w.get_contentAreaMode()==c.EditorContentAreaMode.Div){if(d.isDescendantOrSelf(w.get_contentArea(),z)){B._preventToolbarFromHiding=true;
}}if(w._isInInlineEditMode()){B._onInlineEditModeBodyClick(z);
}if(B._preventToolbarFromHiding){B._preventToolbarFromHiding=false;
return;
}if(B._mouseIsDownOnContentArea!==true&&B._mouseIsDownOnToolbarHolder!==true){B._showToolbarHolder(false);
}if(B._mouseIsDownOnContentArea!==v){B._mouseIsDownOnContentArea=false;
}},_onInlineEditModeBodyClick:function(w){var x=this;
x._updateEditMode();
x._updateMouseIsDownOnContentAreaFlag(w);
x._updateInlineEditorSelectedStyle(w);
x._updateToolbarVisibilityFlag(w);
x._handleInlineEditCompletedEvent(w);
},_updateEditMode:function(){var z=this;
var y=z.get_editor();
var x=c.EditModes;
var w=y.get_mode();
if(z._mouseIsDownOnToolbarHolder===false&&w===x.Html){y.fire(s,{});
}},_updateInlineEditorSelectedStyle:function(x){var y=this;
var w=y.get_editor();
if(y._isElementOutsideOfEditor(x)){w._removeInlineEditorSelectedStyles();
}},_isElementOutsideOfEditor:function(w){var z=this;
var x=null;
var y=z._mouseIsDownOnToolbarHolder;
x=!y&&z._mouseIsDownOnContentArea===false&&z._isElementInDialog(w)===false&&z._isElementInDropDown(w)===false;
return x;
},_updateToolbarVisibilityFlag:function(w){var x=this;
if(x._isElementInDialog(w)||x._isElementInDropDown(w)){x._preventToolbarFromHiding=true;
}},_isElementInDialog:function(w){var x=a(w).parents(f);
return(x.length>0);
},_isElementInDropDown:function(x){var w=a(x);
var z=w.parents(g+q);
var A=w.parents(g+p);
var y=(z.length>0)||(A.length>0)||w.hasClass(p)||w.hasClass(q);
return y;
},_handleInlineEditCompletedEvent:function(x){var y=this;
var w=y.get_editor();
if(y._isElementOutsideOfEditor(x)){if(y._inlineEditingStarted){a.raiseControlEvent(w,k,{});
y._inlineEditingStarted=false;
}}else{if(y._inlineEditingStarted===false){y._inlineEditingStarted=true;
}}},_onDropDownValueSelected:function(x,w){this._preventToolbarFromHiding=true;
var y=x.get_selectedItem();
if(Telerik.Web.UI.EditorButton.isInstanceOfType(y)){this._raiseEditorEvent(y,null);
}else{this._raiseEditorEvent(x,y);
}},_onToolBarKeyDown:function(x){var z=x.keyCode;
if(9==z||37==z||39==z||121==z){if(Telerik.Web.UI.Editor.PopupController){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}}if(121==z){var y=this.get_editor();
window.setTimeout(function(){if(y){y.setFocus();
}},100);
if(x.rawEvent){d.cancelRawEvent(x.rawEvent);
}return d.cancelRawEvent(x);
}if(9==z){return;
}var w=this._getSelectedTool(x);
if(!Telerik.Web.UI.EditorButton.isInstanceOfType(w)){return;
}if(37==z||39==z){var B=w;
while(true){B=(37==z)?this._getPreviousTool(B):this._getNextTool(B);
if(null==B){break;
}if(B.get_enabled()){break;
}}if(B&&B.get_enabled()){B.setFocus();
}}if(13==z&&w&&!w.get_selectedItem){this._raiseEditorEvent(w,null);
return;
}if(!Telerik.Web.UI.EditorDropDown.isInstanceOfType(w)){return;
}if(38==z||40==z){var A=false;
if(!w.isExpanded()){w.show();
A=true;
}if(A||40==z){w.selectNextItem();
}else{w.selectPreviousItem();
}}else{if(13==z){w.hide();
if(w.get_activeIndex){w.set_selectedIndex(w.get_activeIndex());
}this._onDropDownValueSelected(w);
}else{if(27==z){w.hide();
}}}},_onToolBarClick:function(x){var w=this._getSelectedTool(x);
if(w){if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(w)){w.click(x);
}else{this._raiseEditorEvent(w);
}}d.cancelRawEvent(x);
},_raiseEditorEvent:function(z,A){var y=this.get_events().getHandler("ToolClick");
if(y){var w=z.get_name?z.get_name():"";
var x=new Telerik.Web.UI.EditorCommandEventArgs(w,z,A);
y(z,x);
}},_getPreviousTool:function(x){var w=Array.indexOf(this._tools,x);
return this._tools[w-1];
},_getNextTool:function(x){var w=Array.indexOf(this._tools,x);
return this._tools[w+1];
},_getSelectedTool:function(x){var y=Telerik.Web.UI.EditorButton.getToolRootNode(x.target);
if(null==y){return;
}var w=y.control;
if(null==w){return;
}if(w.get_enabled&&w.get_enabled()==false){return;
}if(x&&w){x.preventDefault();
x.stopPropagation();
}return w;
},_getToolBarElements:function(){var w=this.get_element();
if(!w){return null;
}var x=w.getElementsByTagName("ul");
return x;
},get_tools:function(){return this._tools;
},get_toolbarHolder:function(){return this.get_window();
},get_editor:function(){return this._editor;
},set_editor:function(w){if(this._editor!=w){this._editor=w;
}},get_contentAreaMode:function(){return(this._contentAreaMode!="")?this._contentAreaMode:Telerik.Web.UI.EditorContentAreaMode.Iframe;
},set_contentAreaMode:function(w){if(this._contentAreaMode!=w){this._contentAreaMode=w;
}},get_toolJSON:function(){return this._toolJSON;
},set_toolJSON:function(w){this._toolJSON=w;
},add_toolClick:function(w){this.get_events().addHandler("ToolClick",w);
},remove_toolClick:function(w){this.get_events().removeHandler("ToolClick",w);
}};
b.DefaultToolAdapter.registerClass("Telerik.Web.UI.Editor.DefaultToolAdapter",Sys.UI.Control);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var d="span.reButton";
var e=$telerik.cancelRawEvent;
b.HeaderToolsToolAdapter=function(g){b.HeaderToolsToolAdapter.initializeBase(this,[g]);
};
b.HeaderToolsToolAdapter.prototype={initialize:function(){var h=this;
h._attachToolsJsonToHtml();
h._handleDoubleClick();
a(h.get_element()).on("mousedown",e);
var g=h.get_editor();
g.add_selectionChange(Function.createDelegate(h,h._onEditorSelectionChange));
g.add_modeChange(Function.createDelegate(h,h._onEditorModeChange));
},_attachToolsJsonToHtml:function(){var k=this;
var n=k.get_headerToolsJSON();
var g=a(k.get_element()).find(d);
var m=k._tools;
var o=Function.createDelegate(k,k._raiseEditorEvent);
for(var j=0;
j<n.length;
j++){var l=n[j];
var h=g.filter(".re"+l.name).get(0);
if(h){g=g.not(h);
Array.add(m,k._createTool(h,l,o));
}}},_createTool:function(h,g,j){g._rendermode="Mobile";
g.addClickHandler=true;
var i=$create(c.EditorButton,g,null,null,h);
i.add_valueSelected(j);
return i;
},_handleDoubleClick:function(){var g=this.get_element();
a(g).doubletap(function(h){return e(h);
});
},_onEditorModeChange:function(h,g){var k=h.get_mode();
var j=k==c.EditModes.Html;
if(j){var i=["ToggleScreenMode","FindAndReplace","ToggleEditMode"];
Array.forEach(this.get_tools(),function(l){if(!Array.contains(i,l.get_name())){l.set_enabled(false);
l.setOn(false);
}});
}else{if(k==c.EditModes.Design){Array.forEach(this.get_tools(),function(l){l.set_enabled(true);
});
}}this._setToolOn("ToggleEditMode",j);
},_setToolOn:function(h,g){Array.forEach(this.get_tools(),function(i){if(i.get_name()==h){i.setOn(g);
}});
},dispose:function(){var g=this;
a(g.get_element()).off("mousedown",e);
b.HeaderToolsToolAdapter.callBaseMethod(g,"dispose");
}};
a.registerControlProperties(b.HeaderToolsToolAdapter,{headerToolsJSON:null});
b.HeaderToolsToolAdapter.registerClass("Telerik.Web.UI.Editor.HeaderToolsToolAdapter",b.BaseToolAdapter);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var c=b.Editor;
var e="reVisibilityHidden";
var d=Telerik.Web.Platform.ios;
c.MobileKeyboardAdapter=function(g){c.MobileKeyboardAdapter.initializeBase(this,[g]);
this.currentDomRange=null;
};
c.MobileKeyboardAdapter.prototype={showKeyboard:function(){this.showKeyboardOverlay();
this.raiseEvent("keyboardShown",Sys.EventArgs.Empty);
},hideKeyboard:function(){var h=this,g=c.DomRange.rangeFromWindow(h.get_contentWindow());
this.hideKeyboardOverlay();
h.raiseEvent("keyboardHidden",new c.DomRangeEventArgs(g));
},hideKeyboardPermanent:function(){var g=this;
g.add_keyboardHidden(function(){g.dispose();
});
this.hideKeyboard();
},showKeyboardOverlay:function(){if(d){a(this.get_toolBarContainer()).addClass(e);
}},hideKeyboardOverlay:function(){if(d){a(this.get_toolBarContainer()).removeClass(e);
}},getSelection:function(){var g=this.get_contentWindow()||((document.defaultView)?document.defaultView:document.parentWindow);
return new c.Selection(g);
},dispose:function(){c.MobileKeyboardAdapter.callBaseMethod(this,"dispose");
}};
c.MobileKeyboardAdapter.registerClass("Telerik.Web.UI.Editor.MobileKeyboardAdapter",Telerik.Web.UI.RadWebControl);
a.registerControlProperties(c.MobileKeyboardAdapter,{contentWindow:null,contentAreaElement:null,toolBarContainer:null});
a.registerControlEvents(c.MobileKeyboardAdapter,["keyboardHidden","keyboardShown"]);
})($telerik.$);
(function(a,d){var b=Telerik.Web.UI;
var c=b.Editor;
c.DivModeKeyboardToggler=function(e){c.DivModeKeyboardToggler.initializeBase(this,[e]);
};
c.DivModeKeyboardToggler.prototype={showKeyboard:function(){var e=this.get_element();
e.focus();
c.DivModeKeyboardToggler.callBaseMethod(this,"showKeyboard");
},hideKeyboard:function(){var e=this.get_element();
e.blur();
c.DivModeKeyboardToggler.callBaseMethod(this,"hideKeyboard");
}};
c.DivModeKeyboardToggler.registerClass("Telerik.Web.UI.Editor.DivModeKeyboardToggler",c.MobileKeyboardAdapter);
})($telerik.$);
(function(a,h){var b=Telerik.Web.UI;
var f=b.Editor;
var g=window;
f.IframeModeKeyboardToggler=function(i){f.IframeModeKeyboardToggler.initializeBase(this,[i]);
};
f.IframeModeKeyboardToggler.prototype={showKeyboard:function(){var j=this.get_contentWindow();
var i=this.get_element();
var k=d(j.document);
c(k,i);
k.focus();
j.focus();
i.focus();
i.removeChild(k);
f.IframeModeKeyboardToggler.callBaseMethod(this,"showKeyboard");
},hideKeyboard:function(){var i=this.get_contentAreaElement();
var k=i.parentNode;
var j=e(g.document);
k.insertBefore(j,i);
j.focus();
k.removeChild(j);
f.IframeModeKeyboardToggler.callBaseMethod(this,"hideKeyboard");
}};
f.IframeModeKeyboardToggler.registerClass("Telerik.Web.UI.Editor.IframeModeKeyboardToggler",f.MobileKeyboardAdapter);
function d(i){var j=i.createElement("input");
j.type="text";
j.style.fontSize="initial";
j.style.width=j.style.height=0;
return j;
}function e(i){var j=i.createElement("div");
j.setAttribute("contentEditable","true");
j.className="reEditableDecoy";
return j;
}function c(i,j){if(j.firstChild){j.insertBefore(i,j.firstChild);
}else{j.appendChild(i);
}}})($telerik.$);
(function(a,e){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var d=b.Editor;
var c=b.EditorContentAreaMode;
d.MobileKeyboardAdapterFactory={createMobileKeyboardAdapter:function(f,g){var i=g.properties||{};
var h=g.eventList||{};
var j=f===c.Iframe?d.IframeModeKeyboardToggler:f===c.Div?d.DivModeKeyboardToggler:d.MobileKeyboardAdapter;
return $create(j,i,h,null,g.element);
}};
})($telerik.$);
(function(a,L){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var M=b.Utils;
var p=c.EditorToolType;
var q=c.EventType;
var h=Function.createDelegate;
var r=window;
var d=r.$telerik;
var j=r.document;
var y=a.proxy;
var n=".telerikEditor";
var k=".";
var f="click";
var E=".reToolHeader";
var B=".reTabChooser";
var s="reHidden";
var F=".reToolView";
var J=".reToolContent";
var K=".reToolsOverlay";
var m=".reDropDownsContainer";
var A="tab";
var g="context";
var H="easeOut";
var z="reDropDownSelected";
var l=".reDropDownTool";
var I="-25vw";
var i="div";
var D=6;
var C=3;
var w=b.Orientation;
var x=Telerik.Web.Platform;
var e=x.android;
var t=x.ios;
var v=Telerik.Web.Browser.safari;
var u=Telerik.Web.Browser.opera;
var G=140;
var o=c.EditorContentAreaMode;
b.MobileToolAdapter=function(N){var O=this;
b.MobileToolAdapter.initializeBase(O,[N]);
O._$element=a(N);
};
b.MobileToolAdapter.prototype={initialize:function(){var N=this;
b.MobileToolAdapter.callBaseMethod(N,"initialize");
N._raiseEditorEventDelegate=h(N,N._raiseEditorEvent);
N._onEditorLoadDelegate=h(N,N._onEditorLoad);
N._onEditorSelectionChangeDelegate=h(N,N._onEditorSelectionChange);
N._onEditorModeChangeDelegate=h(N,N._onEditorModeChange);
N._onEditorOrientationChangeDelegate=h(N,N._onEditorOrientationChange);
N._onInitialDropDownShowDelegate=h(N,N._onInitialDropDownShow);
N._slideInToolsHandler=y(N._slideInTools,N);
N._onKeyboardHideDelegate=h(N,N._onKeyboardHide);
N._onKeyboardShowDelegate=h(N,N._onKeyboardShow);
N._editEnabled=false;
N._attachToolbarJsonToHtml();
N._initializeToolsHeader();
N._initializeHighLightCommand();
N._fixToolViewHeight();
N.attachEventHandlers();
},_attachToolbarJsonToHtml:function(){var P=this.get_toolJSON();
var N=this._getToolBarElements();
for(var O=0,Q=P.length;
O<Q;
O++){this._initializeToolbar(P[O],N[O]);
}},_initializeToolbar:function(U,S){var R=this;
var T=U.tools;
var W;
var Q;
if(T){W=new b.ToolFactory();
for(var O=0,P=T.length;
O<P;
O++){var N=T[O];
var X=N.name;
var V=this._getToolElement(X,S);
N._rendermode="Mobile";
N.addClickHandler=true;
Q=W.createTool(N,V);
if(Q){Array.add(this._tools,Q);
R._attachToolEventHandlers(Q,N);
}}}},_fixToolViewHeight:function(){var P=this;
var N=P._$element;
function O(){var T;
var S;
var Q;
var R;
T=j.createElement(i);
T.style.height="50vh";
S=j.createElement(i);
S.style.height="100%";
T.appendChild(S);
j.body.appendChild(T);
R=r.getComputedStyle?getComputedStyle(S,null):S.currentStyle;
Q=parseInt(R.height,10);
j.body.removeChild(T);
return(Q>0);
}if(!O()){N.find(F).css("height",N.height());
}},_unselectTools:function(O){var Q=this;
var N=a(Q).children(l);
var P=a(N).find(k+z);
a(P).removeClass(z);
a(P).offEvent(q.Up+n);
},_initializeToolsHeader:function(){var N=this;
N._toolHeaderElement=a(N.get_editor().get_element()).find(E).get(0);
if(N._toolHeaderElement){N._initializeTabChooser();
N._initializeToolNavigator();
}},_initializeHighLightCommand:function(){var P=this;
var N=P.get_editor();
var O=t||e;
if(O){P._highlightCommand=new b.HighlightCommand(N);
P._highlighted=false;
N.add_commandExecuting(function(R,Q){if(Q.get_commandName()!="MobileEdit"&&P.isEditEnabled()){P._removeSelectionHighlight();
}});
N.add_commandExecuted(function(T,Q){var R=Q.get_commandName();
var S=P.isEditEnabled();
if(R!="MobileEdit"&&S){P._highlightSelection();
}if((R==="Image Manager"||R==="InsertTable"||R==="LinkManager")&&S){P.get_tabChooser().selectContextualTab(M.getSelectedElement(T));
}});
}},_highlightSelection:function(Q){var R=this;
var O=R._highlightCommand;
var N=R.get_editor();
var P=N._isFullScreen;
if(O&&!R._highlighted&&P){R._scrollToSelection(Q);
R._selectRangeIfChanged(Q);
O.highlight();
R._highlighted=true;
}},_scrollToSelection:function(N){if(N){var O=N.startContainer;
var P=!M.isTextNode(O)?O.childNodes[N.startOffset]:L;
O=P||O;
O=M.isTextNode(O)?O.parentNode:O;
if(O.scrollIntoView){O.scrollIntoView();
}}},_selectRangeIfChanged:function(O){if(t&&O){var N=this.get_editor().getDomRange();
if(!N||O.collapsed!=N.collapsed){O.select();
}}},_removeSelectionHighlight:function(){var O=this;
var N=O._highlightCommand;
if(N&&O._highlighted){N.remove();
O._highlighted=false;
}},attachEventHandlers:function(){var N=this;
N._registerEditorHandlers();
N._handleDoubleClick();
N._attachHeaderToolsEventHandlers();
N._attachToolBarsEventHandlers();
},_attachHeaderToolsEventHandlers:function(){var S=this;
var N=S.get_editor();
var O=N.get_headerToolsToolAdapter();
var P;
if(O){P=O.get_tools();
for(var Q=0,R=P.length;
Q<R;
Q++){P[Q].add_valueSelected(S._slideInToolsHandler);
}}},_attachToolBarsEventHandlers:function(){var P=this;
var R=P._getToolBarElements();
var O=R?R.length:0;
var Q;
for(var N=0;
N<O;
N++){Q=R[N];
a(Q).onEvent(q.Move+n,y(P._unselectTools,Q)).onEvent(q.Up+n,y(P._unselectTools,Q));
}},detachEventHandlers:function(){var O=this;
var N=O.get_editor();
N.remove_selectionChange(O._onEditorLoadDelegate);
N.remove_selectionChange(O._onEditorSelectionChangeDelegate);
N.remove_modeChange(O._onEditorModeChangeDelegate);
N.remove_orientationChange(O._onEditorOrientationChangeDelegate);
O._detachHeaderToolsEventHandlers();
O._detachToolBarsEventHandlers();
},_detachHeaderToolsEventHandlers:function(){var S=this;
var N=S.get_editor();
var O=N.get_headerToolsToolAdapter();
var P;
if(O){P=O.get_tools();
for(var Q=0,R=P.length;
Q<R;
Q++){P[Q].remove_valueSelected(S._slideInToolsHandler);
}}},_detachToolBarsEventHandlers:function(){var N=this;
var O=N._getToolBarElements();
a(O).off(f).offEvent(q.Move+n).offEvent(q.Up+n);
},_registerEditorHandlers:function(){var O=this;
var N=O.get_editor();
N.add_load(O._onEditorLoadDelegate);
N.add_selectionChange(O._onEditorSelectionChangeDelegate);
N.add_modeChange(O._onEditorModeChangeDelegate);
N.add_orientationChange(O._onEditorOrientationChangeDelegate);
},get_mobileKeyboardAdapter:function(){var N=this.get_editor();
if(!this._mobileKeyboardAdapter||this._currentContentArea!==N.get_contentArea()){this._initializeKeyboardAdapter();
}return this._mobileKeyboardAdapter;
},_initializeKeyboardAdapter:function(){var O=this,N=O.get_editor();
O._currentContentArea=N.get_contentArea();
O._mobileKeyboardAdapter=b.MobileKeyboardAdapterFactory.createMobileKeyboardAdapter(N.get_contentAreaMode(),{properties:{contentWindow:N.get_contentWindow(),contentAreaElement:N.get_contentAreaElement(),toolBarContainer:O.get_element()},element:O._currentContentArea});
O._mobileKeyboardAdapter.add_keyboardShown(O._onKeyboardShowDelegate);
O._mobileKeyboardAdapter.add_keyboardHidden(O._onKeyboardHideDelegate);
},toggleEdit:function(){var P=this;
var N=this.get_editor();
var O=P.isEditEnabled();
if(O){P._editEnabled=false;
P.resetUI();
P.showKeyboard();
}else{P.hideKeyboard();
P._editEnabled=true;
P._$element.find(J).scrollTop(0);
}N._setToolOn("MobileEdit",P.isEditEnabled());
},resetUI:function(){var N=this;
if(N.currentDropDown){N.currentDropDown.hide();
}},isEditEnabled:function(){return this._editEnabled;
},_onKeyboardHide:function(O,N){this._updateDomInspector();
},_updateDomInspector:function(){var O=this;
var N=O._getDomInspector();
if(N){N.set_visible(true);
N.showDomPath();
}},_getDomInspector:function(){var O=this.get_editor().get_modulesManager();
if(O){var N=O.getModuleByName("RadEditorDomInspector");
if(N&&N.get_enabled()){return N;
}}},_onKeyboardShow:function(){this._hideElement();
},_hideElement:function(){var N=this;
N._$element.addClass(s);
N._removeSelectionHighlight();
},_showElement:function(N){var O=this;
O._$element.removeClass(s);
O._highlightSelection(N);
},showKeyboard:function(){this.get_mobileKeyboardAdapter().showKeyboard();
},hideKeyboard:function(){var N=this.get_editor();
this._showElement(N.getDomRange());
this.get_mobileKeyboardAdapter().hideKeyboard();
},hideKeyboardPermanent:function(){var O=this;
var N=O.get_mobileKeyboardAdapter();
N.remove_keyboardHidden(O._onKeyboardHideDelegate);
N.hideKeyboardPermanent();
O._mobileKeyboardAdapter=L;
},_onEditorLoad:function(O,N){var P=this;
P._setEditorElementDecoration(O);
if(!P._mobileKeyboardAdapter){P._initializeKeyboardAdapter();
}},_setEditorElementDecoration:function(O){if(O&&t){var N=a(O.get_element());
var P="reIphone";
if(O.get_contentAreaMode()==o.Iframe){a("html",O.get_document()).addClass(P);
}N.addClass(P);
if(v){N.addClass("reSafari");
}else{if(u){N.addClass("reOpera");
}}}},_onEditorSelectionChange:function(O,N){var Q=this,P=Q.isEditEnabled();
Q.setToolState();
if(P&&t){Q.hideKeyboard();
}if(!P){setTimeout(function(){Q._tabChooser.selectContextualTab(M.getSelectedElement(O));
},50);
}},_onEditorModeChange:function(P,N){var R=this,O=c.EditModes,Q=P.get_mode();
if(R.isEditEnabled()&&Q!=O.Design){R.toggleEdit();
}else{if(Q===O.Design){R._editEnabled=false;
R.showKeyboard();
P.focusFirstText();
}}},_onEditorOrientationChange:function(O,N){var T=this,R=N.get_orientation(),Q=R==w.Portrait?D:C,S=T._tabChooser,P=S.itemsListIsVisible();
S.hideItemsList();
S.set_maxVisibleItems(Q);
if(P){window.setTimeout(function(){S.showItemsList();
},0);
}},_slideInTools:function(){var O=this;
var N=O._$element;
if(O._shouldExecuteToolsContainerAnimation){N.children(F).children(K).hide();
N.find(J).transition({"margin-left":0},G,H);
O._shouldExecuteToolsContainerAnimation=false;
}},_slideOutTools:function(){var P=this;
var O=P._$element.children(F);
var N=O.children(J);
N.transition({"margin-left":I},G,H);
P._shouldExecuteToolsContainerAnimation=true;
},_getToolHeaderElement:function(){return this._toolHeaderElement;
},getOrientation:function(){var N=window.orientation;
return(N==-90||N==90)?w.LandScape:w.Portrait;
},_initializeTabChooser:function(){var U=this;
var T=a(U._getToolHeaderElement()).children(B).get(0);
if(T){var V=U._getUniqueTabs();
var O=U._getContexts(V);
var P=U._getFirstUncontexedTab()||"&nbsp;";
var R=U.getOrientation()==w.Portrait?D:C;
U._initializeListsByTabs();
var N={items:V,contexts:O,defaultTab:P,maxVisibleItems:R};
var Q={itemSelected:h(U,U._tabChooserItemSelected),itemsListShowing:h(U,U._tabsListShowing)};
var S=U._tabChooser=$create(b.TabChooser,N,Q,null,T);
S.selectTab(P);
}},_getUniqueTabs:function(){var N=this;
if(N._uniqueTabs){return N._uniqueTabs;
}var O=N._uniqueTabs=[];
Array.forEach(N.get_toolJSON(),function(P){var Q=N._getAttribute(P.attributes,A);
if(Q&&O.indexOf(Q)==-1){O.push(Q);
}});
return O;
},_getContexts:function(P){var Q=this;
var N={};
Array.forEach(Q.get_toolJSON(),function(S){var T=Q._getAttribute(S.attributes,A);
var R=Q._getAttribute(S.attributes,g)||"";
if(!N[T]){N[T]=[];
}N[T].push(R);
});
var O=[];
Array.forEach(P,function(R){O.push(N[R]);
});
return O;
},_initializeListsByTabs:function(){var O=this;
var N=O._listsByTabs={};
Array.forEach(O.get_toolJSON(),function(P,Q){var R=O._getAttribute(P.attributes,A);
if(R){if(!N[R]){N[R]=[];
}N[R].push(Q);
}});
},_getAttribute:function(O,N){return O&&N in O?O[N]:L;
},_initializeToolNavigator:function(){var O=this;
var P=O._getToolHeaderElement();
if(P){var N={back:h(O,O._onNavigationBack),close:h(O,O._onNavigationClose)};
O._toolNavigator=$create(b.ToolNavigator,null,N,null,P);
}},_tabChooserItemSelected:function(Q,N){var R=this;
var P=N.get_value();
var O=a(J,R.get_element()).children();
O.addClass(s);
Array.forEach(R._listsByTabs[P]||[],function(S){O.eq(S).removeClass(s);
});
Q.set_text(P);
},_tabsListShowing:function(Q,N){var T=this;
var P=T._getSelectedElement();
var O=a(N.get_value()).children();
var R=T._getUniqueTabs();
var S={};
Array.forEach(T.get_toolJSON(),function(V,W){var U=V.attributes;
var Y=T._getAttribute(U,A);
var X=T._getAttribute(U,g)||"*";
if(!S[Y]&&T._isContextElement(P,Y,X)){S[Y]=true;
}});
Array.forEach(R,function(V,U){O.eq(U)[S[V]?"show":"hide"]();
});
},_getSelectedElement:function(){var N=this.get_editor();
var O=N.getSelectedElement();
if(!O){N.setFocus();
O=N.getSelectedElement();
}return O;
},_isContextElement:function(N,Q,P){if(!Q||!P||!N){return true;
}var O=!!M.getElementParentByCondition(N,function(R){return a(R).is(P);
});
return O;
},_getFirstUncontexedTab:function(){var O=this;
var N=M.first(O.get_toolJSON(),function(R){var P=R.attributes;
var S=O._getAttribute(P,A);
var Q=O._getAttribute(P,g);
return S&&(!Q||Q=="*");
});
return N?N.attributes.tab:"";
},_handleDoubleClick:function(){var N=this.get_element();
a(N).doubletap(function(O){return d.cancelRawEvent(O);
});
},_getToolElement:function(O,N){return a(".re"+O,N).get(0);
},_getToolBarElements:function(){var N=this.get_element();
if(!N){return null;
}return a("ul",N).toArray();
},_attachToolEventHandlers:function(O,N){var P=this;
switch(N.type){case p.Button:O.add_valueSelected(P._raiseEditorEventDelegate);
break;
case p.DropDown:case p.SplitButton:case p.ToolStrip:O.add_show(P._onInitialDropDownShowDelegate);
O.add_show(h(P,P._onDropDownShow));
O.add_hide(h(P,P._onDropDownHide));
O.add_valueSelected(h(P,P._onDropDownValueSelected));
break;
default:O.add_valueSelected(P._raiseEditorEventDelegate);
break;
}},get_toolNavigator:function(){return this._toolNavigator;
},get_tabChooser:function(){return this._tabChooser;
},_onInitialDropDownShow:function(O,N){var P=this;
P._initializeDropDownItems(O);
O.remove_show(P._onInitialDropDownShowDelegate);
},_initializeDropDownItems:function(N){var R=this;
var Q=R.get_editor();
var P=N.get_name();
var O;
switch(P){case"ApplyClass":O=Q.getCssArray();
break;
case"FontName":O=Array.clone(Q.get_fontNames());
break;
case"FontSize":O=Q.get_fontSizes();
break;
case"BackColor":case"ForeColor":O=Q.get_colors();
break;
case"RealFontSize":O=Q.get_realFontSizes();
break;
case"FormatBlock":O=Q.get_paragraphs();
break;
default:break;
}if(O){N.set_items(O);
}},_onDropDownShow:function(S,R){var V=this;
var T=S.get_name();
var U=V.get_editor().getLocalizedString(T)||T;
var O=V._$element;
var Q=O.children(F);
var N=Q.children(m);
var P=Q.children(J);
V.currentDropDown=S;
V._tabChooser.hide(function(){V._toolNavigator.show(U);
});
V._slideOutTools();
N.show();
P.hide();
},_onDropDownHide:function(R,Q){var T=this;
var S=T.get_editor();
var P=T._$element.children(F);
var N=P.children(m);
var O=P.children(J);
T.currentDropDown=L;
S.enableContentArea(true);
O.show();
N.hide();
T._toolNavigator.back(function(){T._tabChooser.show();
});
T._slideInTools();
},_onDropDownValueSelected:function(O,N){var Q=this;
var P=O.get_selectedItem();
if(c.EditorButton.isInstanceOfType(P)){O.set_selectedIndex(-1);
Q._raiseEditorEvent(P,P.get_name());
}else{O.updateValue(P);
Q._raiseEditorEvent(O,P);
}},_onNavigationBack:function(){var N=this;
if(N.currentDropDown){N.currentDropDown.hide();
}N._slideInTools();
},_onNavigationClose:function(){this.get_editor().fire("MobileEdit");
},dispose:function(){var P=this,Q=P.get_tools();
for(var N=0,O=Q.length;
N<O;
N++){Q[N].dispose();
}b.MobileToolAdapter.callBaseMethod(P,"dispose");
}};
a.registerControlProperties(b.MobileToolAdapter,{animationType:null,animationDuration:300,editor:null,contentAreaMode:null,toolJSON:null});
a.registerControlEvents(b.MobileToolAdapter,["toolClick"]);
b.MobileToolAdapter.registerClass("Telerik.Web.UI.Editor.MobileToolAdapter",b.BaseToolAdapter);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,e){var c=Telerik.Web.UI;
var b=c.Editor;
var d="RadEditor";
b.RibbonBarToolAdapter=function(f){b.RibbonBarToolAdapter.initializeBase(this,[f]);
this._ribbonBar=null;
this._toolsWrapper=null;
this._ribbonBarButtons=[];
this._ribbonBarSplitButtons=[];
this._ribbonBarItems=[];
this._toolbarEnum=Telerik.Web.UI.EditorToolbarMode;
this._toolBarMode=null;
};
b.RibbonBarToolAdapter.prototype={initialize:function(){var h=this;
var i=this.get_toolbarMode();
var g=c.EditorToolbarMode;
var f=h.get_editor();
b.RibbonBarToolAdapter.callBaseMethod(this,"initialize");
this._moveRibbonBarInToolsWrapper();
this._initializeRibbonBarButtons();
this._onRibbonBarButtonClickedDelegate=Function.createDelegate(this,this._onRibbonBarButtonClick);
this._registerribbonBarHandlers();
this._filterToolbarJson();
this._attachToolbarJsonToHtml();
if((i!==g.RibbonBar)||f._isInInlineEditMode()){this.get_window();
switch(i){case g.RibbonBarFloating:this._createFloatingButton();
break;
case g.RibbonBarPageTop:case g.RibbonBarShowOnFocus:this._attachToolBarEventHandlers();
break;
}}this._initializeToolsWrapper();
this._addToggleScreenHandler();
},repaint:function(f){var g=this.get_ribbonBar();
if(f===true){g._setRibbonSize({width:1});
}g.repaint();
},_moveRibbonBarInToolsWrapper:function(){var g=this.get_ribbonBar(),f=g.get_element().parentNode;
this.get_toolsWrapper().appendChild(g.get_element());
this._clearRibbonBarElementWidth();
g.repaint();
$telerik.$(f).remove();
this._clearRibbonBarElementWidth();
},_clearRibbonBarElementWidth:function(){this.get_ribbonBar().get_element().style.width="";
},_initializeToolsWrapper:function(){var f=this.get_editor();
var g=f._isInInlineEditMode();
var j=this.get_toolsWrapper(),k=j.style,i=this.get_toolbarMode(),h="1px";
if(!g){k.height="";
k.visibility="visible";
k.overflow="visible";
k.paddingTop=h;
if($telerik.isFirefox){k.paddingLeft=h;
k.paddingRight=h;
}}if((i!==this._toolbarEnum.RibbonBar)||g){a(j).addClass(d);
j.parentNode.style.overflow="hidden";
}},_addToggleScreenHandler:function(){this._toggleScreenModeDelegate=Function.createDelegate(this,this._clearRibbonBarElementWidth);
this.get_editor().add_toggleScreenMode(this._toggleScreenModeDelegate);
},_positionWindow:function(){var g=this;
var h=g.get_toolbarMode();
var f=g.get_editor();
switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:this._positionToolbarAboveEditor();
break;
case this._toolbarEnum.RibbonBarPageTop:this._positionOnPageTop();
break;
case this._toolbarEnum.RibbonBarFloating:if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}break;
}if(f._isInInlineEditMode()){g._positionToolbarAboveEditor();
}this._clearRibbonBarElementWidth();
},_positionOnPageTop:function(){var g=this._toolbarHolder;
var f=g._getViewportBounds();
var h=f.scrollLeft;
var i=f.scrollTop;
g.moveTo(h,i);
g.get_popupElement().style.width="100%";
if(!g.isPinned()){g.togglePin();
}},_setToolbarHolderProperties:function(){var h=this;
var i=this.get_toolbarMode();
var k=this._toolbarHolder;
var j=c.WindowBehaviors;
var g=c.EditorToolbarMode;
var f=h.get_editor();
if(i===g.RibbonBarShowOnFocus||i===g.RibbonBarPageTop||f._isInInlineEditMode()){k.set_behaviors(j.None);
k.set_visibleTitlebar(false);
}else{k.set_behaviors(j.Move+j.Close+j.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(g){var f=this.get_editor(),h=this.get_toolbarMode();
if(!g){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if(f.isFullScreen()){return;
}var j=Telerik.Web.UI.Editor.DefaultToolAdapter._visibleWrapper;
if(j==this&&j._toolbarHolder&&j._toolbarHolder.isVisible()){j.get_toolbarHolder().setActive(true);
return;
}if(j&&j._showToolbarHolder){j._showToolbarHolder(false);
}Telerik.Web.UI.Editor.DefaultToolAdapter._visibleWrapper=this;
var i=this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if($telerik.isIE){switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:case this._toolbarEnum.RibbonBarPageTop:f.get_TopZone().firstChild.style.display="none";
break;
}if(f._isInInlineEditMode()){f.get_TopZone().firstChild.style.display="none";
}}i.get_contentElement().parentNode.style.overflow="visible";
this.repaint();
},_filterToolbarJson:function(){var n=this.get_toolJSON(),f,k,g,h,o,m;
for(f=0,k=n.length;
f<k;
f++){h=n[f];
o=h.tools;
for(g=o.length-1;
g>-1;
g--){m=o[g];
if(typeof(m.name)=="undefined"||!m.type||(m.type==Telerik.Web.UI.EditorToolType.ToolStrip&&m.name!="InsertTable")){o.splice(g,1);
}}}},_initializeRibbonBarButtons:function(){var t=this.get_ribbonBar();
var v=t.get_tabs();
for(var m=0,s=v.get_count();
m<s;
m++){var u=v.getTab(m);
var h=u.get_groups(m);
for(var q=0,f=h.get_count();
q<f;
q++){var g=h.getGroup(q);
var p=g.get_items();
for(var r=0,n=p.get_count();
r<n;
r++){var o=p.getItem(r);
this._initializeRibbonBarButton(o);
}}}},_initializeRibbonBarButton:function(f){if(f.get_value){this._ribbonBarButtons.push(f);
this._ribbonBarItems.push(f);
this._addSetOnMethodToButton(f);
this._addIsOnMethodToButton(f);
}else{if(f instanceof Telerik.Web.UI.RibbonBarSplitButton){this._ribbonBarSplitButtons.push(f);
this._ribbonBarItems.push(f);
}}},_addSetOnMethodToButton:function(f){f.setOn=function(g){if(this.set_toggled){this.set_toggled(g);
}};
},_addIsOnMethodToButton:function(f){f.isOn=function(){return(this.get_toggled)?this.get_toggled():false;
};
},_registerribbonBarHandlers:function(){var f=this.get_ribbonBar();
f.add_buttonToggled(this._onRibbonBarButtonClickedDelegate);
f.add_splitButtonClicked(this._onRibbonBarButtonClickedDelegate);
},_onRibbonBarButtonClick:function(j,f){var g=f.get_button();
if(g.set_toggled){g.set_toggled(false);
}var h=g.get_value();
var i=new Telerik.Web.UI.EditorCommandEventArgs(h,null,null);
this.get_editor().fire(h,i);
},get_ribbonBar:function(){if(!this._ribbonBar){this._ribbonBar=this.get_editor().get_ribbonBar();
}return this._ribbonBar;
},get_toolsWrapper:function(){if(!this._toolsWrapper){this._toolsWrapper=this.get_editor().get_TopZone().children[0];
}return this._toolsWrapper;
},getToolByName:function(f){return this.getRibbonBarButtonByName(f)||Telerik.Web.UI.Editor.RibbonBarToolAdapter.callBaseMethod(this,"getToolByName",[f]);
},getRibbonBarButtonByName:function(f){var g=this.get_ribbonBar();
return g.findButtonByValue(f)||g.findToggleButtonByValue(f)||g.findItemByAttribute("rel",f);
},_setEnabled:function(f){this._setRibbonBarItemsEnabled(f);
this._setEditorToolsEnabled(f);
},_setRibbonBarItemsEnabled:function(g){var j=this._ribbonBarItems;
for(var f=0,k=j.length;
f<k;
f++){var h=j[f];
this._setToolEnabled(h,g);
}},_setEditorToolsEnabled:function(g){var h=this._tools;
for(var f=0;
f<h.length;
f++){this._setToolEnabled(h[f],g);
}},_setToolEnabled:function(h,g){h.set_enabled(g);
var f=h.get_element();
if(!g){Sys.UI.DomElement.addCssClass(f,"rrbImagePlaceholderDisabled");
}else{Sys.UI.DomElement.removeCssClass(f,"rrbImagePlaceholderDisabled");
}},_getToolBarElements:function(){var f=this.get_ribbonBar().get_element();
if(!f){return null;
}var g=$telerik.$(f).find("div.rrbButtonGroup").get();
return g;
},_getToolBarItemElements:function(f){return $telerik.$(f).find("div.rrbTemplateItem").get();
},_getItemElementByIndex:function(g,f){return g[f];
},_getToolElement:function(f){return f.getElementsByTagName("A")[0];
},_attachHandlerToToolElementParent:function(f){var g=f.parentNode;
if($telerik.isSafari){g.setAttribute("onmousedown","return false;");
}$addHandlers(g,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolbarElement:function(f){},_toolbarSizeFixIE:function(f){},_onEditorSelectionChange:function(g,f){this.get_ribbonBar()._hideMenus();
this.setRibbonBarToolState();
this.setToolState();
this._rangeState=null;
},setRibbonBarToolState:function(n,h){if(!n){n=this._ribbonBarButtons;
}var f=this.get_editor(),k=Telerik.Web.UI.Editor.DomRange.rangeFromWindow(f.get_contentWindow());
this._rangeState=k;
for(var g=0;
g<n.length;
g++){var j=n[g];
var m=j.get_value();
var l=h;
if(null==l){l=f.getToolState(m,k);
}if(null!=l){this._setRibbonBarButtonState(j,l);
}}},_setRibbonBarButtonState:function(f,g){if(g==Telerik.Web.UI.Editor.CommandStates.Disabled){this._setToolEnabled(f,false);
}else{this._setToolEnabled(f,true);
if(g==Telerik.Web.UI.Editor.CommandStates.Off){f.set_toggled(false);
}else{f.set_toggled(true);
}}},get_toolbarMode:function(){if(!this._toolbarMode){this._toolbarMode=this.get_editor().get_toolbarMode();
}return this._toolbarMode;
},set_toolbarMode:function(f){this._toolbarMode=f;
}};
Telerik.Web.UI.Editor.RibbonBarToolAdapter.registerClass("Telerik.Web.UI.Editor.RibbonBarToolAdapter",Telerik.Web.UI.Editor.DefaultToolAdapter);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,j){var c=Telerik.Web.UI;
var b=c.Editor;
var h="div.rrbCommandGroup";
var g=".rrbImagePlaceholder";
var i="reRibbonToolIcon";
b.RibbonBarToolAdapterLite=function(k){b.RibbonBarToolAdapterLite.initializeBase(this,[k]);
};
b.RibbonBarToolAdapterLite.prototype={_getToolBarElements:function(){var k=this.get_ribbonBar().get_element();
if(!k){return null;
}return $telerik.$(k).find(h).get();
},_initializeRibbonBarButton:function(k){b.RibbonBarToolAdapterLite.callBaseMethod(this,"_initializeRibbonBarButton",[k]);
d(k);
}};
b.RibbonBarToolAdapterLite.registerClass("Telerik.Web.UI.Editor.RibbonBarToolAdapterLite",b.RibbonBarToolAdapter);
function d(m){var k=e(m);
var l=f(m);
k.addClass(i).addClass("re"+l);
var n=m.get_items&&m.get_items();
if(n){n.forEach(d);
}}function f(k){return k.get_value()||k.get_element().getAttribute("rel");
}function e(k){return a(k.get_element()).find(g);
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
var f=".telerikEditor";
var c=$telerik.cancelRawEvent;
var g=b.EventType;
var e=g.Down+f;
var i=g.Move+f;
var j=g.Up+f;
var d="click"+f;
var h="Mobile";
b.EditorButton=function(k){b.EditorButton.initializeBase(this,[k]);
this._enabled=true;
this._text="";
this._isOn=false;
this._contentAreaMode="";
this._enableAriaSupport=false;
this._rendermode="";
this._shortCut="";
};
b.EditorButton.getToolRootNode=function(k){while(k&&k.tagName!="A"){k=k.parentNode;
}return k;
};
b.EditorButton.prototype={initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorButton");
this.__attachEventHandlers();
},__attachEventHandlers:function(){if(this.get_addClickHandler()){var k=this.get_element();
if(!this._clickDelegate){if(this.get_rendermode()==h){this._attachMobileHandlers(k);
}else{this._attachHandlers(k);
}}}},_attachHandlers:function(k){this._clickDelegate=Function.createDelegate(this,this.click);
$telerik.onEvent(k,e,this._clickDelegate);
},_attachMobileHandlers:function(k){this._clickDelegate=Function.createDelegate(this,this.clickMobile);
this._downDelegate=Function.createDelegate(this,this.downMobile);
$telerik.onEvent(k,e,this._downDelegate);
$telerik.onEvent(k,j,this._clickDelegate);
$telerik.onEvent(k,d,c);
},_attachMoveHandler:function(){if(!this._moveDelegate){this._moveDelegate=Function.createDelegate(this,this.moveMobile);
}$telerik.onEvent(this.get_element(),i,this._moveDelegate);
},__detachEventHandlers:function(){var k=this.get_element();
if(this._clickDelegate&&k){if(this.get_rendermode()==h){this._detachMobileHandlers(k);
}else{this._detachHandlers(k);
}delete this._clickDelegate;
}},_detachHandlers:function(k){$telerik.offEvent(k,e,this._clickDelegate);
},_detachMobileHandlers:function(k){$telerik.offEvent(k,j,this._clickDelegate);
$telerik.offEvent(k,d,c);
delete this._moveDelegate;
},_detachMoveHandler:function(){$telerik.offEvent(this.get_element(),i,this._moveDelegate);
delete this._moveDelegate;
},dispose:function(){this.__detachEventHandlers();
b.EditorButton.callBaseMethod(this,"dispose");
},click:function(k){this.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(k);
},downMobile:function(){this._moved=false;
this._attachMoveHandler();
this._view.select();
},moveMobile:function(){this._moved=true;
},clickMobile:function(k){this._view.deselect();
if(!this._moved){this.click(k);
}this._moved=false;
this._detachMoveHandler();
},add_valueSelected:function(k){this.get_events().addHandler("valueSelected",k);
},remove_valueSelected:function(k){this.get_events().removeHandler("valueSelected",k);
},raiseEvent:function(l,k){var m=this.get_events().getHandler(l);
if(m){if(!k){k=Sys.EventArgs.Empty;
}m(this,k);
}},set_width:function(k){this._width=k;
if(this._view){this._view.set_width(k);
}},get_width:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},set_height:function(k){this._height=k;
if(this._view){this._view.set_height(k);
}},get_height:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},get_tooltipIncrease:function(){if(this._view){this._tooltipIncrease=this._view.get_tooltipIncrease();
}return this._tooltipIncrease;
},set_tooltipIncrease:function(k){this._tooltipIncrease=k;
if(this._view){this._view.set_tooltipIncrease(k);
}},get_tooltipDecrease:function(){if(this._view){this._tooltipDecrease=this._view.get_tooltipDecrease();
}return this._tooltipDecrease;
},set_tooltipDecrease:function(k){this._tooltipDecrease=k;
if(this._view){this._view.set_tooltipDecrease(k);
}},get_shortCut:function(){return this._shortCut;
},set_shortCut:function(k){this._shortCut=this._parseShortCut(k);
this._updateAnchorTitle();
},_parseShortCut:function(o){var m=(o+"").replace(/\s/g,""),l=Telerik.Web.Platform;
if(m.indexOf("/")!=-1&&m.indexOf("CMD")!=-1&&m.match(/CTRL|F[\d]/)){var n=m.split("/"),k=n[0].indexOf("CMD")>-1;
if(l&&l.mac){m=k?n[0]:n[1];
}else{m=k?n[1]:n[0];
}}return m;
},_updateAnchorTitle:function(){var k=this.get_shortCut(),l=this.get_text();
if(k){l=l.replace(/\([^\)]*\)/,"("+k+")");
}a(this.getAnchorElement()).attr("title",l);
},isTarget:function(k){return $telerik.isDescendantOrSelf(this.get_element(),k.target);
},setState:function(k){this.set_enabled(k!=b.Editor.CommandStates.Disabled);
this.setOn(k==b.Editor.CommandStates.On);
},setFocus:function(){var k=this.getAnchorElement();
if(k&&k.focus){k.focus();
}},get_enabled:function(){return this._enabled;
},set_enabled:function(k){if(this._enabled!=k){this._enabled=k;
if(this._view){if(k){this._view.enable();
}else{this._view.disable();
}}}},get_enableAriaSupport:function(){return this._enableAriaSupport;
},set_enableAriaSupport:function(m,l){if(this.get_enableAriaSupport()!=m){this._enableAriaSupport=m;
var k=this.getAnchorElement();
if(!k){return;
}if(this.get_enableAriaSupport()){l=l?l:"button";
k.setAttribute("role",l);
}}},isOn:function(){return this._isOn;
},setOn:function(l,k){if(this._isOn!=l){this._isOn=l;
if(this._view){if(this._isOn){this._view.select(k);
}else{this._view.deselect(k);
}}}},get_text:function(){if(this._text){return this._text;
}var k=this.getAnchorElement();
if(k&&k.getAttribute("title")){return k.getAttribute("title");
}return this.get_name();
},set_text:function(k){if(this._text!=k){this._text=k;
if(this.get_showText()&&this._view){this._view.set_text(k);
}}},get_contentAreaMode:function(){if(this._contentAreaMode!=""){return this._contentAreaMode;
}else{return b.EditorContentAreaMode.Iframe;
}},set_contentAreaMode:function(k){this._contentAreaMode=k;
},getAnchorElement:function(){return this.get_element();
},getSpanElement:function(){if(this.rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode==="Lightweight")){return null;
}else{var k=this.getAnchorElement();
var l=k.firstChild;
while(l!=null&&(l.tagName==null||l.tagName.toLowerCase()!="span")){l=l.nextSibling;
}return l;
}}};
a.registerControlProperties(b.EditorButton,{clientStateFieldID:null,attributes:{},addClickHandler:false,autoPostBack:false,name:"",showIcon:true,showText:false,skin:"",type:null,rendermode:"Classic",clientTypeName:"Telerik.Web.UI.EditorButton"});
a.registerControlEvents(b.EditorButton,["valueSelected"]);
b.EditorButton.registerClass("Telerik.Web.UI.EditorButton",Sys.UI.Control);
Telerik.Web.UI.EditorSpinBoxEventArgs=function(k,l){Telerik.Web.UI.EditorSpinBoxEventArgs.initializeBase(this);
this._newValue=k;
this._oldValue=l;
};
Telerik.Web.UI.EditorSpinBoxEventArgs.prototype={get_oldValue:function(){return this._oldValue;
},get_newValue:function(){return this._newValue;
}};
Telerik.Web.UI.EditorSpinBoxEventArgs.registerClass("Telerik.Web.UI.EditorSpinBoxEventArgs",Sys.CancelEventArgs);
Telerik.Web.UI.EditorSpinBox=function(k){Telerik.Web.UI.EditorSpinBox.initializeBase(this,[k]);
this._width="50px";
this._className="reSpinBox";
this._selectedItem="";
this._initialValue="";
this._visibleInput=true;
this._enabledIncrease=true;
this._enabledDecrease=true;
};
Telerik.Web.UI.EditorSpinBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement=null;
this._increaseButton.onclick=null;
this._increaseButton=null;
this._decreaseButton.onclick=null;
this._decreaseButton=null;
Telerik.Web.UI.EditorSpinBox.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSpinBox");
},_executeFunction:function(k,l,n){if(n){if(l.Executed){l.Executed=false;
return $telerik.cancelRawEvent(k);
}}l.Executed=true;
var o=(this._selectedItem!="")?this._selectedItem:this._initialValue;
this._selectedItem=l.value;
var m=new Telerik.Web.UI.EditorSpinBoxEventArgs(l.value,o);
this.raiseEvent("valueSelected",m);
},_onPlusMinusClickHandler:function(k){var m=this._view.getSpinBoxArrowFormEvent(k);
if(!m){return;
}var n=this.get_value();
n=n.replace(/^0+(\d)/ig,"$1");
if(""==n){n="0";
}var o=parseInt(n,10);
var l=o+"";
if(isNaN(o)){return;
}else{l=n.substring(l.length);
}if(m==this._increaseButton){if(this._enabledIncrease){o++;
}else{return;
}}else{if(m==this._decreaseButton){if(this._enabledDecrease){o--;
}else{return;
}}else{m=null;
}}if(m&&o>=0){this.set_value(o+l);
this._executeFunction(k,this._inputElement);
}return false;
},_onChangeHandler:function(k){if(!k){k=window.event;
}this._executeFunction(k,this._inputElement);
},_onKeyPressHandler:function(k){if(!k){k=window.event;
}if(k.keyCode==13){this._executeFunction(k,this._inputElement);
return $telerik.cancelRawEvent(k);
}},_onKeyDownHandler:function(k){if(!k){k=window.event;
}k.returnValue=this._isKeyValid(k);
},_onKeyUpHandler:function(k){if(!k){k=window.event;
}if(this._isKeyValid(k,true)){var n=this._selectedItem;
var m=this.get_value();
var l=new Telerik.Web.UI.EditorSpinBoxEventArgs(m,n);
this.raiseEvent("valueSelected",l);
}},_isKeyValid:function(l,o){try{if(!l){l=window.event;
}var n=l.keyCode;
var k=((48<=n&&n<=57)||(96<=n&&n<=105)||(13==n)||(8==n)||(46==n)||(9==n)||(!o&&35<=n&&n<=40));
return k;
}catch(m){return true;
}},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(k){if(null==k){k="";
}this._inputElement.value=k;
if(this._initialValue==""){this._initialValue=k;
}},get_width:function(){return this._width;
},set_width:function(l){this._width=l;
var k=this.get_element();
k.style.width=this._width;
},get_enabledIncrease:function(){return this._enabledIncrease;
},set_enabledIncrease:function(k){this._enabledIncrease=k;
this._setButtonState(this._increaseButton,k);
},get_enabledDecrease:function(){return this._enabledDecrease;
},set_enabledDecrease:function(k){this._enabledDecrease=k;
this._setButtonState(this._decreaseButton,k);
},_setButtonState:function(k,l){if(!l){Sys.UI.DomElement.addCssClass(k,"disabled-button");
}else{Sys.UI.DomElement.removeCssClass(k,"disabled-button");
}},get_visibleInput:function(){return this._visibleInput;
},set_visibleInput:function(k){this._visibleInput=k;
if(this._inputElement){if(!this._visibleInput){this._inputElement.style.display="none";
}else{this._inputElement.style.display="";
}}}};
Telerik.Web.UI.EditorSpinBox.registerClass("Telerik.Web.UI.EditorSpinBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorCheckBox=function(k){Telerik.Web.UI.EditorCheckBox.initializeBase(this,[k]);
this._selectedItem=false;
};
Telerik.Web.UI.EditorCheckBox.prototype={dispose:function(){this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorCheckBox.callBaseMethod(this,"dispose");
},get_selectedItem:function(){return this._selectedItem;
},set_value:function(k){if(this._inputElement.checked!=k){this._inputElement.checked=k;
}},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorCheckBox");
var k=document.createElement("input");
k.setAttribute("type","CHECKBOX");
k.Parent=this;
k.onclick=function(l){var m=this.Parent;
m._selectedItem=!m._selectedItem;
this.checked=m._selectedItem;
m._selectedItem=this.checked;
m.raiseEvent("valueSelected");
};
this._inputElement=k;
this.get_element().appendChild(k);
}};
Telerik.Web.UI.EditorCheckBox.registerClass("Telerik.Web.UI.EditorCheckBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorTextBox=function(k){Telerik.Web.UI.EditorTextBox.initializeBase(this,[k]);
this._width="100px";
this._selectedItem="";
};
Telerik.Web.UI.EditorTextBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorTextBox.callBaseMethod(this,"dispose");
},get_width:function(){return this._width;
},set_width:function(k){this._width=k;
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorTextBox");
var l=document.createElement("input");
l.setAttribute("type","text");
l.style.width=this.get_width();
l.Parent=this;
var k=function(m,n,o){if(o){if(n.Executed){n.Executed=false;
return $telerik.cancelRawEvent(m);
}}n.Executed=true;
n.Parent._selectedItem=n.value;
n.Parent.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(m);
};
l.onchange=function(m){if(!m){m=window.event;
}return k(m,this,true);
};
l.onclick=function(m){this.focus();
};
l.onkeypress=function(m){if(!m){m=window.event;
}if(m.keyCode==13){return k(m,this);
}};
this._inputElement=l;
this.get_element().appendChild(l);
},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(k){if(null==k){k="";
}this._inputElement.value=k;
}};
Telerik.Web.UI.EditorTextBox.registerClass("Telerik.Web.UI.EditorTextBox",Telerik.Web.UI.EditorButton);
b.ImageDialogCaller=function(k){b.ImageDialogCaller.initializeBase(this,[k]);
this._hidePropertiesTab=false;
};
b.ImageDialogCaller.prototype={dispose:function(){this._inputElement=null;
var k=this.get_pushButton();
if(k){k.onclick=null;
}this.set_pushButton(null);
this.set_editor(null);
b.ImageDialogCaller.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ImageDialogCaller");
var k=this.get_element();
this._inputElement=k.getElementsByTagName("INPUT")[0];
var l=k.getElementsByTagName("A")[0];
this.set_pushButton(l);
if(l){l.onclick=Function.createDelegate(this,this._onButtonClickHandler);
}},_onButtonClickHandler:function(k){this.callImageDialog();
},_dialogCallbackFunction:function(n,k){var m=k&&k.get_value?k.get_value():null;
var l=m[m.length-1];
var o="";
if(l&&l.getAttribute){o=l.getAttribute("src",2);
}if(o){this._inputElement.value=o;
this.raiseEvent("valueSelected");
}},callImageDialog:function(){var l=Function.createDelegate(this,this._dialogCallbackFunction);
var o=this.get_editor();
var m=null;
if(o){m=o.get_dialogOpener();
}else{if(b.Dialogs&&b.Dialogs.CommonDialogScript&&b.Dialogs.CommonDialogScript.get_windowReference()){m=b.Dialogs.CommonDialogScript.get_windowReference().get_dialogOpener();
}}var r=null;
var q;
if(m){q=m.get_additionalQueryString();
var s=this._inputElement.value;
if(s){var p=s;
m.set_additionalQueryString(q+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(p));
var n=o?o.get_document():document;
r=n.createElement("img");
r.setAttribute("src",p);
}}var k=new b.EditorCommandEventArgs("ImageManager",null,r);
b.Editor.CommandList._getDialogArguments(k,"IMG",o,"ImageManager");
if(this._hidePropertiesTab){k._hidePropertiesTab=true;
}if(o){o.showDialog("ImageManager",k,l);
}else{if(m){m.open("ImageManager",k,l);
}}if(m){m.set_additionalQueryString(q);
}},get_value:function(){return this._inputElement.value;
},set_value:function(k){if(null==k){k="";
}this._inputElement.value=k;
}};
a.registerControlProperties(b.ImageDialogCaller,{pushButton:null,editor:null,width:""});
b.ImageDialogCaller.registerClass("Telerik.Web.UI.ImageDialogCaller",b.EditorButton);
})();
(function(a,u){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI,l="reFirstItem",q="reLastItem",r=".reEditorColorList",g="click",s="reSelectedColor",t="."+s,k=".reCurrentColor",j=".reCurrentColorHex",h="reColorListItem",i="."+h,e="reIconClearButton",d="reClearButton",f=".reClearButton",c=".reAddCustomColor",p='<li class="reColorListItem" style="width: # width #; background-color: # bgcolor #;"></li>',o='<ul class="reToolList reToolDropDown" unselectable="on"></ul>',m='<span title="# text #" role="button" class="reButton reAddCustomColor"># text #</span>',n='<div class="reColorPickerHeader">	<span role="button" title="Clear" class="reButton reClearButton" style="display: none;">		<span class="reIcon reIconClearButton"></span>	</span>	<span class="reCurrentColorWrapper">		<span style="background-color: # currentValue #;" class="reCurrentColor"></span>		<span class="reCurrentColorHex"># currentValueText #</span>	</span></div>';
b.EditorColorList=function(v){var w=this;
b.EditorColorList.initializeBase(w,[v]);
w._items=[];
w._value="";
w._addCustomColorText="Add Custom Color";
};
b.EditorColorList.prototype={initialize:function(){b.EditorColorList.callBaseMethod(this,"initialize");
this._$element=a(this.get_element());
this._createUI();
this._initialized=true;
this._attachElementsEventHandlers();
},_createUI:function(){this.renderHeader();
this.renderItemsContainer();
this.renderItems();
this.renderFooter();
},renderHeader:function(){var x=this,y=x.get_value(),w=y||x.get_currentColorText(),v=n.replace(/# currentValue #/ig,y).replace(/# currentValueText #/ig,w);
x._$element.append(v);
},renderItemsContainer:function(){var v=a(o).appendTo(this.get_element()).get(0);
this.set_itemsContainer(v);
},renderItems:function(){var z=this,y=z.get_itemsContainer();
z._renderedItems=0;
y.innerHTML="";
for(var w=0;
w<z._items.length;
w++){var x=z._items[w];
var v=z.renderItemContainer(y,x);
if(!x){a(v).hide();
z._showClearColorButton();
}else{z._styleEdges(v,w);
z._renderedItems++;
}}},_styleEdges:function(v,w){var A=this,z=A.get_itemsperrow(),x=A._renderedItems%z==0,y=A._renderedItems%z==z-1||w==A._items.length-1;
if(x){a(v).addClass(l);
}if(y){a(v).addClass(q);
if(!x){a(v.previousSibling).removeClass(q);
}}},_showClearColorButton:function(){this._$element.find(f).show();
},renderItemContainer:function(x,w){var y=parseFloat(100/this.get_itemsperrow(),10)+"%",v=a(p.replace(/# width #/g,y).replace(/# bgcolor #/g,w));
a(x).append(v);
return v.get(0);
},renderFooter:function(){var v=this.get_addCustomColorText(),w=m.replace(/# text #/g,v);
this._$element.append(w);
},_attachElementsEventHandlers:function(v){var x=this,w=this.get_element();
a(".reToolList",w).add(".reClearButton",w).add(".reAddCustomColor",w).on(g+r,a.proxy(x._onClick,x));
},_detachElementsEventHandlers:function(){var v=this.get_element();
a(".reToolList",v).add(".reClearButton",v).add(".reAddCustomColor",v).off(g+r);
},get_items:function(){return this._items;
},set_items:function(v){this._items=v;
if(this._initialized){this.renderItems();
}},get_value:function(){return this._value;
},set_value:function(v){this._value=v;
this._updateHeader();
this._markSelectedItem();
this.raiseEvent("valueSelected");
},_updateHeader:function(){var w=this,x=w.get_value(),v=w._rgbToHex(x)||w.get_currentColorText();
w._$element.find(k).css("background-color",w.get_value());
w._$element.find(j).html(v);
},_markSelectedItem:function(){var w=this,v=w._rgbToHex;
w._$element.find(t).removeClass(s);
w._$element.find(i).each(function(y,x){if(v(w.get_value()).toLowerCase()==v(x.style.backgroundColor).toLowerCase()){a(x).addClass(s);
return false;
}});
},get_itemsContainer:function(){return this._itemsContainer;
},set_itemsContainer:function(v){this._itemsContainer=v;
},get_text:function(){return this._text;
},click:function(){},_onClick:function(v){var x=this,w=v.target;
if(x._isClearButton(w)){x.set_value("");
}else{if(x._isColorItem(w)){x._colorItemClicked(v);
}else{if(x._isAddCustomColorButton(w)){x._customColorClicked();
}}}},_isClearButton:function(w){var v=a(w);
return v.hasClass(e)||v.hasClass(d);
},_isColorItem:function(v){return a(v).hasClass(h);
},_isAddCustomColorButton:function(v){return a(v).hasClass("reAddCustomColor");
},_colorItemClicked:function(v){var w=v.target,x=this._rgbToHex(w.style.backgroundColor);
this.set_value(x);
},_customColorClicked:function(x){var y=this,v=y._testValidColor(window.prompt(y.get_addCustomColorText(),"#"));
if(v){y._items.push(v);
var w=y.renderItemContainer(y.get_itemsContainer(),v);
y._styleEdges(w,y._items.length-1);
y._renderedItems++;
y.set_value(v);
}$telerik.cancelRawEvent(x);
},_testValidColor:function(v){if(v){var x=document.createElement("a");
try{x.style.borderBottom="3px solid "+v;
}catch(w){v="";
}finally{x=null;
}}return v;
},_rgbToHex:function(v){if(v.toLowerCase().indexOf("rgb")!=-1){var x="#";
var w=function(z){var y=parseInt(z,10).toString(16);
x+=(y.length==1?"0"+y:y);
return z;
};
v=v.replace(/(\d+)/gi,w);
w=null;
return x;
}else{return v;
}},set_addCustomColorText:function(v){this._addCustomColorText=v;
if(this._initialized){this._$element.find(c).html(this._addCustomColorText);
}},get_addCustomColorText:function(){return this._addCustomColorText;
},dispose:function(){this._detachElementsEventHandlers();
b.EditorColorList.callBaseMethod(this,"dispose");
}};
b.EditorColorList.registerClass("Telerik.Web.UI.EditorColorList",b.EditorButton);
a.registerControlProperties(b.EditorColorList,{itemsperrow:6,currentColorText:"Select Color"});
a.registerControlEvents(b.EditorColorList,["valueSelected"]);
})($telerik.$);
(function(a,t){Type.registerNamespace("Telerik.Web.UI");
var c=window.$telerik;
var b=Telerik.Web.UI;
var p=b.RenderMode;
var n=Telerik.Web.PositioningMode;
var i=b.EventType;
var o=a.proxy;
var m="Mobile";
var l="li";
var s=".reToolView";
var g=".reDropDownsContainer";
var r="reRowSelected";
var q="reDropDownSelected";
var h=".telerikEditor";
var d=".";
var k="linear";
var j="hide";
var u="100vw";
var e="dblclick";
var f=120;
b.EditorDropDown=function(v){b.EditorDropDown.initializeBase(this,[v]);
this.isIE=c.isIE;
this._popupVisible=false;
this._rendered=false;
this._childrenRendered=false;
this._popupElement=null;
this._itemRootElement=null;
this._onPopupClickDelegate=null;
this._onPopupMouseDownDelegate=null;
this._onPopupMouseOverDelegate=null;
this._items=[];
this._isArrayCollection=false;
this._selectedIndex=-1;
this._activeIndex=-1;
};
b.EditorDropDown.prototype={initialize:function(){var v=this;
b.EditorDropDown.callBaseMethod(v,"initialize");
v._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(v,"EditorDropDown");
if(v._isMobileRenderMode()){v._attachElementHandlers();
}},_attachElementHandlers:function(){var w=this;
var v=a(w.get_element());
w._clickHandler=o(w.click,w);
w._selectHandler=o(w._onDropDownSelect,w);
v.offEvent(h);
v.onEvent(i.Down+h,w._selectHandler);
v.onEvent(i.Up+h,w._clickHandler);
v.doubletap(function(x){return c.cancelRawEvent(x);
});
v.off(e+h);
v.on(e+h,function(x){return c.cancelRawEvent(x);
});
},_onDropDownSelect:function(){var w=this;
var v=a(w.get_element());
v.addClass(q);
v.offEvent(i.Up+h,w._clickHandler);
v.onEvent(i.Up+h,w._clickHandler);
},dispose:function(){var v=this;
b.EditorDropDown.callBaseMethod(v,"dispose");
v.detachEventHandlers();
v.disposeChildren();
},click:function(w){var v=this;
if(v._isMobileRenderMode()){a(v.get_element()).removeClass(q);
}v.show();
return c.cancelRawEvent(w);
},isExpanded:function(){return this._popupVisible;
},show:function(){var v=this;
if(this._popupVisible){return;
}if(this.get_clearSelectedOnShow()){this.set_selectedIndex(-1);
}var w=false;
if(!this._rendered){this.render();
v.attachEventHandlers();
w=true;
}this.raiseEvent("show");
if(this._childrenRendered&&!this._allChildrenRendered()){this.disposeChildren();
}if(!this._childrenRendered){this.renderChildren();
v._attachItemsContainerEventHandlers();
v._attachItemsEventHandlers();
this._childrenRendered=true;
w=true;
}if(w){this._makeAllItemsUnselectable();
}if(v._isMobileRenderMode()){v._showPopup();
}else{this._show();
}if(this.get_enableAriaSupport()){this._popupElement.removeAttribute("aria-hidden");
}},configurePopupPropertiesBeforeShow:function(){var v=this;
if(v._isMobileRenderMode()){v._popupBehavior.set_positioningMode(n.None);
}else{v._popupBehavior.set_positioningMode(n.BottomLeft);
}},hide:function(){var v=this;
if(this._popupBehavior){this._popupBehavior.hide();
}this._popupVisible=false;
this._getPopupVisibilityController().notifyPopupClosed(v);
if(!v._isMobileRenderMode()){v.raiseEvent(j);
}if(this.get_enableAriaSupport()){this._popupElement.setAttribute("aria-hidden","true");
}},onPopupMouseOver:function(w){var v=this.resolveActiveIndex(w);
if(v>-1){this.set_activeIndex(v,w);
}c.cancelRawEvent(w);
},_onPopupClick:function(v){var w=this.resolveActiveIndex(v);
c.cancelRawEvent(v);
if(w>-1){this._selectedIndex=w;
if(this.get_enableAriaSupport()){this.selectUIItem(null,null,true);
}this.hide();
this.raiseEvent("valueSelected");
}},get_activeIndex:function(){return this._activeIndex;
},set_activeIndex:function(w,v){this._activeIndex=w;
this.selectUIItem(v);
},selectPreviousItem:function(){var v=this.get_activeIndex();
if(v-1>=0){this.set_activeIndex(v-1);
}},selectNextItem:function(){var v=this.get_activeIndex();
if(v+1<this._items.length){this.set_activeIndex(v+1);
}},selectUIItem:function(w,C,y){if(!this._popupElement||!this._view){return;
}var B=this.get_popupElement();
var v=this._view.getItemElements(B);
var z=v.length;
var E=this.get_activeIndex();
var D=null;
var F=this.get_enableAriaSupport()&&y;
for(var x=0;
x<z;
x++){var A=v[x];
if(!this._headerClassName||A.className!=this._headerClassName){if(F){A.removeAttribute("aria-selected");
}if(A.item_index==E){a(A).addClass("reItemOver");
D=A;
if(F){D.setAttribute("aria-selected","true");
B.setAttribute("aria-activedescendant",D.getAttribute("id"));
B.childNodes[0].setAttribute("aria-activedescendant",D.getAttribute("id"));
}}else{if(C&&A.item_index<=E){a(A).addClass("reItemOver");
}else{a(A).removeClass("reItemOver");
}}}}if(D&&!w){this._scrollIntoView(D);
}return D;
},_scrollIntoView:function(v){c.scrollIntoView(v);
},attachEventHandlers:function(){var v=this;
if(!this._popupElement){return;
}v.detachEventHandlers();
this._onPopupMouseOverDelegate=Function.createDelegate(this,this.onPopupMouseOver);
this._onPopupClickDelegate=Function.createDelegate(this,this._onPopupClick);
if(v._isMobileRenderMode()){v._attachElementHandlers();
v._attachItemsContainerEventHandlers();
v._attachItemsEventHandlers();
v._attachPopupElementEventHandlers();
}else{$addHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
c.addHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
}},_attachItemsContainerEventHandlers:function(){var v=this;
var w=v._itemRootElement;
a(w).onEvent(i.Move+h,o(v._onItemsContainerMove,v));
a(w).onEvent(i.Up+h,o(v._onItemsContainerUp,w));
},_onItemsContainerMove:function(w){var v=this;
var x=w.currentTarget;
a(x).children(l+d+r).removeClass(r);
a(v.get_popupElement()).offEvent(i.Up+h,v._onPopupClickDelegate);
},_onItemsContainerUp:function(v){var w=this;
a(w).children(l+d+r).removeClass(r);
},_attachItemsEventHandlers:function(){var v=this;
var x=a(v._itemRootElement).children(l);
var y=x.length;
for(var w=0;
w<y;
w++){a(x[w]).onEvent(i.Down+h,o(v._onItemDown,v));
}},_attachPopupElementEventHandlers:function(){var w=this;
var v=a(w.get_popupElement());
v.doubletap(function(x){return c.cancelRawEvent(x);
});
v.on(e+h,function(x){return c.cancelRawEvent(x);
});
},_onItemDown:function(x){var w=this;
var v=a(w.get_popupElement());
var y=x.currentTarget;
a(y).addClass(r);
v.offEvent(i.Up+h,w._onPopupClickDelegate);
v.onEvent(i.Up+h,w._onPopupClickDelegate);
},detachEventHandlers:function(){var v=this;
if(v._isMobileRenderMode()){v._detachElementEventHandlers();
v._detachItemsContainerEventHandlers();
v._detachItemsEventHandlers();
v._detachPopupElementEventHandlers();
}else{if(null!=this._onPopupMouseOverDelegate){$removeHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
this._onPopupMouseOverDelegate=null;
}if(null!=this._onPopupClickDelegate){c.removeHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
this._onPopupClickDelegate=null;
}}v._clickHandler=null;
},_detachElementEventHandlers:function(){var w=this;
var v=a(w.get_element());
v.offEvent(h);
v.off("click");
v.off("touchend");
},_detachItemsContainerEventHandlers:function(){a(this._itemRootElement).off(h);
},_detachItemsEventHandlers:function(){a(this._itemRootElement).children(l).off(h);
},_detachPopupElementEventHandlers:function(){var w=this;
var v=a(w.get_popupElement());
v.offEvent(h);
v.off("click");
v.off("touchend");
},_getPopupClickEventName:function(){return this._shouldPreferMousedown()?"mousedown":"click";
},_shouldPreferMousedown:function(){return c.isIE||this.get_contentAreaMode()==b.EditorContentAreaMode.Div||Telerik.Web.Platform.ios;
},disposeChildren:function(){this._childrenRendered=false;
if(this._itemRootElement&&this._itemRootElement.parentNode){var v=this._itemRootElement;
this.renderItemRoot();
v.parentNode.replaceChild(this._itemRootElement,v);
}},render:function(){this._createUI();
this.renderHeader();
this.renderChildren();
this.renderFooter();
this._rendered=true;
this._childrenRendered=true;
},renderHeader:function(){if(this._view){this._view.renderHeader();
}},renderFooter:function(){if(this._view){this._view.renderFooter();
}},renderItemRoot:function(){this._itemRootElement=this._view?this._view.renderItemRoot():null;
return this._itemRootElement;
},renderNewRow:function(){return this._view?this._view.renderNewRow(this._itemRootElement):null;
},renderItemContainer:function(v){return this._view?this._view.renderItemContainer(this._itemRootElement,v):null;
},renderChildren:function(){return this._view?this._view.renderChildren():null;
},renderChild:function(v,w,y){if(this._view){this._view.renderChild(v,w,y);
}if(this.get_enableAriaSupport()){var x=this._popupBehavior.get_id()+"_"+y;
v.setAttribute("id",x);
v.setAttribute("role","option");
}},resolveActiveIndex:function(v){var w=v.target;
var x=-1;
while(w&&w!=this._itemRootElement){if(null!=w.item_index){x=w.item_index;
break;
}w=w.parentNode;
}return x;
},markItemContainer:function(w,v){w.item_index=v;
},_makeAllItemsUnselectable:function(){if(!this._popupElement){return;
}this._popupElement.setAttribute("unselectable","on");
var v=this._popupElement.getElementsByTagName("*");
var x=v.length;
for(var w=0;
w<x;
w++){v[w].unselectable="on";
}},_show:function(){this.configurePopupPropertiesBeforeShow();
var z=this._popupElement;
var A=this.get_sizetofit();
var y=z.style.overflow;
if(A){z.style.overflowY="hidden";
}this._itemRootElement.style.width="100%";
this._popupBehavior.show();
z.style.width=this.get_popupwidth();
z.style.height=this.get_popupheight();
var x=this._getPopupChildrenHeight();
if(x!="0px"){x=this._getQuirksModeHeight(z,x);
}if(A){z.style.width=this._getPopupChildrenWidth();
z.style.height=x;
}else{var v=parseInt(x,10);
var w=parseInt(z.style.height,10);
if(v<w&&v>(w/2)){z.style.height=x;
}}this._popupBehavior.show();
this._getPopupVisibilityController().set_activePopup(this);
z.style.zIndex="100000";
if(A){z.style.overflowY=y;
}this._popupVisible=true;
},_showPopup:function(){var v=this;
v.configurePopupPropertiesBeforeShow();
v._popupBehavior.show();
v._getPopupVisibilityController().set_activePopup(v);
v._popupVisible=true;
},_getQuirksModeHeight:function(A,y){try{if(c.quirksMode){var v=c.getBorderBox(A);
var z=c.getPaddingBox(A);
var x=parseInt(y,10)+(v.top*2);
x+=z.top+z.bottom;
y=x+"px";
}}catch(w){}return y;
},_getPopupChildrenWidth:function(){var v=this.get_popupElement().childNodes;
var y=0;
for(var w=0;
w<v.length;
w++){var x=v[w].offsetWidth;
if(x&&x>y){y=x;
}}return y+"px";
},_getPopupChildrenHeight:function(){var v=this.get_popupElement().childNodes;
var w=0;
for(var x=0;
x<v.length;
x++){if(v[x].offsetHeight){w+=v[x].offsetHeight;
}}return w+"px";
},_getPopupVisibilityController:function(){return b.Editor.PopupController;
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var v=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+v;
},_createUI:function(){var v=this;
var x=v._isMobileRenderMode();
if(this._popupBehavior){return;
}var w=this.get_element();
if(!this._popupElement){var z=document.createElement("div");
var A="";
if(this._rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode=="Lightweight")){A="RadEditor_"+this.get_skin();
}else{A=this.get_skin();
}c.addCssClasses(z,[A,this.get_rootpopupclassname(),this.get_popupclassname()]);
this._popupElement=z;
this._popupElement.style.display="none";
if(!x){this._popupElement.style.position="absolute";
}if(x){a(w).closest(s).find(g).append(v._popupElement);
}else{document.body.appendChild(this._popupElement);
}}this.renderItemRoot();
this._popupElement.appendChild(this._itemRootElement);
this._popupBehavior=$create(Telerik.Web.PopupBehavior,{id:this.getUniqueID(),parentElement:w,_useAnimation:x},null,null,this._popupElement);
if(x){v._setAnimation();
}if(this.get_enableAriaSupport()){var y=this.get_popupElement();
y.setAttribute("role","listbox");
y.setAttribute("aria-hidden","true");
y.setAttribute("aria-label",this.get_element().title);
}},_isMobileRenderMode:function(){var v=this;
var w=v._rendermode;
return(w===p.Mobile||w===m);
},_setAnimation:function(){var w=this;
var v=a(w.get_popupElement());
w._popupBehavior.set_showAnimation({easing:k,duration:f,properties:{"margin-left":0}});
w._popupBehavior.set_hideAnimation({easing:k,duration:f,properties:{"margin-left":u},callback:function(){v.hide();
w.raiseEvent(j);
}});
v.css("margin-left",u);
},_allChildrenRendered:function(){return true;
},get_popupElement:function(){return this._popupElement;
},get_selectedItem:function(){if(this._items&&this._selectedIndex>-1){var v=this._items[this._selectedIndex];
var w=((true==this._isArrayCollection)||(v instanceof Array))?v[0]:v;
return w;
}return null;
},get_selectedIndex:function(){return this._selectedIndex;
},set_selectedIndex:function(v){this._selectedIndex=v;
this.set_activeIndex(v);
},get_items:function(){return this._items;
},set_items:function(v){this.disposeChildren();
this._items=v;
},set_enableAriaSupport:function(w){b.EditorDropDown.callBaseMethod(this,"set_enableAriaSupport",[w]);
var v=this.getAnchorElement();
if(v&&this.get_enableAriaSupport()){v.setAttribute("aria-haspopup","true");
}}};
a.registerControlProperties(b.EditorDropDown,{popupheight:"16.7em",popupwidth:"16.7em",rootpopupclassname:"reDropDownBody",popupclassname:"",sizetofit:false,itemsperrow:1,clearSelectedOnShow:true});
a.registerControlEvents(b.EditorDropDown,["show","hide"]);
b.EditorDropDown.registerClass("Telerik.Web.UI.EditorDropDown",b.EditorButton);
Telerik.Web.UI.EditorUpdateableDropDown=function(v){Telerik.Web.UI.EditorUpdateableDropDown.initializeBase(this,[v]);
};
Telerik.Web.UI.EditorUpdateableDropDown.prototype={initialize:function(){b.EditorUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorUpdateableDropDown");
},updateValue:function(x){var v=this;
if(null==x){return;
}try{if(!x){x=this.get_text();
}if(this._view){v._view.updateElementsOnValueChange(x);
}this._value=x;
}catch(w){}},get_value:function(){if(!this._value||this._value==this.get_text()){return"";
}return this._value;
},set_value:function(v){this.updateValue(v);
},dispose:function(){Telerik.Web.UI.EditorUpdateableDropDown.callBaseMethod(this,"dispose");
}};
Telerik.Web.UI.EditorUpdateableDropDown.registerClass("Telerik.Web.UI.EditorUpdateableDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.EditorSelfUpdateableDropDown=function(v){Telerik.Web.UI.EditorSelfUpdateableDropDown.initializeBase(this,[v]);
this._clientStateFieldID=null;
};
Telerik.Web.UI.EditorSelfUpdateableDropDown.prototype={initialize:function(){b.EditorSelfUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSelfUpdateableDropDown");
},_onPopupClick:function(v){var x=this.resolveActiveIndex(v);
c.cancelRawEvent(v);
if(x>-1){this._selectedIndex=x;
this.hide();
var w=this.get_selectedItem();
if(w){this.updateValue(w);
}this.raiseEvent("valueSelected");
}}};
Telerik.Web.UI.EditorSelfUpdateableDropDown.registerClass("Telerik.Web.UI.EditorSelfUpdateableDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorSplitButton=function(v){Telerik.Web.UI.EditorSplitButton.initializeBase(this,[v]);
this._updateHeader=true;
};
Telerik.Web.UI.EditorSplitButton.prototype={click:function(v){var x=this;
if(x._isMobileRenderMode()){a(x.get_element()).removeClass(q);
x.show();
return c.cancelRawEvent(v);
}else{var w=this.isArrowClicked(v.target);
if(w||!this._updateHeader){this.show();
}else{var y=this.get_selectedItem();
if(null==y){this.show();
}else{this.raiseEvent("valueSelected");
}}return c.cancelRawEvent(v);
}},initialize:function(){Telerik.Web.UI.EditorSplitButton.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSplitButton");
this.set_clearSelectedOnShow(false);
},isArrowClicked:function(w){var v=this._getArrowElement();
if(w==v){return true;
}return false;
},_getArrowElement:function(){if(this._view){return this._view.getSplitArrow();
}return null;
},get_updateHeader:function(){return this._updateHeader;
},set_updateHeader:function(v){this._updateHeader=v;
}};
Telerik.Web.UI.EditorSplitButton.registerClass("Telerik.Web.UI.EditorSplitButton",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorToolStrip=function(v){Telerik.Web.UI.EditorToolStrip.initializeBase(this,[v]);
this._tools=[];
};
Telerik.Web.UI.EditorToolStrip.prototype={initialize:function(){b.EditorToolStrip.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorToolStrip");
},selectUIItem:function(w){for(var x=0;
x<this._items.length;
x++){var y=this._items[x];
if(x==this._activeIndex&&y.get_enabled()){y.setOn(true,"aria-selected");
var v=y.getAnchorElement();
if(v&&this.get_enableAriaSupport()){this.get_popupElement().setAttribute("aria-activedescendant",v.getAttribute("id"));
}}else{y.setOn(false,"aria-selected");
}}},set_selectedIndex:function(v){var x=this._view,w=this.get_updateHeader();
if(w&&x._clearHeader){x._clearHeader();
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"set_selectedIndex",[v]);
if(w&&x._updateHeader){x._updateHeader();
}},hide:function(){Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"hide");
if(this.isIE){var x=this.get_selectedItem();
if(!x||!x.get_element){return;
}var v=x.get_element();
if(v){var w=v.cloneNode(true);
v.replaceNode(w);
x._element=w;
}}},show:function(){var w=this._items;
for(var v=0,x=w.length;
v<x;
v++){var y=w[v];
y.setOn(false,"aria-selected");
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"show");
},_onPopupClick:function(v){var x=this._resolveSelectedTool(v);
c.cancelRawEvent(v);
if(x){var w=Array.indexOf(this._items,x);
if(c.isSafari){this._selectedIndex=w;
this.set_activeIndex(w);
}else{this.set_selectedIndex(w);
}this.hide();
this.raiseEvent("valueSelected");
}},renderChildren:function(){if(this._view){this._view.renderChildren();
}},_resolveSelectedTool:function(v){for(var w=0;
w<this._items.length;
w++){var x=this._items[w];
if(x.isTarget(v)){if(x.get_enabled()){return x;
}else{return null;
}}}},get_tools:function(){return this._tools;
},set_tools:function(v){this._tools=Array.clone(v);
}};
Telerik.Web.UI.EditorToolStrip.registerClass("Telerik.Web.UI.EditorToolStrip",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.EditorContextMenu=function(v){Telerik.Web.UI.EditorContextMenu.initializeBase(this,[v]);
this._parentElement=null;
this._eventObject=null;
};
Telerik.Web.UI.EditorContextMenu.prototype={initialize:function(){this.set_updateHeader(false);
this.set_clearSelectedOnShow(true);
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorContextMenu");
},show:function(){this.set_activeIndex(-1);
Telerik.Web.UI.EditorContextMenu.callBaseMethod(this,"show");
},configurePopupPropertiesBeforeShow:function(){var x=this._popupBehavior;
if(this._isMobileRenderMode()){x.set_positioningMode(Telerik.Web.PositioningMode.None);
}else{x.set_positioningMode(Telerik.Web.PositioningMode.Absolute);
}var w=this.get_parentElement();
if(w){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(w)&&w.tagName=="DIV"){w=document.body;
}x.set_parentElement(w);
}var v=this._eventObject;
if(v){x.set_x(v.clientX+10);
x.set_y(v.clientY+10);
}},set_eventObject:function(v){this._eventObject=v;
},get_tagName:function(){return this._tagName;
},set_tagName:function(v){this._tagName=v;
},get_parentElement:function(){return this._parentElement;
},set_parentElement:function(v){this._parentElement=v;
}};
Telerik.Web.UI.EditorContextMenu.registerClass("Telerik.Web.UI.EditorContextMenu",Telerik.Web.UI.EditorToolStrip);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(){var a=$telerik.$,b=Telerik.Web.UI;
Telerik.Web.UI.Editor.AlignmentSelector=function(c){Telerik.Web.UI.Editor.AlignmentSelector.initializeBase(this,[c]);
this._tagName="TD";
this._selectedTuple=null;
this._noAlignmentIndex=0;
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
};
Telerik.Web.UI.Editor.AlignmentSelector.prototype={initialize:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"AlignmentSelector");
this.set_popupwidth("6.5em");
this.set_popupheight("8.33em");
this.set_popupclassname("reAlignmentSelector");
this.set_itemsperrow(3);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this.setTagName(this._tagName);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"dispose");
},_imgAlignment:[["",""],["none",""],["",""],["",""],["top",""],["",""],["left",""],["absmiddle",""],["right",""],["",""],["bottom",""],["",""]],_cellAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["left","middle"],["center","middle"],["right","middle"],["left","bottom"],["center","bottom"],["right","bottom"]],_tableAlignment:[["",""],["none",""],["",""],["left",""],["center",""],["right",""],["",""],["",""],["",""],["",""],["",""],["",""]],_captionAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["",""],["",""],["",""],["left","bottom"],["center","bottom"],["right","bottom"]],_alignmentClassName:["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"],_getLookupTableByTagName:function(c){switch(c.toUpperCase()){case"IMG":return this._imgAlignment;
case"TABLE":return this._tableAlignment;
case"TD":return this._cellAlignment;
case"TH":return this._cellAlignment;
case"CAPTION":return this._captionAlignment;
default:return null;
}},_configureAlignmentTable:function(l){if(!this._rendered){this.render();
}var k=this._itemRootElement;
var d=0;
for(var e=0;
e<k.rows.length;
e++){var g=false;
for(var h=0;
h<k.rows[e].cells.length;
h++){var c=k.rows[e].cells[h];
var f=this._isAvailable(d++);
c.style.visibility=f?"visible":"hidden";
g|=f;
}if(null!=document.all){k.rows[e].style.display=g?"":"none";
}}},_isAvailable:function(d){var e=false;
if(this._items){var c=this._items[d];
e=((null!=c)&&(""!=c[0]||""!=c[1]));
}return e;
},_onDropDownValueSelected:function(){this.set_selectedIndex(this.get_selectedIndex());
},_selectAlignment:function(c,h){c=(""==c||!c)?"none":c.toUpperCase();
h=!h?"":h.toUpperCase();
if(this._items){var f=-1;
for(var e=0;
e<this._items.length;
e++){if(this._isAvailable(e)){var d=this._items[e][0].toUpperCase();
var g=this._items[e][1].toUpperCase();
if(-1==f){f=e;
}if((c==d||c==g)&&(h==d||h==g)){this.set_selectedIndex(e);
return;
}}}this.set_selectedIndex(f);
}},set_selectedIndex:function(c){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"set_selectedIndex",[c]);
if(this._view){this._view.decorate(this._alignmentClassName[c]);
}},setTagName:function(c){this._tagName=c;
this._items=this._getLookupTableByTagName(this._tagName);
this.set_selectedIndex(this._noAlignmentIndex);
},updateValue:function(c,d){this._selectAlignment(c,d);
},getAlign:function(){var c=this._items[this._selectedIndex];
var d=(c?c[0]:"");
if("none"==d){d="";
}return d;
},getVAlign:function(){var c=this._items[this._selectedIndex];
var d=(c?c[1]:"");
if("none"==d){d="";
}return d;
},show:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"show");
this._itemRootElement.cellSpacing=0;
this._configureAlignmentTable(this._tagName);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(c){this._clientStateFieldID=c;
}};
Telerik.Web.UI.Editor.AlignmentSelector.registerClass("Telerik.Web.UI.Editor.AlignmentSelector",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.InsertTableHelper=function(c){Telerik.Web.UI.Editor.InsertTableHelper.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.InsertTableHelper.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTableHelper.callBaseMethod(this,"initialize");
var c=new Array(this.get_itemsperrow()*this.get_itemsperrow());
for(var d=0;
d<c.length;
d++){c[d]=d;
}this._items=c;
},hide:function(){},renderChild:function(c,d,f){var g=document.createElement("div");
g.innerHTML="&nbsp;";
c.appendChild(g);
var e=this._getDimensionByIndex(f);
c.setAttribute("title"," "+e.rows+" x "+e.cols+" ");
},_getDimensionByIndex:function(g){var h=0;
var f=0;
var d=this.get_itemsperrow();
for(var c=0;
c<this._items.length;
c++){if(c%d==0){h++;
f=0;
}f++;
if(g==c){break;
}}var e={rows:h,cols:f};
return e;
},get_selectedItem:function(){var c=this.get_selectedIndex();
return this._getDimensionByIndex(c);
},selectUIItem:function(h,m){var c=this._popupElement.getElementsByTagName("TD");
var k=c.length;
var n=this.get_activeIndex();
var g=this._getDimensionByIndex(n);
var d=g.cols;
for(var j=0;
j<k;
j++){var l=c[j];
var f=l.item_index;
if(f<=n&&l.cellIndex<d){l.className="reItemOver";
}else{l.className="";
}}}};
Telerik.Web.UI.Editor.InsertTableHelper.registerClass("Telerik.Web.UI.Editor.InsertTableHelper",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.InsertTable=function(c){Telerik.Web.UI.Editor.InsertTable.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.InsertTable.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"initialize");
this._onTableHelperValueSelectedDelegate=Function.createDelegate(this,this._onTableHelperValueSelected);
this._tableHelper=null;
this._tableHelperItemsPerRow=this.get_itemsperrow();
this.set_itemsperrow(6);
this.set_popupwidth("12em");
this.set_updateHeader(false);
var d=this.get_tools();
this._longTool=d[0];
Array.removeAt(d,0);
for(var c=0;
c<d.length;
c++){d[c].showText=false;
}},show:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"show");
this._tableHelper.set_selectedIndex(-1);
},_onPopupClick:function(c){this._tableHelperClicked=false;
Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"_onPopupClick",[c]);
},_onTableHelperValueSelected:function(){this._tableHelperClicked=true;
this.set_selectedIndex(-1);
var c=this.getSpanElement();
if(c){c.className="InsertTable";
}this.hide();
this.raiseEvent("valueSelected");
},get_selectedItem:function(){if(this._tableHelperClicked){return this._tableHelper.get_selectedItem();
}else{return Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"get_selectedItem");
}},renderHeader:function(){var c={skin:this.get_skin(),itemsperrow:this._tableHelperItemsPerRow,sizetofit:true};
var d={valueSelected:this._onTableHelperValueSelectedDelegate};
var g=$create(Telerik.Web.UI.Editor.InsertTableHelper,c,d,null,document.createElement("div"));
g.set_rootpopupclassname("");
this._tableHelper=g;
g.render();
g.attachEventHandlers();
var f=g.get_popupElement();
f.style.display="";
f.style.visibility="visible";
f.style.position="";
f.style.cssFloat="left";
var e=this.get_popupElement();
e.insertBefore(f,e.firstChild);
},renderChildren:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"renderChildren");
var d=this._itemRootElement;
if(this._longTool){var f=document.createElement("ul");
d.insertBefore(f,d.firstChild);
this._longTool.showText=true;
var c=document.createElement("li");
f.appendChild(c);
var e=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(this._rendermode,this._longTool,null,null,null,c);
e.get_element().style.width="auto";
this._items[this._items.length]=e;
}}};
Telerik.Web.UI.Editor.InsertTable.registerClass("Telerik.Web.UI.Editor.InsertTable",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.FormatPainterStrip=function(c){Telerik.Web.UI.Editor.FormatPainterStrip.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.FormatPainterStrip.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatPainterStrip.callBaseMethod(this,"initialize");
this.renderItemRoot();
this.renderChildren();
this.set_selectedIndex(0);
}};
Telerik.Web.UI.Editor.FormatPainterStrip.registerClass("Telerik.Web.UI.Editor.FormatPainterStrip",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.ColorPicker=function(c){Telerik.Web.UI.Editor.ColorPicker.initializeBase(this,[c]);
this._clientStateFieldID=null;
this._addCustomColorText="Add Custom Color";
this._renderedChildrenCount=0;
};
Telerik.Web.UI.Editor.ColorPicker.prototype={initialize:function(){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ColorPicker");
this.set_popupclassname("reColorPicker");
this.set_sizetofit(true);
this.set_itemsperrow(10);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"dispose");
},disposeChildren:function(){var c=this;
c._renderedChildrenCount=0;
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(c,"disposeChildren");
},_onDropDownValueSelected:function(){var c=this.get_selectedItem();
this.set_color(c);
},get_value:function(){return this.get_color();
},set_value:function(c){this.set_color(c);
},set_color:function(c){if(!c){c="";
}if(this._view){this._view.decorate(c);
}this._color=c;
},get_color:function(){return this._color;
},onPopupMouseOver:function(c){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"onPopupMouseOver",[c]);
var d=this.get_activeIndex();
var f=this._items[d];
if(null==f){return;
}if(this._infoSpan1){this._infoSpan1.innerHTML=f;
this._infoSpan1.style.backgroundColor=f;
}if(this._infoSpan2){this._infoSpan2.innerHTML=f;
this._infoSpan2.style.color=f;
}},_customColorClicked:function(d){var c=window.prompt(this.get_addCustomColorText(),"#");
if(c){var j=document.createElement("a");
try{j.style.borderBottom="3px solid "+c;
}catch(f){c="";
}finally{j=null;
}}if(c){this._items[this._items.length]=c;
var g=(this._items.length-1);
if(0==(g%this.get_itemsperrow())){this.renderNewRow();
}var h=this.renderItemContainer();
this.markItemContainer(h,g);
this.renderChild(h,this._items[g],g);
this.set_selectedIndex(g);
this.hide();
this.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(d);
},_allChildrenRendered:function(){var c=this;
return c._renderedChildrenCount==c._items.length;
},renderFooter:function(){var c=document.createElement("div");
c.style.textAlign="center";
var d=document.createElement("a");
d.className="reCustomColor";
d.setAttribute("href","#");
d.innerHTML=this.get_addCustomColorText();
$addHandlers(d,{click:this._customColorClicked},this);
c.appendChild(d);
this.get_popupElement().appendChild(c);
var e=document.createElement("div");
e.className="reColorPickerFooter";
var f=document.createElement("span");
f.className="reDarkColor";
var g=document.createElement("span");
g.className="reLightColor";
f.innerHTML=g.innerHTML="&nbsp";
e.appendChild(f);
e.appendChild(g);
this.get_popupElement().appendChild(e);
this._infoSpan1=f;
this._infoSpan2=g;
},renderChild:function(c,d,e){var f=document.createElement("div");
if(null!=d){f.style.backgroundColor=d;
f.setAttribute("title",d);
f.innerHTML="&nbsp;";
}c.appendChild(f);
this._renderedChildrenCount++;
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(c){this._clientStateFieldID=c;
},get_addCustomColorText:function(){return this._addCustomColorText;
},set_addCustomColorText:function(c){this._addCustomColorText=c;
}};
Telerik.Web.UI.Editor.ColorPicker.registerClass("Telerik.Web.UI.Editor.ColorPicker",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.MobileColorPicker=function(d){var c=this;
Telerik.Web.UI.Editor.MobileColorPicker.initializeBase(c,[d]);
c._clientStateFieldID=null;
c._addCustomColorText="Add Custom Color";
c._currentColorText="Current Color";
c._renderedChildrenCount=0;
};
Telerik.Web.UI.Editor.MobileColorPicker.prototype={initialize:function(){var c=this;
Telerik.Web.UI.Editor.MobileColorPicker.callBaseMethod(c,"initialize");
c.set_clearSelectedOnShow(false);
c._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(c,"ColorPicker");
c.set_popupclassname("reColorPicker");
c.set_itemsperrow(6);
},_attachItemsEventHandlers:function(){},_attachPopupElementEventHandlers:function(){var c=this;
Telerik.Web.UI.Editor.MobileColorPicker.callBaseMethod(c,"_attachPopupElementEventHandlers");
$telerik.addHandler(c.get_popupElement(),c._getPopupClickEventName(),c._onPopupClickDelegate);
},_onPopupClick:function(d){var c=this,f=d.target;
if(c._isAddCustomColorElement(f)){c._customColorClicked(d);
}else{if(c._isClearColorElement(f)){c._clearColorClicked(d);
}else{if(c._isCurrentColorWrapperElement(f)){c._currentCollorClicked(d);
}else{return Telerik.Web.UI.Editor.MobileColorPicker.callBaseMethod(c,"_onPopupClick",[d]);
}}}},_isAddCustomColorElement:function(d){var c=this.get_addCustomColorElement();
return d===c||d.parentNode==c;
},_isClearColorElement:function(d){var c=this.get_clearColorElement();
return d===c||d.parentNode===c;
},_isCurrentColorWrapperElement:function(d){var c=this.get_currentColorWrapperElement();
return d&&c===d||c===d.parentNode;
},_customColorClicked:function(f){var d=this,c=d._testValidColor(window.prompt(d.get_addCustomColorText(),"#"));
if(c){d._items[d._items.length]=c;
var g=(d._items.length-1);
var h=d.renderItemContainer(c);
d.markItemContainer(h,g);
d.renderChild(h,d._items[g],g);
d.set_selectedIndex(g);
d.hide();
d.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(f);
},_testValidColor:function(c){if(c){var e=document.createElement("a");
try{e.style.borderBottom="3px solid "+c;
}catch(d){c="";
}finally{e=null;
}}return c;
},_clearColorClicked:function(d){var c=this;
c.set_selectedIndex(c._clearColorItemIndex);
c.hide();
c.raiseEvent("valueSelected");
$telerik.cancelRawEvent(d);
},_currentCollorClicked:function(d){var c=this,f=c.get_selectedIndex();
if(f>-1&&f!=c._clearColorItemIndex){c.hide();
c.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(d);
},isEmptyValue:function(c){return !c||c==this.get_text();
},get_addCustomColorText:function(){return this._addCustomColorText;
},set_addCustomColorText:function(c){this._addCustomColorText=c;
},get_currentColorText:function(){return this._currentColorText;
},set_currentColorText:function(c){this._currentColorText=c;
},get_addCustomColorElement:function(){return this._view?this._view.get_addCustomColorElement():null;
},get_currentColorWrapperElement:function(){return this._view?this._view.get_currentColorWrapperElement():null;
},get_clearColorElement:function(){return this._view?this._view.get_clearColorElement():null;
}};
Telerik.Web.UI.Editor.MobileColorPicker.registerClass("Telerik.Web.UI.Editor.MobileColorPicker",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.UndoRedoDropDown=function(c){Telerik.Web.UI.Editor.UndoRedoDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.UndoRedoDropDown.prototype={renderFooter:function(){},get_selectedItem:function(){var c=Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"get_selectedItem");
if(!c){c=1;
}return c;
},selectUIItem:function(c,d){return Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"selectUIItem",[c,true]);
}};
Telerik.Web.UI.Editor.UndoRedoDropDown.registerClass("Telerik.Web.UI.Editor.UndoRedoDropDown",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.ApplyClassDropDown=function(c){Telerik.Web.UI.Editor.ApplyClassDropDown.initializeBase(this,[c]);
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
this._clearclasstext="Clear Class";
this._isArrayCollection=true;
};
Telerik.Web.UI.Editor.ApplyClassDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ApplyClassDropDown");
this.set_popupclassname("reApplyClass");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this._cssClassRegex=/[^\{]*\{([^\}]+)\}/gi;
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"dispose");
},_onDropDownValueSelected:function(){this.updateValue(this.get_selectedItem());
},_getClassIcon:function(d){if(!d){d="";
}else{d=d.toLowerCase();
}var c=document.createElement("span");
c.innerHTML="&nbsp;"+d;
c.className="reClass_"+d;
return c;
},_getClassTag:function(e){var f=e&&e.selectorText?e.selectorText:"";
var d=f.lastIndexOf(".");
if(d==0){return"All";
}var c=f.lastIndexOf(" ",d);
return f.substring((c+1),d);
},_getClassCss:function(d){var e=this._cssClassRegex;
var c="";
if(null!=d.cssText){c=d.cssText;
c=c.replace(e,"$1");
}else{c=d.style.cssText;
}return c;
},_getDisplayName:function(d){if(!d||!d.selectorText){return"";
}var e=d.selectorText;
var f=e.indexOf(".");
if(-1==f){f=0;
}else{f+=1;
}var c=e.indexOf(":");
if(-1==c){c=e.length;
}return e.substring(f,c);
},_getClassName:function(e){var f=e&&e.selectorText?e.selectorText:"";
var d=f.lastIndexOf(".");
if(d==-1){return"";
}var c=f.indexOf(" ",d);
if(-1==c){c=f.indexOf(":",d);
}if(-1==c){c=f.length;
}return f.substring((d+1),c);
},set_items:function(c){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"set_items",[c]);
if(this._items.length==0||this._items[0][0]!=""){this._items.splice(0,0,["",{cssText:"",selectorText:this.get_clearclasstext()}]);
}},renderChild:function(c,d,e){this._view.renderChild(c,d);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(c){this._clientStateFieldID=c;
},get_clearclasstext:function(){return this._clearclasstext;
},set_clearclasstext:function(c){this._clearclasstext=c;
}};
Telerik.Web.UI.Editor.ApplyClassDropDown.registerClass("Telerik.Web.UI.Editor.ApplyClassDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontNameDropDown=function(c){Telerik.Web.UI.Editor.FontNameDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.FontNameDropDown.prototype={updateValue:function(d){try{if(!d){d=this._isMobileRenderMode?" ":this.get_text();
}if(null==d||"AZBY"==d){return;
}Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"updateValue",[d]);
}catch(c){}},renderChildren:function(){var f=this._items;
if(f&&f[0]&&!(f[0] instanceof Array)){for(var c=0;
c<f.length;
c++){var d=f[c];
var e=d=="Wingdings"||d=="Webdings"?"Arial":d;
f[c]=[d,String.format("<span style='font:inherit; font-family: {0}'>",e)+d+"</span>"];
}}return Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontNameDropDown.registerClass("Telerik.Web.UI.Editor.FontNameDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontSizeDropDown=function(c){Telerik.Web.UI.Editor.FontSizeDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.FontSizeDropDown.prototype={renderChildren:function(){var e=this._items;
if(e&&e[0]&&!(e[0] instanceof Array)){for(var c=0;
c<e.length;
c++){var d=e[c];
e[c]=[d,String.format("<font size={0}>",d)+d+"</font>"];
}}return Telerik.Web.UI.Editor.FontSizeDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontSizeDropDown.registerClass("Telerik.Web.UI.Editor.FontSizeDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.InsertCustomLinkDropDown=function(c){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.initializeBase(this,[c]);
};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"InsertCustomLinkDropDown");
},selectUIItem:function(c,f,d){},show:function(){return Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"show");
},renderChildren:function(){this.FlatLinksArray=[];
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"renderChildren");
},get_selectedItem:function(){var c=this.FlatLinksArray[this.get_selectedIndex()];
return{innerHTML:c.name,href:c.href,target:c.target,title:c.toolTip};
}};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.registerClass("Telerik.Web.UI.Editor.InsertCustomLinkDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.FormatSetsDropDown=function(c){Telerik.Web.UI.Editor.FormatSetsDropDown.initializeBase(this,[c]);
this._blockElements=b.Editor.formatSetBlockElements;
this._defaultBlockSets=[["p","Normal"],["h1","<h1 style='margin: 0px;'>Heading 1</h1>"],["h2","<h2 style='margin: 0px;'>Heading 2</h2>"],["h3","<h3 style='margin: 0px;'>Heading 3</h3>"],["h4","<h4 style='margin: 0px;'>Heading 4</h4>"],["h5","<h5 style='margin: 0px;'>Heading 5</h5>"],["menu","<menu style='margin: 0px;'>Menu list</menu>"],["pre","<pre style='margin: 0px;'>Formatted</pre>"],["address","<address style='margin: 0px;'>Address</address>"]];
this._headerClassName="reFormatSetsHeader";
this._indexItemDictionary=[];
};
Telerik.Web.UI.Editor.FormatSetsDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"initialize");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},set_items:function(c){this._updateLocalSets(c);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"set_items",[c]);
},_updateLocalSets:function(c){this._blockSets=[];
this._elementSets=[];
this._inlineSets=[];
for(var d=0,e=c.length;
d<e;
d++){this._sortFormatSet(c[d]);
}if(this._blockSets.length==0){this._blockSets=this._defaultBlockSets;
}},_sortFormatSet:function(c){if(this.isInlineSet(c)){this._inlineSets.push(c);
}else{if(this.isBlockSet(c)){this._blockSets.push(c);
}else{this._elementSets.push(c);
}}},isInlineSet:function(c){return !c[0];
},isBlockSet:function(c){return a.inArray((c[0]||"").toLowerCase(),this._blockElements)!=-1;
},get_elementSetsByTagName:function(g){var h=[],d=this.get_elementSets(),c;
for(var e=0,f=d.length;
e<f;
e++){c=d[e];
if(c[0].toLowerCase()==g.toLowerCase()){h.push(c);
}}return h;
},renderChildren:function(){this.disposeChildren();
this._indexItemDictionary=[];
this._renderElementChildren();
this._renderInlineChildren();
this._renderBlockChildren();
},_renderElementChildren:function(){var c=[],f=this.get_selectedElement(),g=this._getContextTagNames(f);
for(var d=0,e=g.length;
d<e;
d++){a.merge(c,this.get_elementSetsByTagName(g[d]));
}this._renderSectionChildren(c,this.get_elementSetsText());
},_renderInlineChildren:function(){this._renderSectionChildren(this.get_inlineSets(),this.get_inlineSetsText());
},_renderBlockChildren:function(){this._renderSectionChildren(this.get_blockSets(),this.get_blockSetsText());
},_renderSectionChildren:function(c,d){if(c.length>0){this._renderHeaderItem(d);
this._renderFormatSetItems(c);
}},_getContextTagNames:function(c){var e=[];
while(c&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(c)){var d=c.tagName;
if(d){d=d.toLowerCase();
if(a.inArray(d,e)==-1){e.push(d);
}}c=c.parentNode;
}return e;
},_renderHeaderItem:function(d){var c=this._createItemContainer();
c.className=this._headerClassName;
this.renderChild(c,["",d],c.item_index);
},_createItemContainer:function(){this.renderNewRow();
var d=this.renderItemContainer(),c=this._getLastItemIndex();
this.markItemContainer(d,c);
return d;
},_renderFormatSetItems:function(d){var g=d.length;
for(var e=0;
e<g;
e++){var c=this._createItemContainer(),f=c.item_index;
this.renderChild(c,d[e],f);
}},_getLastItemIndex:function(){return this._view.getItemElements(this._itemRootElement).length-1;
},renderChild:function(c,d,e){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"renderChild",[c,d,e]);
this._indexItemDictionary[e]=d;
},get_selectedItem:function(){var c=this._indexItemDictionary[this._selectedIndex];
if(c){return c;
}else{return null;
}},updateValue:function(d){var e=(d&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(d.selectedElement))?d.selectedElement:null,c=(d&&d.commandText)?Telerik.Web.UI.Editor.Utils.stripFormatting(d.commandText,"ALL"):"";
this.set_selectedElement(e);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"updateValue",[c]);
},_onDropDownValueSelected:function(){var c=this.get_selectedItem();
if(c){c.commandText=c[1];
}this.updateValue(c);
},hide:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"hide");
this._childrenRendered=false;
}};
a.registerControlProperties(b.Editor.FormatSetsDropDown,{clientStateFieldID:null,blockSetsText:"Block Format Sets",inlineSetsText:"Inline Format Sets",elementSetsText:"Element Format Sets",blockSets:[],inlineSets:[],elementSets:[],selectedElement:null,clientTypeName:"Telerik.Web.UI.Editor.FormatSetsDropDown"});
Telerik.Web.UI.Editor.FormatSetsDropDown.registerClass("Telerik.Web.UI.Editor.FormatSetsDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
})();
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor._PopupController=function(){this._activePopup=null;
this._registerGlobalBodyEventHandlers();
};
Telerik.Web.UI.Editor._PopupController.prototype={_registerGlobalBodyEventHandlers:function(){var a=function(g,f){var j=window.frames;
for(var d=0;
d<j.length;
d++){var h=null;
try{h=j[d].document;
}catch(c){}if(!h){continue;
}try{if(g!==false){f.attachToDocument(h);
}else{f.detachFromDocument(h);
}}catch(c){}}};
var b=Function.createDelegate(null,function(c){if(c.keyCode==27){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}});
$telerik.addExternalHandler(document.body,"keydown",b);
$telerik.addExternalHandler(document.body,"mousedown",this._hideHandler);
Sys.Application.add_unload(function(){$telerik.removeExternalHandler(document.body,"mousedown",Telerik.Web.UI.Editor.PopupController._hideHandler);
$telerik.removeExternalHandler(document.body,"keydown",b);
a(false,Telerik.Web.UI.Editor.PopupController);
});
a(true,this);
},attachToDocument:function(a){$telerik.addExternalHandler(a,"mousedown",this._hideHandler);
},detachFromDocument:function(b){try{$telerik.removeExternalHandler(b,"mousedown",this._hideHandler);
}catch(a){}},_hideHandler:function(a){Telerik.Web.UI.Editor.PopupController._hideIfOutsidePopup(a);
},hideActivePopup:function(){if(this._activePopup!=null){this._activePopup.hide();
this._activePopup=null;
}},_hideIfOutsidePopup:function(a){if(this._activePopup!=null){if(!this._activePopup.get_popupElement){return;
}var b=this._activePopup.get_popupElement();
if(!this._isMouseOverElement(a,b)){this.hideActivePopup();
}}},_isMouseOverElement:function(a,b){var f=null;
try{f=$telerik.getBounds(b);
}catch(c){return false;
}if(a&&a.target&&a.target.tagName=="SELECT"&&a.clientX<0){return true;
}var d=$telerik.getDocumentRelativeCursorPosition(a);
return $telerik.containsPoint(f,d.left,d.top);
},notifyPopupClosed:function(a){if(this._activePopup==a){this._activePopup=null;
}},set_activePopup:function(a){if(this._activePopup&&(a!=this._activePopup)){this._activePopup.hide();
}this._activePopup=a;
},get_activePopup:function(){return this._activePopup;
}};
Telerik.Web.UI.Editor._PopupController.registerClass("Telerik.Web.UI.Editor._PopupController",null);
(function(){if(!Telerik.Web.UI.Editor.PopupController){var a=function(){window.setTimeout(function(){Telerik.Web.UI.Editor.PopupController=new Telerik.Web.UI.Editor._PopupController();
},100);
};
a();
}})();
(function(a,l){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var f=c.EditorToolType;
var g="";
var h="FontName";
var k="RealFontSize";
var d="ApplyClass";
var i="ForeColor";
var e="BackColor";
var j="FormatBlock";
b.ToolFactory=function(){};
b.ToolFactory.prototype={createTool:function(m,o){var n=this;
var p=m.type;
if(o){switch(p){case f.Button:return n.createEditorButton(m,o);
case f.DropDown:return n.createEditorDropDown(m,o);
case f.SplitButton:return n.createEditorSplitButton(m,o);
case f.ToolStrip:return n.createEditorToolStrip(m,o);
case f.Separator:return null;
default:return n.createEditorButton(m,o);
}}else{return null;
}},createEditorButton:function(m,n){return $create(c.EditorButton,m,null,null,n);
},createEditorDropDown:function(m,o){var p=m.name||g;
var n;
switch(p){case h:n=b.FontNameDropDown;
break;
case j:case k:n=c.EditorUpdateableDropDown;
break;
case d:n=b.ApplyClassDropDown;
break;
default:n=c.EditorDropDown;
}return $create(n,m,null,null,o);
},createEditorSplitButton:function(m,o){var p=m.name||g,n;
switch(p){case i:case e:n=b.MobileColorPicker;
break;
}if(n){return $create(n,m,null,null,o);
}return null;
},createEditorToolStrip:function(m,n){return $create(c.EditorToolStrip,m,null,null,n);
}};
})($telerik.$);
(function(a,n){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var k=b.Editor;
var d="back";
var h="close";
var g="click";
var j="display";
var c=40;
k.ToolNavigator=function(o){k.ToolNavigator.initializeBase(this,[o]);
this.navigatables=[];
};
k.ToolNavigator.prototype={initialize:function(){k.ToolNavigator.callBaseMethod(this,"initialize");
this._renderUI();
this.attachEventHandlers();
},show:function(o){if(!o){return;
}this.navigatables.push(o);
this._prepareShowAnimation();
this._updateTitle();
this._animateShow();
},back:function(o){this._prepareBackAnimation();
this.navigatables.pop();
this._animateBack(o);
},attachEventHandlers:function(){this._backDelegate=Function.createDelegate(this,this._backHandler);
this._closeDelegate=Function.createDelegate(this,this._closeHandler);
a(this._backBtn).onEvent(g,this._backDelegate);
a(this._closeBtn).onEvent(g,this._closeDelegate);
},detachEventHandlers:function(){a(this._backBtn).offEvent(g,this._backDelegate);
a(this._closeBtn).offEvent(g,this._closeDelegate);
this._backDelegate=n;
this._closeDelegate=n;
},dispose:function(){this.detachEventHandlers();
this._title=n;
this._backBtn=n;
this._closeBtn=n;
k.ToolNavigator.callBaseMethod(this,"dispose");
},_renderUI:function(){var q=this.get_element();
var o=this._backBtn=m.buildBackBtn();
var r=this._title=m.buildTitle();
var p=this._closeBtn=m.buildCloseBtn();
this._hideUI();
q.appendChild(o);
q.appendChild(r);
q.appendChild(p);
},_showUI:function(){this._backBtn.style.opacity=1;
this._title.style.opacity=1;
},_hideUI:function(){a(this._backBtn).css({opacity:0,marginLeft:0});
this._title.style.opacity=0;
},_prepareShowAnimation:function(){var o=(this.navigatables.length===1);
var p=a(o?this._backBtn:this._title);
p.css(this._asideStateCss());
p.css(j);
},_animateShow:function(){this._getAnimateUI().transition(this._normalStateCss(),c,"easeOut");
},_prepareBackAnimation:function(){this._getAnimateUI().stopTransition();
},_animateBack:function(p){var r=this;
var o=a(this._backBtn);
var s=a(this._title);
var q=!this._getLastNavigatable();
s.transition(this._asideStateCss(),c,"easeOut",function(){r._updateTitle();
r._restoreTitle();
});
if(q){o.transition(this._asideStateCss(),c,"easeOut",function(){r._hideUI();
if(p){p();
}});
}},_getAnimateUI:function(){return a(this._backBtn).add(this._title);
},_restoreTitle:function(){a(this._title).css(this._normalStateCss());
},_normalStateCss:function(){return{marginLeft:0,opacity:1};
},_asideStateCss:function(){return{marginLeft:"40vw",opacity:0};
},_updateTitle:function(){this._setTitle(this._getLastNavigatable());
},_setTitle:function(o){this._title.innerHTML=o||"";
},_getLastNavigatable:function(){return this.navigatables[this.navigatables.length-1];
},_backHandler:function(){this.raiseEvent(d);
},_closeHandler:function(){this.raiseEvent(h);
}};
a.registerControlEvents(k.ToolNavigator,[d,h]);
k.ToolNavigator.registerClass("Telerik.Web.UI.Editor.ToolNavigator",b.RadWebControl);
var e='<span class="reButton reBackButton" title="" role="button">	<span class="reIcon reIconBack"></span></span>';
var l='<span class="reToolText t-flex"></span>';
var i='<span class="reButton reCloseButton" title="Hide Tools" role="button">	<span class="reIcon reIconClose"></span></span>';
var m=k.ToolNavigator.UIBuilder={backBtnTemplate:e,titleTemplate:l,closeBtnTemplate:i,buildBackBtn:function(o){return f(o||this.backBtnTemplate);
},buildTitle:function(o){return f(o||this.titleTemplate);
},buildCloseBtn:function(o){return f(o||this.closeBtnTemplate);
}};
function f(o){return a(o)[0];
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,c){b.TrackerBase=function(d){var e=this;
e.editor=d;
e.nodes=[];
};
b.TrackerBase.prototype={_zeroWidthCharacter:"\u200b",stopTracking:function(){var d=this;
d.detachEvents();
d.isTracking=false;
},createTrackedNode:function(g){var h=this;
var d=h.getTrackableChars();
var e=g||h.editor.get_document();
var f=e.createTextNode(d);
h.trackNode(f);
return f;
},getTrackableChars:function(){return this._zeroWidthCharacter;
},trackNode:function(d){this.nodes.push(d);
},cleanUpNodes:function(){var f=this,e=f.nodes;
while(e.length){var d=e.pop();
f._cleanUpNode(d);
}},_cleanUpNode:function(d){if(c.isTextNode(d)){this.removeFirstZeroWidthChar(d);
}else{a(d).remove();
}},removeFirstZeroWidthChar:function(g){var h=this._zeroWidthCharacter;
try{if(!g||!g.nodeValue){return;
}if($telerik.isIE){g.nodeValue=g.nodeValue.replace(new RegExp("["+h+"]+",""),"");
}else{var f=g.nodeValue.indexOf(h);
if(f!=-1){g.deleteData(f,1);
}}}catch(d){}},reset:function(){this.cleanUpNodes();
},removeZeroWidthNodes:function(){var k=this,f=k.nodes,j=new RegExp("^["+k._zeroWidthCharacter+"]+$");
var h=k.nodeValuePairs=[];
for(var d=0;
d<f.length;
d++){var e=f[d];
if(c.isTextNode(e)){var g=e.nodeValue;
if(j.test(g)){h.push({node:e,value:e.nodeValue});
e.nodeValue="";
}else{k.removeFirstZeroWidthChar(e);
}}}},restoreZeroWidthNodes:function(){var f=this,e=f.nodeValuePairs||[];
while(e.length){var d=e.pop();
d.node.nodeValue=d.value;
}},dispose:function(){var d=this;
d.stopTracking();
d.editor=null;
}};
Telerik.Web.UI.Editor.TrackerBase.registerClass("Telerik.Web.UI.Editor.TrackerBase");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.EmptyWhitespaceCharTracker=function(e){var f=this;
b.EmptyWhitespaceCharTracker.initializeBase(f,[e]);
f.cleanUpDelegate=Function.createDelegate(f,f.cleanUpWhitespace);
f.cleanUpKeypressDelegate=Function.createDelegate(f,f.cleanUpWhitespaceKeypress);
};
b.EmptyWhitespaceCharTracker.prototype={startTracking:function(){var g=this,f=g.editor,e=f.get_contentArea();
g.isTracking=true;
f.add_submit(g.cleanUpDelegate);
a(e).on("keypress",g.cleanUpKeypressDelegate);
$telerik.addExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.addExternalHandler(e,"touchstart",g.cleanUpDelegate);
},cleanUpWhitespaceKeypress:function(f){var i=this;
if(!i.shouldCleanUp(f)){return;
}var h=i.nodes;
while(h.length){var g=h.pop();
i._cleanUpNodeKeypress(g);
}},_cleanUpNodeKeypress:function(f){var g=this,e=15;
if(d.isTextNode(f)){setTimeout(function(){g.removeFirstZeroWidthChar(f);
},e);
}else{a(f).remove();
}},cleanUpWhitespace:function(f){var g=this;
if(!g.shouldCleanUp(f)){return;
}g.cleanUpNodes();
},shouldCleanUp:function(f){return f.type!="keypress"||!$telerik.isChrome||(f.keyCode>32&&f.keyCode<40);
},detachEvents:function(){var g=this,f=g.editor,e=f.get_contentArea();
f.remove_submit(g.cleanUpDelegate);
a(e).off("keypress",g.cleanUpKeypressDelegate);
$telerik.removeExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.removeExternalHandler(e,"touchstart",g.cleanUpDelegate);
},dispose:function(){var e=this;
if(!e.isTracking){return;
}b.EmptyWhitespaceCharTracker.callBaseMethod(e,"dispose");
e.cleanUpDelegate=null;
}};
Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker.registerClass("Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker",Telerik.Web.UI.Editor.TrackerBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.NodesTracker=function(e){var f=this;
f.isActive=true;
b.NodesTracker.initializeBase(f,[e]);
if(!f.isActive){return;
}f.isLegacyIE=$telerik.isIE&&!$telerik.isIE9Mode;
f.cleanUpDelegate=Function.createDelegate(f,f.cleanUpNodes);
f.keyupDelegate=Function.createDelegate(f,f.keyupHandler);
f.keydownDelegate=Function.createDelegate(f,f.keydownHandler);
f.pasteDomDelegate=Function.createDelegate(f,f.pasteDomHandler);
};
b.NodesTracker.prototype={startTracking:function(){var f=this;
if(!f.isActive){return;
}var e=f.editor;
f.isTracking=true;
e.add_submit(f.cleanUpDelegate);
e.add_pasteDom(f.pasteDomDelegate);
a(e.get_contentArea()).on({keydown:f.keydownDelegate,keyup:f.keyupDelegate});
},isTracked:function(e){var f=this;
return e&&f.isZeroWidthNode(e)&&a.inArray(e,f.nodes)!=-1;
},removeTrackedNode:function(e){if(!e){return;
}var g=this;
var f=a.inArray(e,g.nodes);
if(f!=-1){if(d.isTextNode(e)){e.nodeValue=e.nodeValue.replace(new RegExp(g._zeroWidthCharacter,"g"),"");
if(e.length==0){a(e).remove();
}}else{a(e).remove();
}g.nodes.splice(f,1);
}},_update:function(){var q=this,m=q.nodes,o=b.DomRange.toDomRange(q.editor.getSelection().getRange(true)),e=o.commonAncestorContainer,k=d.isTextNode(e),p=o.startOffset;
for(var g=m.length-1;
g>=0;
g--){var l=m[g];
if(q.shouldCleanUpNode(l)){var j=k&&e===l;
var f=j?e.length:c;
var h=j?e.nodeValue.indexOf(q._zeroWidthCharacter):-1;
q._cleanUpNode(l);
m.splice(g,1);
if(j&&h!=-1){var n=h<p?p-(f-e.length):p;
d._setCursorInTextNode(o,e,n,n);
}}}},removeFirstZeroWidthChar:function(f){var h=this;
b.NodesTracker.callBaseMethod(h,"removeFirstZeroWidthChar",[f]);
var g=!h._isNodeRemoved(f)?f.parentNode:c;
var e=g&&f.length==0&&d.isNodeEmptyRecursive(g);
if(e&&!d.isEditorContentArea(g)){f.nodeValue="\u00A0";
}},shouldCleanUpNode:function(h){var g,j;
try{g=d.isTextNode(h);
j=g?h.length:null;
if(g&&!j){return true;
}}catch(f){return true;
}if(!g){return false;
}if((j>1&&!new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(h.nodeValue))||(this._isNodeRemoved(h)||h.nextSibling||(h.previousSibling&&!d.isTag(h.previousSibling,"br")))){return true;
}var i=h.parentNode;
while(!d.isBlockElement(i)){if(d.isTextNode(i.nextSibling)){return true;
}i=i.parentNode;
}},_isNodeRemoved:function(g){try{return !a.contains(this.editor.get_contentArea(),g);
}catch(f){return true;
}},isZeroWidthNode:function(e){return d.isTextNode(e)&&new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(e.nodeValue);
},getTrackableChars:function(){var e=this;
var f=e._zeroWidthCharacter;
if(e.isLegacyIE){return f+f;
}else{return b.NodesTracker.callBaseMethod(e,"getTrackableChars");
}},selectTrackedNode:function(f,g){var e=g.length-1;
d._setCursorInTextNode(f,g,e,e);
},keyupHandler:function(f){var i=this,h=i.isDelete(f),g=i.isBackspace(f);
if(!i._cleanUpOnKeyup&&(!i._shouldHandleKeyEvent(f)||(!h&&!g))){return;
}if(i._cleanUpOnKeyup){delete i._cleanUpOnKeyup;
}i._update();
},keydownHandler:function(i){var v=this;
if(!v._shouldHandleKeyEvent(i)){return;
}var m=v.isLeftArrow(i),o=v.isRightArrow(i),l=v.isDelete(i),k=v.isBackspace(i),p=v.isTyping(i);
if(!l&&!k&&!m&&!o&&!p){return;
}var j=v.editor,u=j.getSelection(),h=b.DomRange.toDomRange(u.getRange(true));
if(!h){return;
}var f=h.commonAncestorContainer,g=j.get_document(),n=v.isLegacyIE;
if(!h.collapsed||!v.isZeroWidthNode(f)){return;
}var r=f.length;
var s=m||k?0:r;
if(m||o){d._setCursorInTextNode(h,f,s,s);
}else{if(k||l){if(n||d.isSingleChild(f)){d._setCursorInTextNode(h,f,0,r);
g.execCommand("delete",false,null);
}else{d._setCursorInTextNode(h,f,s,s);
}}else{if(p){var t=n?r-1:r;
d._setCursorInTextNode(h,f,t,r);
v._cleanUpOnKeyup=true;
var q=f.nextSibling;
if(d.isList(q)){f.parentNode.insertBefore(g.createTextNode("\n"),q);
}}}}},_shouldHandleKeyEvent:function(f){if(f.ctrlKey||f.altKey||f.metaKey||!this.nodes.length){return false;
}return true;
},pasteDomHandler:function(g,e){var f=e.get_cursor(),i=f.previousSibling,h=f.nextSibling,j=this;
if(j.isZeroWidthNode(i)){a(i).remove();
}if(j.isZeroWidthNode(h)){a(h).remove();
}},isTyping:function(f){return d.isTypingKey(f)&&!this.isDeleting(f);
},isLeftOrRightArrow:function(f){return !f.altKey&&!f.ctrlKey&&!f.shiftKey&&(this.isLeftArrow(f)||this.isRightArrow(f));
},isLeftArrow:function(f){return f.keyCode==37;
},isRightArrow:function(f){return f.keyCode==39;
},isDeleting:function(f){return this.isDelete(f)||this.isBackspace(f);
},isDelete:function(f){return f.keyCode==46;
},isBackspace:function(f){return f.keyCode==8;
},detachEvents:function(){var f=this;
if(!f.isActive){return;
}var e=f.editor;
e.remove_submit(f.cleanUpDelegate);
e.remove_pasteDom(f.pasteDomDelegate);
a(e.get_contentArea()).off({keydown:f.keydownDelegate,keyup:f.keyupDelegate});
},dispose:function(){var e=this;
if(!e.isActive||!e.isTracking){return;
}b.NodesTracker.callBaseMethod(e,"dispose");
e.cleanUpDelegate=null;
e.keyupDelegate=null;
e.keydownDelegate=null;
e.pasteDomDelegate=null;
}};
Telerik.Web.UI.Editor.NodesTracker.registerClass("Telerik.Web.UI.Editor.NodesTracker",Telerik.Web.UI.Editor.TrackerBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,g,b,f){var e=Telerik.Web.UI.Widgets.Polling;
var d=Function.createDelegate;
c.SizerBase=function(h){var i=this;
i.editor=h;
i._sizes={};
i.isContentAreaModeDiv=h.get_contentAreaMode()==b.EditorContentAreaMode.Div;
};
c.SizerBase.prototype={setEditorSize:function(n,k){var m=this,j=m.editor,i=m._isSizeInPercent(n)?n:parseInt(n,10)+"px",h=m._isSizeInPercent(k)?k:parseInt(k,10)+"px",o=j.get_element(),l=j.get_mainTable();
m._setCss(o,{width:i,height:h});
if(l){m._setHeight(l,h);
}m.onRepaint(true);
},setContentElementHeight:function(){this.whenToolbarStyled(d(this,this._setContentElementHeight));
},getMinWidth:function(){return this.editor.get_TopZone().parentNode.offsetWidth;
},lineHeight:35,getMinHeight:function(){var j=this.editor,i=new c.DimensionsCalculator(j),h=i._getSupportingUIHeight();
return h+this.lineHeight;
},setWrapperMinDimentions:function(i){var h=this.editor.get_element();
if(i||!h.style.minHeight){h.style.minHeight=this.getMinHeight()+"px";
}if(!h.style.minWidth){h.style.minWidth=this.getMinWidth()+"px";
}},ensureMinDimentions:function(){var h=this.editor.get_element(),l=this.editor.get_mainTable(),k=h.style.minWidth,j=h.style.minHeight,m=!/%/.test(h.style.width)?h.style.width:h.clientWidth,i=!/%/.test(h.style.height)?h.style.height:h.clientHeight;
if(k&&m&&parseInt(k,10)>parseInt(m,10)){h.style.width=k;
}if(j&&i&&parseInt(j,10)>parseInt(i,10)){h.style.height=j;
l.style.height=j;
}},whenToolbarStyled:function(h){var i=this._getFirstToolbarList();
e.css(i,"listStyleType","none").always(h);
},getIframe:function(){var h=this.editor;
return h.get_mode()!=b.EditModes.Html?h.get_contentAreaElement():h._getHtmlModeTextarea();
},onResizeStart:function(){this.setWrapperMinDimentions(true);
},onResizing:function(){},onResizeEnd:function(){this.ensureMinDimentions();
this.setContentElementHeight();
var h=parseInt(this.editor.get_element().style.height,10);
this.editorHeight=!this.editorHeight?h:Math.min(this.editorHeight,h);
},modeChanged:function(){this.setContentElementHeight();
},onRepaint:function(i){if(!i){return;
}var j=this;
var h=j.editor;
if(h._shouldAutoResizeHeight()){if(h.isFullScreen()){j.disableAutoResizeHeight();
}else{j.makeAutoResizeHeight();
}}else{j.setContentElementHeight();
}},moduleToggleVisibility:function(j){var i=this.editor,m=i.get_element(),l=i.get_mainTable(),h=parseInt(m.style.height,10),k=this.editorHeight;
m.style.minHeight=this.getMinHeight()+"px";
if(!j&&k&&k<h&&/px$/i.test(m.style.height)){m.style.height=k+"px";
l.style.height=k+"px";
}this.setContentElementHeight();
},hideDesignViewElement:function(h){h.style.display="none";
},setHtmlViewElementHeight:function(h){h.style.height="2px";
},isHeightChanged:function(){var p=this,h=p.editor.get_contentArea(),n=$telerik.isIE&&!p.isContentAreaModeDiv,o=p._sizes,l;
if(n){l=h.style.position;
h.style.position="absolute";
}var k=h.scrollHeight,j=h.offsetHeight,i=h.clientHeight,m=true;
if(o.contentAreaScrollHeight&&o.contentAreaOffsetHeight&&o.contentAreaClientHeight&&o.contentAreaScrollHeight==k&&o.contentAreaOffsetHeight==j&&o.contentAreaClientHeight==i){m=false;
}else{o.contentAreaScrollHeight=k;
o.contentAreaOffsetHeight=j;
o.contentAreaClientHeight=i;
}if(n){h.style.position=l;
}return m;
},_getFirstToolbarList:function(){return a(this.editor.get_mainTable()).find("ul.reToolbar")[0];
},_setHeight:function(h,i){this._setCss(h,{height:i});
},_setCss:function(h,i){a(h).css(i);
},_isSizeInPercent:function(h){var i=h+"";
return/%$/.test(i);
}};
Telerik.Web.UI.Editor.UI.SizerBase.registerClass("Telerik.Web.UI.Editor.UI.SizerBase");
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,b,d){var c=".reBottomTable";
b.DimensionsCalculator=function(e){this.editor=e;
};
b.DimensionsCalculator.prototype={calculateContentHeight:function(){var e=this.containerHeight(),f=e-this._getSupportingUIHeight();
return f;
},calculateContainerHeightByContentHeight:function(e){return e+this._getSupportingUIHeight();
},isContainerPxHeight:function(){return/px/i.test(this.editor.get_element().style.height);
},containerHeight:function(){var e=this.editor.get_element(),f=this.containerHeightComputed(),g=this._isPxHeight(f);
if(g){f=parseInt(f,10);
}else{f=e.clientHeight||e.offsetHeight;
}return f;
},containerHeightComputed:function(){var f=this.editor,e=f.get_element();
return $telerik.getComputedStyle(e,"height");
},_getSupportingUIHeight:function(){var g=this.editor,n=g.get_mainTable(),m=a.makeArray(n.rows),h=m.length-1,o=this._getToolbarHeight(a(".reToolCell",m[2])[0]),e=m[0].offsetHeight+m[1].offsetHeight+m[h].offsetHeight+this._getIframeParentTdBorders(a(".reContentCell",m[3])[0]),k=this._getModulesHeight(m[h-1]),l=0;
var i=a(c,m[h-2])[0];
var j=i?i.offsetHeight:0;
e=($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)?Math.min(e,4):e;
var f=g._getCurrentArea();
if(f.nodeName=="TEXTAREA"&&($telerik.isIE7||(!("box-sizing" in f.style)))){l+=this.getComputedSizes(f,["padding-top","padding-bottom"]);
}return o+e+j+k+l;
},_isPxHeight:function(e){return e.indexOf("px")!=-1;
},_isPercentHeight:function(){return/%/.test(this.editor.get_element().style.height);
},_getIframeParentTdBorders:function(e){return this.getComputedSizes(e,["border-top-width","border-bottom-width"]);
},_getModulesHeight:function(f){var e=0;
$telerik.$(".reModule",f).each(function(){e+=this.offsetHeight;
});
return e;
},_getToolbarHeight:function(e){var l=this;
var h=a(e);
var k=h.find("table.reAjaxspell_wrapper")[0];
if(k&&$telerik.getVisible(k)){return e.offsetHeight;
}var j=h.find("div.RadRibbonBar")[0];
if(j){return l._getRibbonBarHeight(j);
}if(h.find("div.reToolbarWrapper").length==0&&h.find("ul.reToolbar").length==1){return l._getFloatingToolbarHeight(e);
}var g=0;
if(!e.style.height){var m=e.firstChild,i=m.style.overflow,f=m.style.cssFloat;
e.style.height="10px";
m.style.overflow="auto";
m.style.cssFloat="left";
g=m.offsetHeight;
e.style.height="";
m.style.overflow=i;
m.style.cssFloat=f;
}return g;
},_getRibbonBarHeight:function(e){var f=this;
return f.getComputedSizes(e,["height"])+f.getComputedSizes(e.parentNode,["padding-top","padding-bottom"]);
},_getFloatingToolbarHeight:function(f){var j=this;
var g=j.getComputedSizes(f,["height"]);
if(g){return g;
}else{var e=0;
var h=$telerik.getComputedStyle;
var i=["margin-top","margin-bottom","border-top-width","border-bottom-width"];
Array.forEach(a.makeArray(f.childNodes),function(k){var l=h(k,"height",0);
if(l=="auto"&&k.nodeName=="UL"){l=j._getToolsListHeight(k);
}e+=j._toNumber(l)+j.getComputedSizes(k,i);
});
return e;
}},_getToolsListHeight:function(e){var f=0;
Array.forEach(a.makeArray(a(e).children()),function(g){f=Math.max(f,g.offsetHeight);
});
return f;
},_toNumber:function(f){var e=f?parseFloat(f):0;
return !isNaN(e)?e:0;
},getComputedSizes:function(f,e){var h=$telerik.getComputedStyle;
var j=this;
var i=0;
var g=parseFloat(h(f,"font-size"));
Array.forEach(e,function(k){var l=h(f,k,0);
if(/em/i.test(l)){l=g*j._toNumber(l);
}i+=j._toNumber(l);
});
return i;
}};
})($telerik.$,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.Sizer=function(f){c.Sizer.initializeBase(this,[f]);
};
c.Sizer.prototype={_setContentElementHeight:function(){var i=this.editor,h=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(i),k=h.isContainerPxHeight(),l=h._isPercentHeight(),m=h._getSupportingUIHeight(),f=h.containerHeight(),g=f-m,n=i.get_element(),j=this.getIframe();
if(f<m+this.lineHeight){f=m+this.lineHeight;
if(k){n.style.height=f+"px";
}g=this.lineHeight;
}j.style.height=g+"px";
if(l){i.get_mainTable().style.height=f+"px";
this.percentHeightFirstLoad=l;
}if(!this.editorHeight){this.editorHeight=f;
}},onResizeStart:function(){c.Sizer.callBaseMethod(this,"onResizeStart");
var f=this.getIframe();
f.style.height=this.lineHeight+"px";
},modeChanged:function(f){if(this.percentHeightFirstLoad&&f!=Telerik.Web.UI.EditModes.Html){this.getIframe().style.height="0px";
}c.Sizer.callBaseMethod(this,"modeChanged");
}};
Telerik.Web.UI.Editor.UI.Sizer.registerClass("Telerik.Web.UI.Editor.UI.Sizer",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeight=function(f){c.SizerAutoResizeHeight.initializeBase(this,[f]);
this.isLegacyIE=$telerik.isIE6||$telerik.isIE7||$telerik.isIE8;
};
c.SizerAutoResizeHeight.prototype={makeAutoResizeHeight:function(j,i){var g=this.editor;
if(j===false||g.isFullScreen()){return;
}var f=g.get_contentArea(),k=g.get_mainTable(),l=g.get_element(),h=this.getIframe();
if(!this._sizes.editorMinHeight){this._sizes.editorMinHeight=this._getEditorMinHeight(l);
}if(h.style.height=="100%"){h.style.height="";
}l.style.height="";
k.style.height="";
f.style.overflow="hidden";
this.resizeIframeHeight(true);
},disableAutoResizeHeight:function(){var g=this.editor,f=g.get_contentArea(),h=this.getIframe();
f.style.overflow="";
h.style.height="100%";
},_getEditorMinHeight:function(f){return/px/i.test(f.style.height)?parseInt(f.style.height,10):f.offsetHeight;
},resizeIframeHeight:function(g){if((!this.isHeightChanged()&&!g)||this.editor.isFullScreen()){return;
}var f=this.getIframe();
this.setIframeHeight(f);
this.saveIframeHeight(f);
if(this.editor._contentAreaWrapper){this.editor._contentAreaWrapper.style.height=f.style.height;
}},setIframeHeight:function(g){var j=this.getIframeMinHeight(),i=g.style.height?parseInt(g.style.height,10):0;
var h=this.calculateIframeHeight();
var k=Math.max(h,j);
var n=0;
if(this.editor.get_mode()==Telerik.Web.UI.EditModes.Preview){var f=this.editor.get_contentArea(),m=$telerik.getComputedStyle(f,"margin-top")||$telerik.getComputedStyle(f,"marginTop")||0,l=$telerik.getComputedStyle(f,"margin-bottom")||$telerik.getComputedStyle(f,"marginBottom")||0;
n=parseInt(m,10)+parseInt(l,10);
f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}if(Math.abs(k-n-i)>10){g.style.height=(k-n)+"px";
}},saveIframeHeight:function(g){var f=this.editor;
if(f.get_mode()==Telerik.Web.UI.EditModes.Design){this._sizes.iframeHight=g.offsetHeight;
}},modeChanged:function(){var i=this.editor,g=i.get_mode(),h=Telerik.Web.UI.EditModes,f=i.get_contentArea(),j=this.getIframe();
f.style.margin="";
f.style.padding="";
if(i.isFullScreen()){j.style.height="100%";
}else{if(g==h.Design){this.makeAutoResizeHeight(true,true);
this._sizes.iframeHight=j.offsetHeight;
}else{if(g==h.Html){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
j.style.overflow="";
}else{this.makeAutoResizeHeight(true,true);
j.style.height=(i.get_textArea().scrollHeight+1)+"px";
}}else{if(g==h.Preview){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
f.style.height="";
}else{this.makeAutoResizeHeight(true,true);
f.style.height="";
}f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}}}}},getIframeMinHeight:function(){var g=this.editor,h=this._sizes.editorMinHeight,f=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(g),j=f._getSupportingUIHeight(),i=Math.max(h-j,this.lineHeight);
return i;
},calculateIframeHeight:function(){var i=this.editor,f=i.get_contentArea(),h=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(i),m=h._getSupportingUIHeight(),g=Math.max(this.getContentAreaHeight(f),this.lineHeight),l=this._sizes.editorMinHeight,j=Math.max(m+g,l),k=j-m;
this._sizes.contentAreaHeight=g;
return k;
},getContentAreaHeight:function(f){var j=this.isLegacyIE;
var g=f.style.cssFloat;
var i=f.style.height;
var k;
f.style.cssFloat="left";
f.style.height="auto";
if(!j){k=f.style.overflow;
f.style.overflow="";
}var h=!j?f.offsetHeight:f.scrollHeight;
f.style.cssFloat=g;
f.style.height=i;
if(!j){f.style.overflow=k;
}return h;
},onSubmitSetEditorHeight:function(){var f=this.editor.get_element();
var g=$telerik.getComputedStyle(f,"height");
if(g&&/px$/i.test(g)){f.style.height=g;
this.editor.get_mainTable().style.height=g;
}},moduleToggleVisibility:function(){this.resizeIframeHeight(true);
},setHtmlViewElementHeight:function(f){var g=this;
if(g._sizes.iframeHight){f.style.height=g._sizes.iframeHight+"px";
}else{c.SizerAutoResizeHeight.callBaseMethod(g,"setHtmlViewElementHeight",[f]);
}}};
c.SizerAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeightDivMode=function(f){c.SizerAutoResizeHeightDivMode.initializeBase(this,[f]);
};
c.SizerAutoResizeHeightDivMode.prototype={resizeIframeHeight:function(g){var h=this;
if((!h.isHeightChanged()&&!g)||h.editor.isFullScreen()){return;
}var f=h.getIframe();
if(!f.style.minHeight){f.style.minHeight=h.getIframeMinHeight()+"px";
}h.saveIframeHeight(f);
},modeChanged:function(){var i=this;
var g=i.getIframe();
var f=i.editor;
if(f.get_mode()==b.EditModes.Design){if(f.isFullScreen()){g.style.height="100%";
}else{if(g.style.height){g.style.height="";
g.parentNode.style.height="";
}}return;
}var h=i._sizes;
if(h.iframeHight){g.style.height=(h.iframeHight)+"px";
g.style.overflow="";
}},hideDesignViewElement:function(g){var f=this.editor.get_element();
if(!f.style.height){var h=$telerik.getComputedStyle(f,"height");
if(!/px$/i.test(h)){h=f.clientHeight+"px";
}f.style.height=h;
setTimeout(function(){f.style.height="";
},0);
}g.style.display="none";
}};
c.SizerAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeightDivMode",Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a){a.SizerEditTypeInline=function(b){a.SizerEditTypeInline.initializeBase(this,[b]);
};
a.SizerEditTypeInline.prototype={getIframeMinHeight:function(){return this.lineHeight;
}};
a.SizerEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerEditTypeInline",a.SizerAutoResizeHeightDivMode);
})(Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,b){b.SizerFactory={getSizer:function(e){var h=e.get_renderMode();
var g=e._isInInlineEditMode();
var d=e.get_autoResizeHeight();
var f=e.get_contentAreaMode()==a.EditorContentAreaMode.Div;
if(h===c.Lite){if(g){return new b.SizerLightweightEditTypeInline(e);
}else{if(d){return f?new b.SizerLightweightAutoResizeHeightDivMode(e):new b.SizerLightweightAutoResizeHeight(e);
}else{return new b.SizerLightweight(e);
}}}else{if(h==c.Classic){if(g){return new b.SizerEditTypeInline(e);
}else{if(d){return f?new b.SizerAutoResizeHeightDivMode(e):new b.SizerAutoResizeHeight(e);
}else{if($telerik.isIE6||$telerik.isIE7||$telerik.isIE8){return new b.SizerLegacyIE(e);
}else{return new b.Sizer(e);
}}}}else{if(h===c.Mobile){return new b.SizerMobile(e);
}}}}};
})(Telerik.Web.UI,Telerik.Web.UI.RenderMode,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerLegacyIE=function(f){c.SizerLegacyIE.initializeBase(this,[f]);
};
c.SizerLegacyIE.prototype={_setContentElementHeight:function(){this.cancelResizing=true;
var k=this.editor,j=k.get_mode(),n=j==b.EditModes.Html,s=k.get_element(),i=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(k),m=i.isContainerPxHeight(),o=i._isPercentHeight(),r=i._getSupportingUIHeight(),g=i.containerHeight(),h=g-r,l=this.getIframe(),p=k.get_mainTable(),f=$get(k.get_id()+"Center");
if(o&&!this.percentHeightFirstLoad){var t=this.getWrapperHeight(s);
if(t<=0){return;
}p.style.height=t+"px";
}if(o){g=parseInt(p.style.height,10);
h=g-r;
}if(g<r+this.lineHeight){g=r+this.lineHeight;
if(m){s.style.height=g+"px";
}f.style.height="";
h=this.lineHeight;
}l.style.height=h+"px";
if(!n){if(Math.abs(l.parentNode.offsetHeight-s.offsetHeight)<5&&l.parentNode.style.height=="100%"){l.parentNode.style.height="";
}}else{if(n){var q=k.get_textArea();
f.style.height="";
q.style.height=($telerik.isIE7?h-2:h)+"px";
setTimeout(function(){var v=q.createTextRange();
var u=v.getBookmark();
q.value=q.value;
v.moveToBookmark(u);
v.collapse(true);
v.select();
},0);
}}if(o&&!this.percentHeightFirstLoad){this.percentHeightFirstLoad=o;
if(parseInt(p.style.height,10)!=this.getWrapperHeight(s)){p.style.height=this.getWrapperHeight(s)+"px";
}}if(!this.editorHeight){this.editorHeight=g;
}setTimeout(Function.createDelegate(this,function(){this.cancelResizing=false;
}),10);
},getWrapperHeight:function(f){this._wrapperBorders=this._wrapperBorders==d?this.getWrapperBordersWidth(f):this._wrapperBorders;
return f.clientHeight-this._wrapperBorders;
},getWrapperBordersWidth:function(h){var g=$telerik.getComputedStyle(h,"border-top-width")||$telerik.getComputedStyle(h,"borderTopWidth"),f=$telerik.getComputedStyle(h,"border-bottom-width")||$telerik.getComputedStyle(h,"borderBottomWidth");
g=isNaN(parseInt(g,10))?0:parseInt(g,10);
f=isNaN(parseInt(f,10))?0:parseInt(f,10);
return g+f;
},onResizeStart:function(){c.SizerLegacyIE.callBaseMethod(this,"onResizeStart");
this.editor.get_contentArea().style.height=this.lineHeight+"px";
this.setContentElementHeight();
},onResizing:function(){if(!this.cancelResizing){this.ensureMinDimentions();
this.setContentElementHeight();
}},onResizeEnd:function(){this.ensureMinDimentions();
c.SizerLegacyIE.callBaseMethod(this,"onResizeEnd");
}};
Telerik.Web.UI.Editor.UI.SizerLegacyIE.registerClass("Telerik.Web.UI.Editor.UI.SizerLegacyIE",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
(function(a,b,c,d){c.SizerLightweight=function(e){c.SizerLightweight.initializeBase(this,[e]);
this._view=e._view;
};
c.SizerLightweight.prototype={moduleToggleVisibility:function(){this.setContentElementHeight();
},onSubmitSetEditorHeight:function(){},_setContentElementHeight:function(){var i=this,j=i._view,f=i.editor,g=f.get_element(),k=g.offsetHeight,e=Math.round(k-i._calcUiHeight()),h=i._getFontSize(g);
i._setHeight(j.contentAreaContainer(),i._convertPxToEm(e,h));
i._setHeight(i.getIframe(),"100%");
},_calcUiHeight:function(){var l=this,o=l._view,g=l.editor,f=new c.DimensionsCalculator(g),m=o.toolBarContainer(),n=l._getComponentHeight(m),k=f.getComputedSizes(g.get_element(),["padding-top"]),h=f.getComputedSizes(m,["margin-bottom"]),e=f.getComputedSizes(o.contentAreaContainer(),["border-top-width","border-bottom-width"]),i=l._getComponentHeight(o.modesRowContainer()),j=l._getComponentHeight(o.modulesContainer());
return n+i+j+h+e+k;
},_getComponentHeight:function(e){return $telerik.getVisible(e)?e.offsetHeight:0;
},_getFontSize:function(e){return parseFloat($telerik.getComputedStyle(e,"font-size"));
},_convertPxToEm:function(f,e){return(f/e)+"em";
},onResizeStart:function(){},onResizeEnd:function(){},onResizing:function(){this.setContentElementHeight();
},modeChanged:function(f){var e=this;
e._toggleContentElementVisibility(f);
e.setContentElementHeight();
},_toggleContentElementVisibility:function(j){var i=this,f=i.editor,k=i._view,h=j==b.EditModes.Html,g=h?f.get_contentAreaElement():f._getHtmlModeTextarea(),e=h?"none":"";
i._setCss(k.modulesContainer(),{display:e});
i._setHeight(g,0);
},_getFirstToolbarList:function(){return a(this.editor.get_element()).find("ul.reToolBar")[0];
}};
c.SizerLightweight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweight",c.SizerBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeight=function(e){c.SizerLightweightAutoResizeHeight.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeight.prototype={makeAutoResizeHeight:function(){this.resizeIframeHeight(true);
},resizeIframeHeight:function(j){var k=this,h=k.editor;
if((!k.isHeightChanged()&&!j)||h.isFullScreen()){return;
}var i=h.get_element(),m=k._view,f=m.contentAreaContainer(),e=h.get_contentArea();
k._setHeight(f,"");
var g=$telerik.isIE&&!$telerik.isIE9Mode?e.scrollHeight:e.offsetHeight,l=k._calcUiHeight();
k.contentAreaMinHeight=k._getContentElementMinHeigth(l,g);
g=Math.max(k.contentAreaMinHeight,g);
k.contentHeight=g;
k.setContentAreaElementHeight();
k.setContentAreaMinHeight(e);
k._setHeight(f,g);
k._setHeight(i,l+g);
},_getContentElementMinHeigth:function(g,e){var f=this;
f.editorHeight=Math.round(f.editorHeight||a(f.editor.get_element()).height());
return Math.round(f.contentAreaMinHeight||Math.max(f.lineHeight,f.editorHeight-g));
},setContentAreaElementHeight:function(){var f=this;
var e=f.editor;
f._setHeight(e.get_contentAreaElement(),"100%");
},setContentAreaMinHeight:function(){},moduleToggleVisibility:function(){},modeChanged:function(k){var i=this;
var f=i.editor;
if(f.isFullScreen()){i.modeChangedFullScreen(k);
}else{if(k==b.EditModes.Design){i._toggleContentElementVisibility(k);
i.resizeIframeHeight(true);
}else{var h=i.getIframe();
var g=f.get_element();
var j=i._calcUiHeight();
var e=i.contentHeight||g.offsetHeight-j;
i._setHeight(h,e);
i._setHeight(g,e+j);
}}},modeChangedFullScreen:function(e){this.setContentElementHeight();
},disableAutoResizeHeight:function(){this.setContentElementHeight();
}};
c.SizerLightweightAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeight",c.SizerLightweight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeightDivMode=function(e){c.SizerLightweightAutoResizeHeightDivMode.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeightDivMode.prototype={makeAutoResizeHeight:function(){var e=this;
e._setHeight(e.editor.get_contentArea(),"");
c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(e,"makeAutoResizeHeight");
},modeChanged:function(g){var f=this;
var e=f.editor;
if(e.isFullScreen()){f.modeChangedFullScreen(g);
}else{if(g==b.EditModes.Design){f._setHeight(e.get_contentArea(),"");
}c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(f,"modeChanged",[g]);
}},setContentAreaMinHeight:function(e){if(!e.style.minHeight){var f=this;
f._setCss(e,{"min-height":f.contentAreaMinHeight});
}},setContentAreaElementHeight:function(){}};
c.SizerLightweightAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeightDivMode",c.SizerLightweightAutoResizeHeight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightEditTypeInline=function(e){c.SizerLightweightEditTypeInline.initializeBase(this,[e]);
};
c.SizerLightweightEditTypeInline.prototype={_getContentElementMinHeigth:function(f,e){return e;
},setContentAreaMinHeight:function(e){}};
c.SizerLightweightEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightEditTypeInline",c.SizerLightweightAutoResizeHeightDivMode);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,c,e){var d=c.Editor.UI;
var b=c.EditModes;
d.SizerMobile=function(f){d.SizerMobile.initializeBase(this,[f]);
};
d.SizerMobile.prototype={setContentElementHeight:function(){},onResizeStart:function(){},onResizeEnd:function(){},onResizing:function(){},modeChanged:function(f){if(f===b.Design){this.setContentElementHeight();
}},moduleToggleVisibility:function(f){},onSubmitSetEditorHeight:function(){},hideDesignViewElement:function(f){},setHtmlViewElementHeight:function(f){},onRepaint:function(f){}};
d.SizerMobile.registerClass("Telerik.Web.UI.Editor.UI.SizerMobile",d.SizerBase);
})($telerik.$,Telerik.Web.UI);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI,c=Telerik.Web.UI.Editor.UI.StaticToolsUI=function(){};
c.createToolWrapper=function(f,e,g){return c["createToolWrapper"+f](e,g);
};
c.createToolWrapperClassic=function(h,i){var f=h.get_enableAriaSupport();
var j=document.createElement("ul");
var g=document.createElement("li");
g.innerHTML="&nbsp;";
g.className="reGrip grip_first";
j.appendChild(g);
j.className="reToolbar "+i;
if(f){g.setAttribute("role","presentation");
}g=document.createElement("li");
j.appendChild(g);
var e=h.get_element();
g.appendChild(e);
g=document.createElement("li");
g.innerHTML="&nbsp;";
g.className="reGrip grip_last";
j.appendChild(g);
if(f){g.setAttribute("role","presentation");
j.setAttribute("role","presentation");
}return j;
};
c.createToolWrapperLightweight=function(h,i){var f=h.get_enableAriaSupport();
var j=document.createElement("ul");
j.className="reToolBar RadEditor_"+i;
if(f){j.setAttribute("role","presentation");
}var g=document.createElement("li");
j.appendChild(g);
var e=h.get_element();
g.appendChild(e);
return j;
};
c.createButton=function(e,f){c["createButton"+e](f);
};
c.createButtonClassic=function(h){var e=document.createElement("a");
e.className=h.showText==true?"reTool_text":"reTool";
var g=h.text;
e.title=g?g:h.name;
e.href="#";
e.setAttribute("unselectable","on");
var f;
if(h.showIcon!=false){f=document.createElement("span");
f.className=h.name;
f.innerHTML="&nbsp;";
f.setAttribute("unselectable","on");
e.appendChild(f);
}if(h.showText==true){f=document.createElement("span");
f.className="reButton_text";
f.innerHTML=h.text?h.text:h.name;
f.setAttribute("unselectable","on");
e.appendChild(f);
}return e;
};
c.createButtonLightweight=function(e){var g=e.text||e.name,f=a("<a href='#'></a>").attr({title:g,unselectable:"on"}).addClass("reTool re"+e.name);
if(e.showText==true){f.text(g).addClass("reToolText");
}if(e.showIcon!=false){f.addClass("reToolIcon");
}return f.get(0);
};
c.createTool=function(h,j,f,k,e,g){if(!k){k=b.EditorButton;
}j.rendermode=h;
if(!e){e=c["createToolUI"+h](j,k);
}var i=$create(k,j,f,null,e);
if(g&&g.appendChild){g.appendChild(e);
}return i;
};
c.createToolUIClassic=function(h,i){var f=c.createButtonClassic(h);
if(f.tagName=="A"){var e=f,g;
if(i==b.EditorSplitButton||i.inheritsFrom(b.EditorSplitButton)){Sys.UI.DomElement.addCssClass(e,"reSplitButton");
g=document.createElement("span");
g.className="split_arrow";
g.innerHTML="&nbsp;";
e.appendChild(g);
}else{if(i==b.EditorDropDown||i.inheritsFrom(b.EditorDropDown)){Sys.UI.DomElement.removeCssClass(e,"reTool");
Sys.UI.DomElement.addCssClass(e,"reDropdown");
e.innerHTML="";
g=document.createElement("span");
g.innerHTML="&nbsp;";
var j=h.width?h.width:"50px";
g.style.width=j;
e.appendChild(g);
}}}return f;
};
c.createToolUILightweight=function(g,h){var f=c.createButtonLightweight(g);
if(h==b.EditorSplitButton||h.inheritsFrom(b.EditorSplitButton)){var e=a("<span></span>").addClass("reSplitArrow").attr("unselectable","on");
a(f).append(e).addClass("reSplitButton");
}else{if(h==b.EditorDropDown||h.inheritsFrom(b.EditorDropDown)){a(f).removeClass("reTool").addClass("reDropdown").width(g.width||"50px");
}}return f;
};
})($telerik.$);
(function(a,g){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var c=Telerik.Web.UI.Editor.UI;
var f=b.RenderMode;
var e="Mobile";
var h="View";
var d="FontName";
c.ToolsViewFactory={getView:function(i,j){var k=this.getViewName(i,j);
return new c[k](i);
},getViewName:function(l,n){var m=l.get_name();
var k=l._rendermode;
var j=k=="Mobile"||k==f.Mobile;
var o;
if(j){if(m===d){o=e+m+h;
}else{o=e+n+h;
}}else{var i=l._rendermode=="Lightweight"||l._rendermode==f.Lite||(l._attributes&&l._attributes.rendermode=="Lightweight");
o=(i?"Lightweight":"Classic")+n+"View";
}return o;
}};
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.BaseEditorButtonView=function(d){var e=this;
e.owner=d;
e.initialize();
};
b.BaseEditorButtonView.prototype={initialize:function(){var g=this,e=g.owner;
var d=e.getAnchorElement();
if(d){d.setAttribute("unselectable","on");
}var f=e.getSpanElement();
if(f){f.setAttribute("unselectable","on");
}},dispose:function(){delete this.owner;
},set_width:function(d){},get_width:function(){},set_height:function(d){},get_height:function(){},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){},disable:function(){},select:function(d){},deselect:function(d){},set_text:function(d){},updateElementsOnValueChange:function(d){this.set_text((""+d));
}};
b.BaseEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorButtonView");
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.BaseEditorDropDownView=function(d){b.BaseEditorDropDownView.initializeBase(this,[d]);
};
b.BaseEditorDropDownView.prototype={renderItemRoot:function(){},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){},renderItemContainer:function(d){},renderChild:function(d,e,f){},getItemElements:function(d){}};
b.BaseEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorDropDownView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorButtonView=function(d){b.ClassicEditorButtonView.initializeBase(this,[d]);
};
b.ClassicEditorButtonView.prototype={set_width:function(e){var d=this.owner.getSpanElement();
if(d){d.style.width=e;
}},get_width:function(){return this.owner.get_element().offsetWidth;
},set_height:function(e){var d=this.owner.getSpanElement();
if(d){d.style.height=e;
}},get_height:function(){return this.owner.get_element().offsetHeight;
},set_tooltipIncrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[0].title=e;
}},get_tooltipIncrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[0].title;
}},set_tooltipDecrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[1].title=e;
}},get_tooltipDecrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[1].title;
}},enable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._removeAnchorCssClass("reTool_disabled");
d.removeAttribute("disabled");
if(e){d.removeAttribute("aria-disabled");
}},disable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._addAnchorCssClass("reTool_disabled");
d.setAttribute("disabled","disabled");
if(e){d.setAttribute("aria-disabled","true");
}},select:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._addAnchorCssClass("reTool_selected");
if(d&&g){d.setAttribute(e,"true");
}},deselect:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._removeAnchorCssClass("reTool_selected");
if(d&&g){d.removeAttribute(e);
}},set_text:function(d){this.owner.getSpanElement().innerHTML=d.replace(/\s+/ig,"&nbsp;");
},_addAnchorCssClass:function(d){Sys.UI.DomElement.addCssClass(this.owner.getAnchorElement(),d);
},_removeAnchorCssClass:function(d){Sys.UI.DomElement.removeCssClass(this.owner.getAnchorElement(),d);
}};
b.ClassicEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorDropDownView=function(d){b.ClassicEditorDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
var d=e.insertCell(-1);
return d;
},renderChildren:function(){var g=this.owner;
for(var d=0;
d<g._items.length;
d++){var h=false;
var e=g._items[d];
h=0==(d%g.get_itemsperrow());
if(h){g.renderNewRow();
}var f=g.renderItemContainer(e);
g.markItemContainer(f,d);
g.renderChild(f,e,d);
}},renderChild:function(d,e,f){var g=document.createElement("span");
if(e){var j=null;
var h=null;
if(e instanceof Array){j=e[1];
h=e[2];
}else{j=e;
}if(h){var i=document.createElement("span");
i.innerHTML="&nbsp;";
i.className=h;
g.appendChild(i);
}if(j){g.innerHTML+=j;
g.noWrap=true;
}}d.innerHTML=g.innerHTML;
},getItemElements:function(d){return d.getElementsByTagName("TD");
}};
b.ClassicEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorDropDownView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorUpdateableDropDownView=function(d){b.ClassicEditorUpdateableDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorUpdateableDropDownView.prototype={};
b.ClassicEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorUpdateableDropDownView",b.ClassicEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSelfUpdateableDropDownView=function(d){b.ClassicEditorSelfUpdateableDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorSelfUpdateableDropDownView.prototype={};
b.ClassicEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSelfUpdateableDropDownView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSplitButtonView=function(d){b.ClassicEditorSplitButtonView.initializeBase(this,[d]);
};
b.ClassicEditorSplitButtonView.prototype={getSplitArrow:function(){var e=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var d=e[e.length-1];
return d;
}};
b.ClassicEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSplitButtonView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorToolStripView=function(d){b.ClassicEditorToolStripView.initializeBase(this,[d]);
};
b.ClassicEditorToolStripView.prototype={renderItemRoot:function(){var d=document.createElement("div");
d.className="reTlbVertical";
d.style.cssFloat="left";
d.style.width="100%";
return d;
},renderChildren:function(){var m=this.owner.get_tools();
var n=document.createElement("ul");
n.setAttribute("onmousedown","return false;");
n.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(n);
for(var f=0;
f<m.length;
f++){if(this._shouldRenderNewRow(f)){n=this.renderNewRow(n);
}var l=m[f];
if(null==l.showText){l.showText=true;
}var h=document.createElement("li");
n.appendChild(h);
var k=b.StaticToolsUI.createTool(this._renderMode,l,null,null,null,h);
var e=this.owner.get_enableAriaSupport();
if(e){var d=k.getAnchorElement();
if(d){k.set_enableAriaSupport(e,"option");
d.setAttribute("aria-posinset",f+1);
var g=this.owner._popupBehavior.get_id()+"_"+l.name;
h.setAttribute("role","presentation");
d.setAttribute("id",g);
var j=$telerik.getChildByClassName(d,"reButton_text");
if(j){j.setAttribute("id",g+"_text");
d.setAttribute("aria-describedby",j.id);
}}n.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=k;
}},_getChildrenWrapperClass:function(){return"reToolbar "+this.owner.get_skin();
},_shouldRenderNewRow:function(d){var e=this.owner.get_itemsperrow();
return e>1&&d>1&&(d%e==0);
},renderNewRow:function(d){var e=document.createElement("ul");
e.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(e);
return e;
},_updateHeader:function(){var g=this.owner,j=g.get_selectedItem();
if(!j||!j.getSpanElement){return;
}var i=j.getSpanElement();
if(i){var f=i.cloneNode(true);
var e=g.getSpanElement();
var h=e.parentNode;
h.replaceChild(f,e);
var d=j.getAnchorElement();
if(d){h.setAttribute("title",d.getAttribute("title"));
}}},_renderMode:"Classic"};
b.ClassicEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorToolStripView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicAlignmentSelectorView=function(d){b.ClassicAlignmentSelectorView.initializeBase(this,[d]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
b.ClassicAlignmentSelectorView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
if(!e){e=this.renderNewRow(f);
}var d=e.insertCell(-1);
return d;
},renderChild:function(d,e,f){var g=document.createElement("div");
if(e){g.innerHTML="&nbsp;";
g.className=this._alignmentClassName[f];
}d.appendChild(g);
},getItemElements:function(d){return d.getElementsByTagName("TD");
},getSplitArrow:function(){var e=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var d=e[e.length-1];
return d;
},decorate:function(d){var e=this.owner.getSpanElement();
e.className=d;
}};
b.ClassicAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.ClassicAlignmentSelectorView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicApplyClassDropDownView=function(d){b.ClassicApplyClassDropDownView.initializeBase(this,[d]);
};
b.ClassicApplyClassDropDownView.prototype={renderChild:function(d,f){var l=this.owner;
var i=f[1];
if(i){var j=l._getClassTag(i);
var h=l._getClassCss(i);
var k=f[2]?f[2]:l._getDisplayName(i);
d.setAttribute("title",i.selectorText);
var e=l._getClassIcon(j);
d.appendChild(e);
var g=this._getChild(h,j,k);
d.appendChild(g);
}},_getChild:function(f,e,d){var g=document.createElement("div");
if(e.toLowerCase()=="a"){g=document.createElement("a");
g.href="#";
g.onmouseover="window.status = ''; return false;";
g.onclick=function(){return false;
};
g.style.cursor="default";
}if(null!=g.style.cssText){g.style.cssText=f;
}g.setAttribute("style",f);
g.innerHTML=d;
var h=g.style;
h.visibility="visible";
h.marginLeft="0px";
h.overflowX="hidden";
h.clear="none";
h.position="";
h.cssFloat="";
h.styleFloat="";
h.width="";
return g;
}};
b.ClassicApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicApplyClassDropDownView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicColorPickerView=function(d){b.ClassicColorPickerView.initializeBase(this,[d]);
};
b.ClassicColorPickerView.prototype={decorate:function(f){var d=this.owner.getSpanElement();
d.style.borderBottom="0px";
d.style.height="";
if(f){var h=d.offsetHeight;
if(h){d.style.height=(h-3)+"px";
}try{d.style.borderBottom="3px solid "+f;
}catch(g){}}},get_addCustomColorElement:function(){return null;
},get_currentColorWrapperElement:function(){return null;
},get_clearColorElement:function(){return null;
}};
b.ClassicColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicColorPickerView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorCheckBoxView=function(d){b.ClassicEditorCheckBoxView.initializeBase(this,[d]);
};
b.ClassicEditorCheckBoxView.prototype={};
b.ClassicEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorContextMenuView=function(d){b.ClassicEditorContextMenuView.initializeBase(this,[d]);
};
b.ClassicEditorContextMenuView.prototype={};
b.ClassicEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorContextMenuView",b.ClassicEditorToolStripView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSpellSuggestionBoxView=function(d){b.ClassicEditorSpellSuggestionBoxView.initializeBase(this,[d]);
};
b.ClassicEditorSpellSuggestionBoxView.prototype={};
b.ClassicEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpellSuggestionBoxView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSpinBoxView=function(d){b.ClassicEditorSpinBoxView.initializeBase(this,[d]);
};
b.ClassicEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=null;
if(!d){f=window.event.srcElement;
}else{f=d.target;
}while(f&&f.tagName.toLowerCase()!="a"){f=f.parentNode;
}return f;
},_createUI:function(){var k=this.owner;
var j=document.createElement("table");
j.cellSpacing=0;
j.cellPadding=0;
j.className=k.get_visibleInput()?k._className:"reTableWizardSpinBox";
j.insertRow(-1);
var g=j.rows[0].insertCell(-1);
var f=document.createElement("input");
f.className="radfd_skipme";
f.type="text";
f.onclick=function(l){f.focus();
};
f.onkeypress=Function.createDelegate(k,k._onKeyPressHandler);
f.onchange=Function.createDelegate(k,k._onChangeHandler);
k._inputElement=f;
g.appendChild(f);
if(!k.get_visibleInput()){k.set_visibleInput(false);
}var d;
if(k.get_visibleInput()){g=j.rows[0].insertCell(-1);
var i=document.createElement("table");
i.cellSpacing=0;
i.cellPadding=0;
i.insertRow(-1);
var h=i.rows[0].insertCell(-1);
d=this._createAnchorElement("Increase");
k._increaseButton=d;
h.appendChild(d);
i.insertRow(-1);
h=i.rows[1].insertCell(-1);
d=this._createAnchorElement("Decrease");
k._decreaseButton=d;
h.appendChild(d);
g.appendChild(i);
}else{g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Increase");
k._increaseButton=d;
g.appendChild(d);
g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Decrease");
k._decreaseButton=d;
g.appendChild(d);
}var e=k.get_element();
e.appendChild(j);
e.style.width=k.get_width();
},_createAnchorElement:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML=f;
d.className="reSpinBox"+g;
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
},_createAnchorElement_noinput:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML="<span class='reTableWizardSpinBox_"+g+"'>"+f+"</span>";
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
}};
b.ClassicEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorTextBoxView=function(d){b.ClassicEditorTextBoxView.initializeBase(this,[d]);
};
b.ClassicEditorTextBoxView.prototype={};
b.ClassicEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicImageDialogCallerView=function(d){b.ClassicImageDialogCallerView.initializeBase(this,[d]);
};
b.ClassicImageDialogCallerView.prototype={};
b.ClassicImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicInsertCustomLinkDropDownView=function(d){var e=this;
b.ClassicInsertCustomLinkDropDownView.initializeBase(e,[d]);
e._emptyIcon="reIcon_empty";
e._expandIcon="reIcon_plus";
e._collapseIcon="reIcon_minus";
e._linkCounter=0;
};
b.ClassicInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("ul");
d.className="reCustomLinks";
this._itemRootElement=d;
return this._itemRootElement;
},renderNewRow:function(d){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(e){var d=document.createElement("li");
e.appendChild(d);
return d;
},renderChild:function(e,f,j){e.item_index=c;
var p=this;
var k=p._linkCounter;
p._linkCounter++;
p.owner.FlatLinksArray[k]=f;
var g=f.childLinks&&f.childLinks.length;
var m=document.createElement("span");
m.innerHTML="&nbsp;";
m.className="reCustomLinksIcon ";
m.className+=g?p._expandIcon:p._emptyIcon;
if(g){$addHandler(m,"click",function(r){var s=Sys.UI.DomElement.containsCssClass(this,p._expandIcon);
var t=this.parentNode.getElementsByTagName("UL")[0];
if(t){t.style.display=s?"":"none";
var q=s?p._expandIcon:p._collapseIcon;
var i=s?p._collapseIcon:p._expandIcon;
Sys.UI.DomElement.removeCssClass(this,q);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(r);
});
}e.appendChild(m);
var l=null;
if(f.href){l=document.createElement("a");
l.href="#";
l.innerHTML=f.name;
e.appendChild(l);
this.owner.markItemContainer(l,k);
}else{l=document.createElement("span");
l.innerHTML=f.name;
e.appendChild(l);
}if(g){var o=document.createElement("ul");
e.appendChild(o);
var d=f.childLinks;
for(var h=0;
h<f.childLinks.length;
h++){var n=d[h];
this.renderChild(p.renderItemContainer(o),n);
}o.style.display="none";
}},getItemElements:function(d){return null;
}};
b.ClassicInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicInsertCustomLinkDropDownView",b.ClassicEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorButtonView=function(d){Telerik.Web.UI.Editor.UI.LightweightEditorButtonView.initializeBase(this,[d]);
};
b.LightweightEditorButtonView.prototype={set_width:function(d){$telerik.$(this.owner.get_element()).width(d);
},get_width:function(){return $telerik.$(this.owner.get_element()).width();
},set_height:function(d){$telerik.$(this.owner.get_element()).height(d);
},get_height:function(){return $telerik.$(this.owner.get_element()).width();
},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){$telerik.$(this.owner.get_element()).removeClass("reToolDisabled").removeAttr("disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).removeAttr("aria-disabled");
}},disable:function(){$telerik.$(this.owner.get_element()).addClass("reToolDisabled").attr("disabled","disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).attr("aria-disabled",true);
}},select:function(d){$telerik.$(this.owner.get_element()).addClass("reToolSelected").attr(d||"aria-pressed","true");
},deselect:function(d){$telerik.$(this.owner.get_element()).removeClass("reToolSelected").removeAttr(d||"aria-pressed");
},set_text:function(h){var g,f,e=this.owner.get_element(),d=e.childNodes;
if(d.length>0){for(f in d){g=d[f];
if(g.nodeType===3){g.nodeValue=h;
}}}else{e.innerHTML=h;
}}};
b.LightweightEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorDropDownView=function(d){b.LightweightEditorDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorDropDownView.prototype={renderItemRoot:function(){var d=a("<ul></ul>").css("cursor","default").attr("unselectable","on");
if(this.owner.get_enableAriaSupport()){d.attr("role","presentation");
}return d.get(0);
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){var e=a("<li class='reClear'></li>");
a(d).append(e);
return e.get(0);
},renderItemContainer:function(e){var d=a("<li></li>");
a(e).append(d);
return d.get(0);
},renderChildren:function(){var g=this.owner;
for(var d=0;
d<g._items.length;
d++){var h=false;
var e=g._items[d];
h=g.get_itemsperrow()==1||(d>1&&0==(d%g.get_itemsperrow()));
if(h){g.renderNewRow();
}var f=g.renderItemContainer(e);
g.markItemContainer(f,d);
g.renderChild(f,e,d);
}g.renderNewRow();
},renderChild:function(d,e,g){var h,f;
if(e instanceof Array){h=e[1];
f=e[2];
}else{h=e;
}if(f){a(d).addClass("reToolIcon re"+f);
}a(d).html(h);
},getItemElements:function(d){return d.getElementsByTagName("LI");
}};
b.LightweightEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorDropDownView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorUpdateableDropDownView=function(d){b.LightweightEditorUpdateableDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorUpdateableDropDownView.prototype={};
b.LightweightEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorUpdateableDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSelfUpdateableDropDownView=function(d){b.LightweightEditorSelfUpdateableDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorSelfUpdateableDropDownView.prototype={};
b.LightweightEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSelfUpdateableDropDownView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSplitButtonView=function(d){b.LightweightEditorSplitButtonView.initializeBase(this,[d]);
};
b.LightweightEditorSplitButtonView.prototype={getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
}};
b.LightweightEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSplitButtonView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorToolStripView=function(d){b.LightweightEditorToolStripView.initializeBase(this,[d]);
};
b.LightweightEditorToolStripView.prototype={renderItemRoot:function(){var d=document.createElement("div");
d.className="reTlbVertical";
d.style.cssFloat="left";
d.style.width="100%";
return d;
},renderChildren:function(){var m=this.owner.get_tools();
var n=document.createElement("ul");
n.setAttribute("onmousedown","return false;");
n.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(n);
for(var f=0;
f<m.length;
f++){if(this._shouldRenderNewRow(f)){n=this.renderNewRow(n);
}var l=m[f];
if(null==l.showText){l.showText=true;
}var h=document.createElement("li");
n.appendChild(h);
var k=b.StaticToolsUI.createTool(this._renderMode,l,null,null,null,h);
var e=this.owner.get_enableAriaSupport();
if(e){var d=k.getAnchorElement();
if(d){k.set_enableAriaSupport(e,"option");
d.setAttribute("aria-posinset",f+1);
var g=this.owner._popupBehavior.get_id()+"_"+l.name;
h.setAttribute("role","presentation");
d.setAttribute("id",g);
var j=$telerik.getChildByClassName(d,"reButton_text");
if(j){j.setAttribute("id",g+"_text");
d.setAttribute("aria-describedby",j.id);
}}n.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=k;
}},_getChildrenWrapperClass:function(){return"reToolBar RadEditor_"+this.owner.get_skin();
},_shouldRenderNewRow:function(d){var e=this.owner.get_itemsperrow();
return e==0||(d>0&&0==(d%e));
},renderNewRow:function(d){b.LightweightEditorToolStripView.callBaseMethod(this,"renderNewRow",[d]);
return d;
},_clearHeader:function(){var e=this.owner,d=e.get_element(),f=e.get_selectedItem();
if(f){a(d).removeClass("re"+f.get_name());
}else{a(d).removeClass("re"+e.get_name());
}},_updateHeader:function(){var d=this.owner,e=d.get_selectedItem();
if(e){a(d.get_element()).addClass("re"+e.get_name());
}},_renderMode:"Lightweight"};
b.LightweightEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorToolStripView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightAlignmentSelectorView=function(d){b.LightweightAlignmentSelectorView.initializeBase(this,[d]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
b.LightweightAlignmentSelectorView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
if(!e){e=this.renderNewRow(f);
}var d=e.insertCell(-1);
return d;
},renderChild:function(d,e,f){var g=document.createElement("div");
if(e){g.innerHTML="&nbsp;";
g.className=this._alignmentClassName[f];
}d.appendChild(g);
},getItemElements:function(d){return d.getElementsByTagName("TD");
},getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
},decorate:function(d){a(this.owner.get_element()).removeClass("reNoAlignment reTopLeft reTopCenter reTopRight reMiddleLeft reMiddleCenter reMiddleRight reBottomLeft reBottomCenter reBottomRight").addClass(d);
}};
b.LightweightAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.LightweightAlignmentSelectorView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightApplyClassDropDownView=function(d){b.LightweightApplyClassDropDownView.initializeBase(this,[d]);
};
b.LightweightApplyClassDropDownView.prototype={renderChild:function(j,e){var f=this.owner;
var g=e[1];
var h;
if(g){if(e[0]){h=f._getClassTag(g);
h=h?h.charAt(0).toUpperCase()+h.substring(1):"All";
}else{h="Clear";
}var d=f._getClassCss(g);
var i=e[2]?e[2]:f._getDisplayName(g);
j.appendChild(this._getChild(d,h,i));
j.setAttribute("title",g.selectorText);
}},_getChild:function(e,i,f){var d="reRulePreview";
var h=(i.toLowerCase()=="a")?'<a class="'+d+'" href="#" unselectable="on" title="'+f+'">':'<span class="'+d+'">';
var g=a(h).html(f).css("cssText",e).css({visibility:"visible",marginLeft:"0px",overflowX:"hidden",clear:"none",position:"",cssFloat:"",styleFloat:"",width:"",cursor:"default"});
return a('<span class="reRuleIcon reIcon'+i+'">').append(g).get(0);
}};
b.LightweightApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightApplyClassDropDownView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightColorPickerView=function(d){b.LightweightColorPickerView.initializeBase(this,[d]);
};
b.LightweightColorPickerView.prototype={decorate:function(d){var h=a("head").find("style#re"+this.owner.get_name()+"StyleHolder");
if(!h.get(0)){h=a("<style></style>").attr("id","re"+this.owner.get_name()+"StyleHolder");
a("head").append(h);
}var f="";
if(d){f="a.reToolIcon.reTool.re"+this.owner.get_name()+":before{color:"+d+";}";
}try{h.text(f);
}catch(g){h.prop("styleSheet").cssText=f;
}},get_addCustomColorElement:function(){return null;
},get_currentColorWrapperElement:function(){return null;
},get_clearColorElement:function(){return null;
}};
b.LightweightColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightColorPickerView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorCheckBoxView=function(d){b.LightweightEditorCheckBoxView.initializeBase(this,[d]);
};
b.LightweightEditorCheckBoxView.prototype={};
b.LightweightEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorContextMenuView=function(d){b.LightweightEditorContextMenuView.initializeBase(this,[d]);
};
b.LightweightEditorContextMenuView.prototype={};
b.LightweightEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorContextMenuView",b.LightweightEditorToolStripView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSpellSuggestionBoxView=function(d){b.LightweightEditorSpellSuggestionBoxView.initializeBase(this,[d]);
};
b.LightweightEditorSpellSuggestionBoxView.prototype={renderChildren:function(){}};
b.LightweightEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpellSuggestionBoxView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSpinBoxView=function(d){b.LightweightEditorSpinBoxView.initializeBase(this,[d]);
};
b.LightweightEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=d.target||window.event.target;
if(a(f).hasClass("reSpinBoxIncrease")||a(f).hasClass("reSpinBoxDecrease")){return f;
}return null;
},_createUI:function(){var f=this.owner,d=f.get_element();
var h=document.createElement("div");
a(h).addClass("reSpinBox");
var e=document.createElement("input");
f._inputElement=e;
e.className="radfd_skipme";
e.type="text";
e.onclick=function(i){e.focus();
};
e.onkeypress=Function.createDelegate(f,f._onKeyPressHandler);
e.onchange=Function.createDelegate(f,f._onChangeHandler);
h.appendChild(e);
var g=document.createElement("div");
a(g).addClass("reSpinBoxButtons");
h.appendChild(g);
f._increaseButton=document.createElement("span");
a(f._increaseButton).addClass("reSpinBoxIncrease");
f._increaseButton.onclick=Function.createDelegate(f,f._onPlusMinusClickHandler);
g.appendChild(f._increaseButton);
f._decreaseButton=document.createElement("span");
a(f._decreaseButton).addClass("reSpinBoxDecrease");
f._decreaseButton.onclick=Function.createDelegate(f,f._onPlusMinusClickHandler);
g.appendChild(f._decreaseButton);
d.appendChild(h);
}};
b.LightweightEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorTextBoxView=function(d){b.LightweightEditorTextBoxView.initializeBase(this,[d]);
};
b.LightweightEditorTextBoxView.prototype={};
b.LightweightEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightImageDialogCallerView=function(d){b.LightweightImageDialogCallerView.initializeBase(this,[d]);
};
b.LightweightImageDialogCallerView.prototype={};
b.LightweightImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightInsertCustomLinkDropDownView=function(d){var e=this;
b.LightweightInsertCustomLinkDropDownView.initializeBase(e,[d]);
e._emptyIcon="reIconEmpty";
e._expandIcon="reIconAdd";
e._collapseIcon="reIconRemove";
e._linkCounter=0;
};
b.LightweightInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("ul");
d.className="reCustomLinks";
this._itemRootElement=d;
return this._itemRootElement;
},renderNewRow:function(d){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(e){var d=document.createElement("li");
e.appendChild(d);
return d;
},renderChild:function(e,f,j){delete e.item_index;
var p=this;
var k=p._linkCounter;
p._linkCounter++;
p.owner.FlatLinksArray[k]=f;
var g=f.childLinks&&f.childLinks.length;
var m=document.createElement("span");
m.innerHTML="&nbsp;";
m.className="reCustomLinksIcon ";
m.className+=g?p._expandIcon:p._emptyIcon;
if(g){$addHandler(m,"click",function(r){var s=Sys.UI.DomElement.containsCssClass(this,p._expandIcon);
var t=this.parentNode.getElementsByTagName("UL")[0];
if(t){t.style.display=s?"":"none";
var q=s?p._expandIcon:p._collapseIcon;
var i=s?p._collapseIcon:p._expandIcon;
Sys.UI.DomElement.removeCssClass(this,q);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(r);
});
}e.appendChild(m);
var l=null;
if(f.href){l=document.createElement("a");
l.href="#";
l.innerHTML=f.name;
e.appendChild(l);
this.owner.markItemContainer(l,k);
}else{l=document.createElement("span");
l.innerHTML=f.name;
e.appendChild(l);
}if(g){var o=document.createElement("ul");
e.appendChild(o);
var d=f.childLinks;
for(var h=0;
h<f.childLinks.length;
h++){var n=d[h];
this.renderChild(p.renderItemContainer(o),n);
}o.style.display="none";
}},getItemElements:function(d){return null;
}};
b.LightweightInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightInsertCustomLinkDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,i){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI,g="reToolDisabled",h="reToolText",f="reButtonSelected",e="disabled",c="aria-disabled",d="aria-pressed";
b.MobileEditorButtonView=function(j){Telerik.Web.UI.Editor.UI.MobileEditorButtonView.initializeBase(this,[j]);
};
b.MobileEditorButtonView.prototype={set_width:function(j){},get_width:function(){return a(this.owner.get_element()).width();
},set_height:function(j){},get_height:function(){return a(this.owner.get_element()).width();
},set_tooltipIncrease:function(j){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(j){},get_tooltipDecrease:function(){},enable:function(){a(this.owner.get_element()).removeClass(g).removeAttr(e);
if(this.owner.get_enableAriaSupport()){a(this.owner.get_element()).removeAttr(c);
}},disable:function(){a(this.owner.get_element()).addClass(g).attr(e,e);
if(this.owner.get_enableAriaSupport()){a(this.owner.get_element()).attr(c,true);
}},select:function(j){a(this.owner.get_element()).addClass(f).attr(j||d,"true");
},deselect:function(j){a(this.owner.get_element()).removeClass(f).removeAttr(j||d);
},set_text:function(l){var j=this.owner.get_element();
var k=a("."+h,j);
if(k.length>0){k.html(l);
}else{a('<span class="'+h+'">'+l+"</span>").appendTo(j);
}}};
b.MobileEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,h){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var f="role";
var e="presentation";
var i="unselectable";
var d="on";
var g="<ul/>";
var c="reToolList reToolDropDown";
b.MobileEditorDropDownView=function(j){b.MobileEditorDropDownView.initializeBase(this,[j]);
};
b.MobileEditorDropDownView.prototype={renderItemRoot:function(){var k=this;
var j=a(g).addClass(c).attr(i,d);
if(k.owner.get_enableAriaSupport()){j.attr(f,e);
}return j.get(0);
},renderNewRow:function(j){}};
b.MobileEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,i){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var d=".reToolValue";
var f='<span class="reIcon reIconSelected"></span>';
var g=".reIcon.reIconSelected";
var e="li";
var c="";
var h=/'/g;
b.MobileEditorUpdateableDropDownView=function(j){b.MobileEditorUpdateableDropDownView.initializeBase(this,[j]);
};
b.MobileEditorUpdateableDropDownView.prototype={getItemValueElement:function(){return a(this.owner.get_element()).find(d).get(0);
},updateElementsOnValueChange:function(j){var k=this;
a(k.getItemValueElement()).text(j.replace(h,c));
k._markSelectedItem();
},_markSelectedItem:function(){var m=this;
var j=m.owner;
var k=j.get_popupElement();
var l=null;
a(k).find(g).remove();
l=a(k).find(e).get(j._selectedIndex);
a(l).prepend(f);
}};
b.MobileEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorUpdateableDropDownView",b.MobileEditorDropDownView);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var e=/'/g;
var c="";
var d="font-family";
b.MobileFontNameView=function(g){b.MobileFontNameView.initializeBase(this,[g]);
};
b.MobileFontNameView.prototype={updateElementsOnValueChange:function(g){var h=this;
a(h.getItemValueElement()).css(d,g).text(g.replace(e,c));
h._markSelectedItem();
}};
b.MobileFontNameView.registerClass("Telerik.Web.UI.Editor.UI.MobileFontNameView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.MobileEditorSplitButtonView=function(d){b.MobileEditorSplitButtonView.initializeBase(this,[d]);
};
b.MobileEditorSplitButtonView.prototype={getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
}};
b.MobileEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorSplitButtonView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var c=Telerik.Web.UI;
var b=c.Editor;
var d=b.UI;
var e=c.EditorToolType;
d.MobileEditorToolStripView=function(g){d.MobileEditorToolStripView.initializeBase(this,[g]);
};
d.MobileEditorToolStripView.prototype={getSplitArrow:function(){},renderChildren:function(){var i=this;
var h=i.owner;
var l=h._itemRootElement;
var k=h.get_tools();
var g=h.get_items();
var j=new b.ToolFactory();
Array.forEach(k,function(m){m._rendermode="Mobile";
m.type=e.Button;
g.push(j.createTool(m,i._appendTool(l,m)));
});
},_appendTool:function(h,g){var i=h.ownerDocument;
var l=i.createElement("li");
var j=i.createElement("span");
j.className="reIcon reIcon"+g.name;
var k=i.createElement("span");
k.className="reToolText";
k.innerHTML=g.text;
h.appendChild(l);
l.appendChild(j);
l.appendChild(k);
return l;
}};
d.MobileEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorToolStripView",d.MobileEditorSplitButtonView);
})($telerik.$);
(function(a,r){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI,o="li",i="reFirstItem",n="reLastItem",p="reSelectedColor",q="."+p,l=".reIcon:first",g=".reCurrentColor",f=".reCurrentColorHex",e=".reClearButton",c=".reAddCustomColor",h=".reCurrentColorWrapper",d=".reClearButton",m='<li style="width: # width #; background-color: # bgcolor #;"></li>',j='<span title="# text #" role="button" class="reButton reAddCustomColor"># text #</span>',k='<div class="reColorPickerHeader">	<span role="button" title="Clear" class="reButton reClearButton" style="display: none;">		<span class="reIcon reIconClearButton"></span>	</span>	<span class="reCurrentColorWrapper">		<span style="background-color: # currentValue #;" class="reCurrentColor"></span>		<span class="reCurrentColorHex"># currentValueText #</span>	</span></div>';
b.MobileColorPickerView=function(s){b.MobileColorPickerView.initializeBase(this,[s]);
this._renderedItems=0;
};
b.MobileColorPickerView.prototype={renderChildren:function(){var x=this,v=x.owner;
for(var s=0;
s<v._items.length;
s++){var w=false;
var t=v._items[s];
w=v.get_itemsperrow()==1||(s>1&&0==(s%v.get_itemsperrow()));
if(w){v.renderNewRow();
}var u=v.renderItemContainer(t);
v.markItemContainer(u,s);
v.renderChild(u,t,s);
if(!t){a(u).hide();
x._showClearColorButton();
x.owner._clearColorItemIndex=s;
}}v.renderNewRow();
},renderItemContainer:function(u,t){var v=parseFloat(100/this.owner.get_itemsperrow(),10)+"%",s=a(m.replace(/# width #/g,v).replace(/# bgcolor #/g,t));
a(u).append(s);
return s.get(0);
},renderChild:function(s,t,u){var y=this,x=y.owner.get_itemsperrow(),v=y._renderedItems%x==0,w=y._renderedItems%x==x-1||u==y.owner._items.length-1;
if(v){a(s).addClass(i);
}if(w){a(s).addClass(n);
if(!v){a(s.previousSibling).removeClass(n);
}}if(t){y._renderedItems++;
}},_showClearColorButton:function(){a(e,this.get_popupElement()).show();
},renderHeader:function(){var w=this,t=w.owner,v=t.get_value(),u=t.isEmptyValue(v)?t.get_currentColorText():v,s=k.replace(/# currentValue #/ig,v).replace(/# currentValueText #/ig,u);
a(s).prependTo(w.get_popupElement());
},renderFooter:function(){var s=this.owner.get_addCustomColorText(),t=j.replace(/# text #/g,s);
a(t).appendTo(this.get_popupElement());
},updateElementsOnValueChange:function(s){var t=this;
if(t.owner.isEmptyValue(s)){s="";
}t._markSelectedItem();
t._updateHeader(s);
t._updateIcon(s);
},get_popupElement:function(){return this.owner.get_popupElement();
},_markSelectedItem:function(){var s=this.get_popupElement();
a(q,s).removeClass(p);
a(o+":eq("+this.owner._selectedIndex+")",s).addClass(p);
},_updateHeader:function(t){var s=this.get_popupElement();
a(g,s).css("background-color",t);
a(f,s).html(t||this.owner.get_currentColorText());
},_updateIcon:function(t){var s=t?"3px solid "+t:"0px";
a(l,this.owner.get_element()).css({"border-bottom":s});
},decorate:function(){},get_addCustomColorElement:function(){var s=this;
if(!s._addCustomColorElement){s._addCustomColorElement=a(c,s.get_popupElement()).get(0);
}return s._addCustomColorElement;
},get_currentColorWrapperElement:function(){var s=this;
if(!s._currentColorWrapperElement){s._currentColorWrapperElement=a(h,s.get_popupElement()).get(0);
}return s._currentColorWrapperElement;
},get_clearColorElement:function(){var s=this;
if(!s._clearColorElement){s._clearColorElement=a(d,s.get_popupElement()).get(0);
}return s._clearColorElement;
}};
b.MobileColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.MobileColorPickerView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,m){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var c=b.Editor.UI;
var g=Function.createDelegate;
var d=Sys.UI.DomElement.addCssClass;
var l=Sys.UI.DomElement.removeCssClass;
var k=$telerik.onEvent;
var i=b.EventType;
var h=i.Down;
var n=i.Up;
var j="reSpinBoxButtonHover";
c.MobileEditorSpinBoxView=function(o){c.MobileEditorSpinBoxView.initializeBase(this,[o]);
};
c.MobileEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.MobileEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(o){var p=o.target||window.event.target;
if(a(p).hasClass("reSpinBoxDecrease")||a(p).hasClass("reSpinBoxIncrease")){return p;
}return null;
},_createUI:function(){var q=this.owner,o=q.get_element();
var s=f("div","reSpinBox t-hbox");
var p=f("input","radfd_skipme t-flex");
p.type="text";
p.onkeypress=g(q,q._onKeyPressHandler);
p.onchange=g(q,q._onChangeHandler);
p.onclick=function(t){p.focus();
};
q._inputElement=p;
s.appendChild(p);
var r=f("div","reSpinBoxButtons");
s.appendChild(r);
q._decreaseButton=e("reSpinBoxDecrease",Function.createDelegate(q,q._onPlusMinusClickHandler));
r.appendChild(q._decreaseButton);
q._increaseButton=e("reSpinBoxIncrease",Function.createDelegate(q,q._onPlusMinusClickHandler));
r.appendChild(q._increaseButton);
o.appendChild(s);
}};
c.MobileEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorSpinBoxView",c.MobileEditorButtonView);
function f(p,o){var q=document.createElement(p);
a(q).addClass(o);
return q;
}function e(q,p){var o=f("span",q);
k(o,h,function(r){d(r.target,j);
});
k(o,n,function(r){l(r.target,j);
p(r);
});
return o;
}})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var c=["ApplyClass","reMobileIOS","reIOS","reAndroid","reCommentTitle","reCommentEdit","reCommentView","reCommentTextAreaWatermark","reEmptyMessage"];
var d="";
var e=/'/g;
b.MobileApplyClassDropDownView=function(g){b.MobileApplyClassDropDownView.initializeBase(this,[g]);
};
b.MobileApplyClassDropDownView.prototype={renderChild:function(m,h){var i=this.owner;
var j=h[1];
var k;
if(j){if(h[0]){k=i._getClassTag(j);
k=k?k.charAt(0).toUpperCase()+k.substring(1):"All";
}else{k="Clear";
}var g=i._getClassCss(j);
var l=h[2]?h[2]:i._getDisplayName(j);
this._appendIcon(m,k);
m.appendChild(this._getPreviewContainer(g,k,l));
m.setAttribute("title",j.selectorText);
}},_appendIcon:function(h,g){a('<span class="reIcon reIcon'+g+'" unselectable="on"></span>').appendTo(h);
},updateElementsOnValueChange:function(h){var i=this,g=this._getTextFromValue(h);
a(i.getItemValueElement()).text(g);
i._markSelectedItem();
},_getTextFromValue:function(l){var k=(l+"").replace(e,d);
if(k!=""){var g=k.split(" ");
for(var h=0,j=g.length;
h<j;
h++){if(a.inArray(g[h],c)!==-1){k="";
break;
}}}return k;
},_getPreviewContainer:function(h,l,i){var g="reRulePreview";
var k=(l.toLowerCase()=="a")?'<a class="reToolText '+g+'" href="#" unselectable="on" title="'+i+'">':'<span class="reToolText '+g+'">';
var j=a(k).html(i).css("cssText",h).css({visibility:"visible",marginLeft:"0px",overflowX:"hidden",clear:"none",position:"",cssFloat:"",styleFloat:"",width:"",cursor:"default"});
return j.get(0);
}};
b.MobileApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileApplyClassDropDownView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor,d="Telerik.Web.UI.Editor.IView";
c.IView=function(){};
c.IView.prototype={initialize:function(){},dispose:function(){},toolBarContainer:function(){},contentAreaContainer:function(){},modulesContainer:function(){},modeButtonsContainer:function(){},resizerHandle:function(){},zone:function(f){},changeMode:function(){},getModeFromEvent:function(f){},headerToolbarContainer:function(){},headerContainer:function(){}};
c.IView.registerInterface(d);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ViewBase";
c.ViewBase=function(f){this.editor=f;
};
c.ViewBase.prototype={initialize:function(){},dispose:function(){delete this.editor;
},toolBarContainer:function(){return this.zone("Top");
},contentAreaContainer:function(){return $get(this.editor.get_id()+"Center");
},modulesContainer:function(){return $get(this.editor.get_id()+"Module");
},modesRowContainer:function(){return a(".reBottomProperties",this.editor.get_element()).get(0);
},modeButtonsContainer:function(){return $get(this.editor.get_id()+"_ModesWrapper");
},resizerHandle:function(){return $get(this.editor.get_id()+"BottomResizer");
},zone:function(f){return $get(this.editor.get_id()+f);
},changeMode:function(){},getModeFromEvent:function(f){},headerToolbarContainer:function(){},headerContainer:function(){}};
c.ViewBase.registerClass(e,null,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ClassicView";
c.ClassicView=function(f){c.ClassicView.initializeBase(this,[f]);
};
c.ClassicView.prototype={toolBarContainer:function(){return this.zone("Top").firstChild;
},changeMode:function(n){var j=Sys.UI.DomElement;
var k=b.EditModes;
var l=this.editor.get_enableAriaSupport();
var h="reMode_";
switch(n){case k.Html:h+="html";
break;
case k.Design:h+="design";
break;
case k.Preview:h+="preview";
break;
}var o=this.modeButtonsContainer();
var g=o?o.getElementsByTagName("A"):[];
for(var m=0;
m<g.length;
m++){var f=g[m];
j.removeCssClass(f,"reMode_selected");
if(l&&typeof(j.removeAttribute)!="undefined"){j.removeAttribute("aria-pressed");
}if(j.containsCssClass(f,h)){j.addCssClass(f,"reMode_selected");
if(l&&typeof(j.setAttribute)!="undefined"){j.setAttribute("aria-pressed","true");
}}}},getModeFromEvent:function(h){var i=null,k=b.Editor.Utils.getElementParentByTag(h.target,"LI");
if(k){var j=b.EditModes;
var g=Sys.UI.DomElement;
var f=k.getElementsByTagName("A")[0];
if(g.containsCssClass(f,"reMode_html")){i=j.Html;
}else{if(g.containsCssClass(f,"reMode_design")){i=j.Design;
}else{i=j.Preview;
}}}return i;
}};
c.ClassicView.registerClass(e,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor;
var f="Telerik.Web.UI.Editor.LightweightView";
var d="_ModesWrapper";
c.LightweightView=function(g){c.LightweightView.initializeBase(this,[g]);
};
c.LightweightView.prototype={toolBarContainer:function(){return a(this.zone("Top")).find(".reToolBarWrapper").get(0);
},modesRowContainer:function(){var g=$get(this.editor.get_id()+d);
if(g){return g.parentNode;
}},changeMode:function(l){var g=this.editor.get_enableAriaSupport();
var m=this.modeButtonsContainer();
if(!m){return false;
}var k=a(m).find("a");
if(k.length==0){return false;
}k.removeClass("reSelectedMode");
if(g){k.removeAttr("aria-pressed");
}for(var h=0;
h<k.length;
h++){var j=a(k[h]);
if(l==this.getModeFromElement(j)){j.addClass("reSelectedMode");
if(g){j.attr("aria-pressed","true");
}}}},getModeFromEvent:function(h){var g=h.target.tagName=="a"?h.target:b.Editor.Utils.getElementParentByTag(h.target,"A");
if(!g){return null;
}return this.getModeFromElement(g);
},getModeFromElement:function(i){var g=a(i).attr("href");
var j=g.split("#");
var h=this._toPascalCase(j[1]);
return b.EditModes[h];
},_toPascalCase:function(g){var h=g.trim().toLowerCase();
return h.substr(0,1).toUpperCase()+h.substr(1);
}};
c.LightweightView.registerClass(f,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
b.MobileView=function(e){b.MobileView.initializeBase(this,[e]);
};
b.MobileView.prototype={toolBarContainer:function(){return this._getElement(".reToolZone");
},headerToolbarContainer:function(){return this._getElement("ul.reToolBar.t-hbox");
},headerContainer:function(){return this._getElement("div.reHeader");
},_getElement:function(e){return a(this.editor.get_element()).find(e).get(0);
}};
b.MobileView.registerClass("Telerik.Web.UI.Editor.MobileView",b.ViewBase,b.IView);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,f){var c=Telerik.Web.UI;
var b=c.Editor;
var d=c.RadEditor;
var e=c.RenderMode;
b.ViewFactory={getView:function(g){if(!d.isInstanceOfType(g)){throw new Error('Invalid argument! Argument "editor" is not a Telerik.Web.UI.RadEditor.');
}if(g._renderMode===e.Classic){return new b.ClassicView(g);
}if(g._renderMode===e.Lite){return new b.LightweightView(g);
}if(g._renderMode===e.Mobile){return new b.MobileView(g);
}return null;
}};
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.WordListConverter=function(){};
b.WordListConverter.prototype={removeOriginalElements:function(c){for(var d=0;
d<c.length;
d++){c[d].parentNode.removeChild(c[d]);
}},setItemsAttributes:function(d){var c=$telerik.isIE&&d.all?d.all:d.getElementsByTagName("*");
for(var f=0;
f<c.length;
f++){var e=c[f];
if(e.nodeType==1){if(this.isListItem(e)){var g=this.getItemData(e);
if(g){e.setAttribute("data-listId",g);
}else{if(/^(?:_TELERIK_I_)*_TELERIK_CHROME_/gi.test(e.innerHTML)){var h=e.style.marginLeft?e.style.marginLeft:"0";
h=h.replace(/[a-z]+/gi,"");
g="lxlevel"+h+"lfox";
e.setAttribute("data-listId",g);
}}}}}},getGroupedListItems:function(h){var l=[];
var n=this;
var d=function(q,v,o){var u=v.substring(v.indexOf("lfo"),v.length);
var s=o;
for(var r=o+1;
r<q.length;
r++){var p=n.getItemData(q[r]);
if(p){var t=p.substring(p.indexOf("lfo"),p.length);
if(p==v||t==u){s=r;
}}}return s;
};
var m=function(o,q,i){var p=d(o,q,i);
l.push({elements:o,startIndex:i,endIndex:p,data:q});
i=p+1;
return i;
};
var f=function(q){var p=0;
while(p<q.length){var o=q[p];
if(!o||o.nodeType!=1){continue;
}var r=n.getItemData(o);
if(r&&r!=""){p=m(q,r,p);
continue;
}if(o.tagName=="DIV"){f(o.children);
p++;
continue;
}if(o.tagName=="TABLE"){var s=o.getElementsByTagName("TD");
for(var i=0;
i<s.length;
i++){var t=s[i];
f(t.children);
}p++;
continue;
}p++;
}};
f(h);
var g=[];
var c=[];
for(var j=0;
j<l.length;
j++){var e=l[j];
for(var k=e.startIndex;
k<=e.endIndex;
k++){c.push(e.elements[k]);
}g.push(c.slice(0,c.length));
c=[];
}return g;
},getItemData:function(e){if(e.getAttribute("data-listId")){return e.getAttribute("data-listId");
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(e).replace(e.innerHTML,"");
var f=c.match(/mso-list:\s?(\w+)\s(\w+)\s(\w+)/i);
var d="";
if(f&&f[0]&&f[1]&&f[2]&&f[3]){d=f[1]+f[2]+f[3];
}return d;
},isListItem:function(d){if(!d||d.nodeType!=1){return false;
}if(d.tagName=="TABLE"||d.tagName=="TR"||d.tagName=="TD"||d.tagName=="TBODY"){return false;
}if(d.getAttribute("data-listId")){return true;
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(d).replace(d.innerHTML,"");
var e=c.match(/mso-list:\s?\w+\s\w+\s\w+/i);
if(e){return true;
}if(/MsoListParagraph/i.test(c)||/_TELERIK_I_/gm.test(this.markListItems(d.innerHTML))){return true;
}return false;
},removeListsIds:function(c){a(c).find("UL,OL").removeAttr("class");
},markListItems:function(c){c=c.replace(/(<!--\[if !supportLists\]-->)/gi,"_TELERIK_CHROME__TELERIK_I_");
c=c.replace(/(<span[^>]+:\s*symbol[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<span[^>]+mso-list:[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<p[^>]+(?:MsoListParagraph)[^>]+>)/gi,"$1_TELERIK_I_");
return c;
},getUnorderedListType:function(c){var d=null;
if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(c)){d="disc";
}else{if(/^o/.test(c)){d="circle";
}else{d="square";
}}return d;
},getOrderedListType:function(d){var c=null;
if(isNaN(d)){c=(/^[a-z]/.test(d)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(d)?"roman":"alpha");
}return c;
},createList:function(f,e,d){f=f?f:"UL";
var c=document.createElement(f);
if(d&&d!=""){c.className=d;
}if(e&&e!=""){c.style.listStyleType=e;
}return c;
},insertList:function(d,c){var f=c.parentNode;
var e=c.nextSibling;
if(e){f.insertBefore(d,e);
}else{f.appendChild(d);
}},replaceNbspWithSpace:function(c){c=c.replace(/&nbsp;/gm,"\u00a0");
return c;
},getElementLevel:function(c){var e=Telerik.Web.UI.Editor.Utils.getOuterHtml(c).match(/level[0-9]+/im);
var d=0;
if(e){var f=e[0].substring(5,e[0].length);
d=parseFloat(f);
}return d;
},setDataLevelAttribute:function(d){var f=true,c=null,e=0,g;
for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}if(c.style.marginLeft==""){e=this.getElementLevel(c);
if(e!=0&&e!=1){f=false;
break;
}}}if(f){for(g=0;
g<d.length;
g++){var h=d[g].style.marginLeft==""?0:parseFloat(d[g].style.marginLeft);
d[g].setAttribute("data-level",h);
}return;
}for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}e=this.getElementLevel(c);
c.setAttribute("data-level",e);
}},removeMarkers:function(d){var c=a(d).find("*");
a(c).removeAttr("data-level");
a(c).removeAttr("data-listId");
var e=d.innerHTML;
e=e.replace(/_TELERIK_I_/gm,"");
if($telerik.isIE7||$telerik.isIE8){e=e.replace(/\sdata-listid/gm,"");
}d.innerHTML=e;
},matchListItem:function(c,e){var d=this.getItemData(e.element);
if(!d){return;
}if(!/^_TELERIK_I_/.test(c)){return;
}c=c.replace(/_TELERIK_I_/gm,"");
var f;
var h=this.matchUnorderedList(c);
if(h){f=h[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
}e.html=c.replace(h[0],"");
e.type="UL";
e.listStyle=this.getUnorderedListType(f);
}var g=this.matchOrderedList(c);
if(g){f=g[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
f=f.replace(/[.()\s]+/gm,"");
}e.html=c.replace(g[0],"");
e.type="OL";
e.listStyle=this.getOrderedListType(f);
}},matchUnorderedList:function(c){return c.match(/^([\u2022\u00b7\u00a7\u00a0\u00fc\u00d8\u002dovn-]*\s*\u00a0*(&nbsp;)*)+/);
},matchOrderedList:function(c){var d=c.match(/^[0-9]+[\.\)][\s\u00a0]+/)||c.match(/^\([0-9]+\)[\s\u00a0]+/)||c.match(/^[a-z]+[\.\)][\s\u00a0]+/i)||c.match(/^\([a-z]+\)[\s\u00a0]+/i)||c.match(/^[0-9]+\.(?:[0-9]+\.)*[0-9]+[\s\u00a0]+/)||c.match(/^[\s\u00a0]+[ivxlcdm]+\.[\s\u00a0]+/i)||c.match(/^[a-z]+\s[0-9ivxlcdm.]+[\s\u00a0]{3,}/i);
return d;
},getListElementHtml:function(f,d){if(!f){return"";
}var c=document.createElement("DIV");
b.Utils.setElementInnerHtml(c,f);
var h=this.getInnerText(c);
h=h.trim();
var e=this.getInnerText(d);
var i=e.replace(/_TELERIK_I_/g,"");
i=i.replace(h,"");
i=i.replace(/\n\r?/gm," ");
i=i.replace(/&nbsp;/gm,"");
i=i.trim();
i=i.replace(/([.()])/gm,"\\$1");
var g=d.innerHTML;
g=g.replace(/\n\r?/gm," ");
var j=new RegExp("([^a-z0-9])("+i+")([^a-z0-9])","im");
g=g.replace(j,"$1$3");
g=g.replace(/_TELERIK_I_/g,"");
return g;
},getInnerText:function(c){var d=c.innerHTML;
d=d.replace(/<!--(.|\s)*?-->/gi,"");
d=d.replace(/<\/?[^>]+?\/?>/gm,"");
return d;
},clearListItemHtml:function(f){var d=$telerik.isIE&&f.all?f.all:f.getElementsByTagName("*");
for(var c=d.length-1;
c>=0;
c--){if(d[c].nodeType==1){var e=this.getInnerText(d[c]);
if(/^\s+$/.test(e)){b.Utils.removeNode(d[c]);
continue;
}e=e.replace(/&nbsp;/gm,"");
e=e.replace(/\s+/gm,"");
if(e==""){d[c].parentNode.removeChild(d[c]);
}}}b.Utils.removeEmptyElements(f);
},convert:function(k){k=b.Utils.clearInvalidHtml(k);
k=this.markListItems(k);
k=b.Utils.clearComments(k);
var c=document.createElement("div");
b.Utils.setElementInnerHtml(c,k);
this.setItemsAttributes(c);
k=c.innerHTML;
k=k.replace(/_TELERIK_CHROME_/gm,"");
c.innerHTML=k;
var g=this.getGroupedListItems(c.children);
for(var m=0;
m<g.length;
m++){var j=g[m];
this.setDataLevelAttribute(j);
var t=null,r=null,p=-1,q=null,y=[];
for(var f=0;
f<j.length;
f++){var d=j[f];
if(!d){return;
}var s="",z=null,x=null,h="";
var e=this.getInnerText(d);
var v={};
v.element=d;
s=this.replaceNbspWithSpace(e);
this.matchListItem(s,v);
if(v.type){z=v.type;
x=v.listStyle;
h=v.html;
}var u=this.getItemData(d);
if(h==""&&u==""){if(t){var n=d.innerHTML;
n=n.replace(/_TELERIK_I_/g,"");
var o=this.getInnerText(d);
o=o.replace(/_TELERIK_I_/g,"").trim();
var l="&nbsp;";
if(o&&o!=""){l=n;
}t.children[t.children.length-1].innerHTML=t.children[t.children.length-1].innerHTML+"<p>"+l+"</p>";
y.push(d);
}continue;
}if(z){q=parseFloat(d.getAttribute("data-level")||0);
if(r&&q>p){if(t&&t.className!=u){t=this.createList(z,x,u);
r.appendChild(t);
}}else{if(q<p){t=a(c).find("."+u+":last")[0];
if(!t){var w=c.getElementsByTagName(z);
if(w.length>0){t=w[w.length-1];
}}}else{if(!t){t=this.createList(z,x,u);
this.insertList(t,d);
}}}r=document.createElement("li");
r.innerHTML=this.getListElementHtml(h,d);
this.clearListItemHtml(r);
if(!t||(t.className!=u)){t=this.createList(z,x,u);
this.insertList(t,d);
}t.appendChild(r);
y.push(d);
p=q;
}else{p=0;
x=null;
t=null;
r=null;
}}this.removeOriginalElements(y);
this.removeListsIds(c);
}this.removeMarkers(c);
return c.innerHTML;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.FormElementsSelectionUtils={_removeHandler:function(c,d,e){if(!c||!d){return;
}if(c&&e){a(c).off(d,e);
}else{if(!e){a(c).off(d);
}}},_addHandler:function(c,d,e,f){if(f){a(c).on(d,f,e);
}else{a(c).on(d,e);
}},_switchEditorEditableMode:function(c,d){if(c.nodeName=="BODY"){c.ownerDocument.designMode=d?"on":"off";
}else{c.contentEditable=d;
}},addEventHandler:function(d,g,f,h,c){if(!d||!g){return;
}var i;
if(c){i=a.proxy(d,this,c);
}else{i=a.proxy(d,this);
}if(h&&!f){var e=this.editor.get_contentArea();
b.FormElementsSelectionUtils._removeHandler(e,g,h);
b.FormElementsSelectionUtils._addHandler(e,g,i,h);
}else{b.FormElementsSelectionUtils._removeHandler(f,g);
b.FormElementsSelectionUtils._addHandler(f,g,i);
}},getBrowserRange:function(c){var e=c.getSelection();
var d=e.getRange(true);
if(!d){c.setFocus();
d=e.getRange(true);
}return d;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){var c=b.FormElementsSelectionUtils;
b.CheckboxesSelection=function(d){this.editor=d;
this.mouseup="mouseup.radEditorCheckboxesFix";
this.mousemove="mousemove.radEditorCheckboxesFix";
this.mousedown="mousedown.radEditorCheckboxesFix";
this.mouseout="mouseout.radEditorCheckboxesFix";
this.mouseover="mouseover.radEditorCheckboxesFix";
this.checkboxSelector="input[type=checkbox]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.CheckboxesSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE){d=this._mouseupHandlerIE,e=this.mouseup;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.checkboxSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.checkboxSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.checkboxSelector);
return;
}else{if($telerik.isOpera){d=this._mouseupHandlerIE,e=this.mousedown;
}}}}this._enableSelecting(d,e,null,this.checkboxSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE){this._removeHandler(d,this.mouseup,this.checkboxSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousemove,this.checkboxSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousedown,this.checkboxSelector);
}else{if($telerik.isOpera){this._removeHandler(d,this.mousedown,this.checkboxSelector);
}}}}},_mouseupHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
var g=c.getBrowserRange(e);
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
},_mousedownHandlerFirefox:function(d){this._checkCheckbox(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(e,d){var f=this.editor.getSelectedElement();
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
if(f&&f.tagName=="INPUT"&&f.type=="checkbox"){this.editor.selectElement(f);
}else{this.editor.getSelection().selectRange(e);
}d.target.style.cursor="";
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
this.editor.selectElement(d.target);
},_checkCheckbox:function(d){if($telerik.isSafari||$telerik.isOpera){this._checkCheckboxSafariOpera(d);
}else{this._checkCheckboxFirefoxIE(d);
}},_checkCheckboxFirefoxIE:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
}else{d.checked=true;
a(d).attr("checked","checked");
}},_checkCheckboxSafariOpera:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
d.checked=true;
}else{a(d).attr("checked","checked");
d.checked=false;
}},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.CheckboxesSelection.registerClass("Telerik.Web.UI.Editor.CheckboxesSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){b.FormElementsSelection=function(c){this.editor=c;
this.checkboxesSelection=null;
this.radioButtonsSelection=null;
this.selectsSelection=null;
this.standardButtonsSelection=null;
};
b.FormElementsSelection.prototype={enableFormElementsSelecting:function(){this.enableRadioButtonsSelecting();
this.enableCheckboxesSelecting();
this.enableSelectsSelecting();
this.enableStandardButtonsSelecting();
},enableRadioButtonsSelecting:function(){this.radioButtonsSelection=new b.RadioButtonsSelection(this.editor);
this.radioButtonsSelection.enableSelecting();
},enableCheckboxesSelecting:function(){this.checkboxesSelection=new b.CheckboxesSelection(this.editor);
this.checkboxesSelection.enableSelecting();
},enableSelectsSelecting:function(){this.selectsSelection=new b.SelectsSelection(this.editor);
this.selectsSelection.enableSelecting();
},enableStandardButtonsSelecting:function(){var c=this;
c.standardButtonsSelection=new b.StandardButtonsSelection(c.editor);
c.standardButtonsSelection.enableSelecting();
},disableFormElementsSelecting:function(){this.disableRadioButtonsSelecting();
this.disableCheckboxesSelecting();
this.disableSelectsSelecting();
this.disableStandardButtonsSelecting();
},disableRadioButtonsSelecting:function(){if(this.radioButtonsSelection){this.radioButtonsSelection.disableSelecting();
}},disableCheckboxesSelecting:function(){if(this.checkboxesSelection){this.checkboxesSelection.disableSelecting();
}},disableSelectsSelecting:function(){if(this.selectsSelection){this.selectsSelection.disableSelecting();
}},disableStandardButtonsSelecting:function(){var c=this.standardButtonsSelection;
if(c){c.disableSelecting();
}}};
b.FormElementsSelection.registerClass("Telerik.Web.UI.Editor.FormElementsSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.RadioButtonsSelection=function(d){this.editor=d,this.mousedown="mousedown.radEditorRadioButtonsFix";
this.mouseover="mouseover.radEditorRadioButtonsFix";
this.mouseout="mouseout.radEditorRadioButtonsFix";
this.mousemove="mousemove.radEditorRadioButtonsFix";
this.radioButtonSelector="input[type=radio]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.RadioButtonsSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE||$telerik.isOpera){d=this._mousedownHandlerIE,e=this.mousedown;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.radioButtonSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.radioButtonSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.radioButtonSelector);
return;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}}}this._enableSelecting(d,e,null,this.radioButtonSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE||$telerik.isOpera){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousemove,this.radioButtonSelector);
}}}},_mousedownHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkRadioButton(d.target);
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
this._checkRadioButton(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
var g=c.getBrowserRange(e);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){this._checkRadioButton(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="INPUT"&&g.type=="radio"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}e.target.style.cursor="";
},_checkRadioButton:function(d){var g=d.getAttribute("name");
var f=d.parentNode.children;
for(var h=0;
h<f.length;
h++){var e=f[h];
if(e.nodeType==1&&e.nodeName=="INPUT"&&e.getAttribute("type")=="radio"&&e.getAttribute("name")==g&&e.getAttribute("checked")){e.checked=false;
e.removeAttribute("checked");
}}d.checked=true;
a(d).attr("checked","checked");
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.RadioButtonsSelection.registerClass("Telerik.Web.UI.Editor.RadioButtonsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.SelectsSelection=function(d){this.editor=d;
this.mousemove="mousemove.radEditorSelectFix";
this.mousedown="mousedown.radEditorSelectFix";
this.mouseout="mouseout.radEditorSelectFix";
this.selectSelector="SELECT";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.SelectsSelection.prototype={enableSelecting:function(){if($telerik.isFirefox){this._enableSelecting(this._mousemoveHandlerFirefox,this.mousemove,null,this.selectSelector);
}else{if($telerik.isSafari){this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.selectSelector);
}}},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.selectSelector);
this._removeHandler(d,this.mouseout,this.selectSelector);
this._removeHandler(d,this.mousemove,this.selectSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mousedown,this.selectSelector);
}}},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
this._switchEditorEditableMode(d,false);
var g=e.getSelection().getRange();
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){if(d.which==2){return;
}this.editor.selectElement(d.target);
if(d.which==1){this._switchEditorEditableMode(this.editor.get_contentArea(),true);
}},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="SELECT"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.SelectsSelection.registerClass("Telerik.Web.UI.Editor.SelectsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,d,g){var b=d.Editor;
var h=b.Utils;
var e=b.FormElementsSelectionUtils;
var c=d.EditModes;
var f="input[type=button],input[type=submit],button";
b.StandardButtonsSelection=function(i){this.editor=i;
};
b.StandardButtonsSelection.prototype={enableSelecting:function(){var i=this;
if(i._shouldEnableSelecting()){e.addEventHandler.call(i,i._mouseEventHandler,i._getEventType(),g,f,g);
i._selectingEnabled=true;
}},disableSelecting:function(){var i=this;
if(i._selectingEnabled){e._removeHandler(i.editor.get_contentArea(),i._getEventType(),f);
i._selectingEnabled=g;
}},_shouldEnableSelecting:function(){return $telerik.isFirefox||$telerik.isSafari||($telerik.isIE10Mode&&!$telerik.isIE10);
},_getEventType:function(){return($telerik.isFirefox||$telerik.isIE?"mousedown":"mouseup")+".radEditorButtonsFix";
},_getSelector:function(){return f;
},_mouseEventHandler:function(i){var k=this;
var j=i.target;
if(!k._shouldCancelSelecting(j)){k._selectTarget(j);
}},_shouldCancelSelecting:function(j){var i=this.editor;
if(i.get_mode()==c.Design){return i.get_enableImmutableElements()?h.isImmutableNode(j):false;
}return true;
},_selectTarget:function(l){var m=this;
var j=m.editor;
var i=j.getSelection().getRange(true);
var k=i?new b.DomRange(i):b.DomRange.createRange(j.get_document());
k[$telerik.isSafari&&h.isTag(l,"button")?"selectNodeContents":"selectNode"](l);
k.select();
}};
b.StandardButtonsSelection.registerClass("Telerik.Web.UI.Editor.StandardButtonsSelection",null);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,g){var d=b.Editor;
var e=d.FormElementsSelectionUtils;
var c=Telerik.Web.Browser;
var f=c.ie&&c.version<9;
d.TextFieldsTyping=function(h){this.editor=h;
this.mousedown="mousedown.radEditorTextFieldsFix";
this.blur="blur.radEditorTextFieldsFix";
this.mouseenter="mouseenter.radEditorTextFieldsFix";
this.mouseout="mouseout.radEditorTextFieldsFix";
this.selector="input[type=text],input[type=password],textarea";
this.excludeCondition=h.get_enableImmutableElements()?d.Utils.isImmutableNode:function(){return false;
};
};
d.TextFieldsTyping.prototype={enableTextFieldsTyping:function(){var h,i;
if(c.ie&&c.version<11){h=this._mousedownHandlerIE,i=this.mousedown;
}else{h=this._mouseenterHandlerFirefox,i=this.mouseenter;
}this.enableTyping(h,i,null,this.selector);
},enableTyping:function(i,k,j,l,h){e.addEventHandler.call(this,i,k,j,l,h);
},disableTextFieldsTyping:function(){var h=this.editor.get_contentArea();
if(c.ie&&c.version<11){this._removeHandler(h,this.mousedown,this.selector);
this._removeHandler(h,this.blur,this.selector);
}else{this._removeHandler(h,this.mouseenter,this.selector);
this._removeHandler(h,this.mouseout,this.selector);
this._removeHandler(h,this.mousedown,this.selector);
this._removeHandler(h,this.blur,this.selector);
}},_mousedownHandlerIE:function(j){var k=j.target;
var i=this.editor;
var h=i.get_document().activeElement;
if(this.excludeCondition(k)){return;
}if(!$telerik.$(h).is(k)){i.selectElement(k,true);
if(!f){this.enableTyping(this._blurHandlerIE,this.blur,null,this.selector);
}}},_blurHandlerIE:function(h){this._saveContent(h.target);
},_mouseenterHandlerFirefox:function(i){var k=i.target;
var h=this.editor;
if(h.get_mode()!=b.EditModes.Design||this.excludeCondition(k)){return;
}var j=h.getSelection().getRange(true);
this._switchEditorEditableMode(h.get_contentArea(),false);
this.enableTyping(this._mouseoutHandlerFirefox,this.mouseout,k,null,j);
this.enableTyping(this._mousedownHandlerFirefox,this.mousedown,k);
},_mousedownHandlerFirefox:function(j){var i=this.editor;
var l=j.target;
var k=a(l);
var h=i.get_document().activeElement;
if(!k.is(h)){if(a(h).is(this.selector)){this._removeHandler(h,this.blur);
this._blurHandlerFirefox({target:h});
this._switchEditorEditableMode(i.get_contentArea(),false);
}k.focus();
i.raiseEvent("selectionChange",Sys.EventArgs.Empty);
this.enableTyping(this._blurHandlerFirefox,this.blur,l);
}},_blurHandlerFirefox:function(i){this._saveContent(i.target);
var h=this.editor;
if(!h.get_editable()){this._switchEditorEditableMode(h.get_contentArea(),true);
}},_mouseoutHandlerFirefox:function(k,j){var i=this.editor;
var h=i.get_document().activeElement;
if(!a(h).is(this.selector)){this._switchEditorEditableMode(i.get_contentArea(),true);
if(k&&j){i.getSelection().selectRange(k);
}}},_removeHandler:function(h,i,j){e._removeHandler(h,i,j);
},_switchEditorEditableMode:function(h,i){e._switchEditorEditableMode(h,i);
},_saveContent:function(h){var i=h.value;
if(h.nodeName=="TEXTAREA"){h.defaultValue=i;
}else{if(h.nodeName=="INPUT"){$telerik.$(h).attr("value",i);
}}}};
d.TextFieldsTyping.registerClass("Telerik.Web.UI.Editor.TextFieldsTyping",null);
})($telerik.$,Telerik.Web.UI);
